"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_pages-dir-node_components_Game_tsx";
exports.ids = ["_pages-dir-node_components_Game_tsx"];
exports.modules = {

/***/ "(pages-dir-node)/./components/Game.tsx":
/*!*****************************!*\
  !*** ./components/Game.tsx ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Game)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_phaser_GameScene__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/phaser/GameScene */ \"(pages-dir-node)/./lib/phaser/GameScene.ts\");\n/* harmony import */ var _lib_phaser_BattleScene__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/phaser/BattleScene */ \"(pages-dir-node)/./lib/phaser/BattleScene.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_phaser_GameScene__WEBPACK_IMPORTED_MODULE_3__]);\n_lib_phaser_GameScene__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\nfunction Game({ className = \"\", tileSize = 32, mapWidth = 50, mapHeight = 38, playerSpeed = 200, initialX, initialY, onPokemonSpotted, onPokemonCleared, onSpawnsUpdate, playerPokemon }) {\n    const gameRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const phaserGameRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"Game.useEffect\": ()=>{\n            if (!gameRef.current) return;\n            const getSize = {\n                \"Game.useEffect.getSize\": ()=>({\n                        w: gameRef.current.clientWidth,\n                        h: gameRef.current.clientHeight\n                    })\n            }[\"Game.useEffect.getSize\"];\n            const { w, h } = getSize();\n            const config = {\n                type: phaser__WEBPACK_IMPORTED_MODULE_1__.AUTO,\n                width: Math.max(320, w),\n                height: Math.max(240, h),\n                parent: gameRef.current,\n                backgroundColor: \"#0b0e14\",\n                physics: {\n                    default: \"arcade\",\n                    arcade: {\n                        gravity: {\n                            x: 0,\n                            y: 0\n                        },\n                        debug: false\n                    }\n                },\n                scene: [\n                    _lib_phaser_GameScene__WEBPACK_IMPORTED_MODULE_3__.GameScene,\n                    _lib_phaser_BattleScene__WEBPACK_IMPORTED_MODULE_4__.BattleScene\n                ],\n                scale: {\n                    mode: phaser__WEBPACK_IMPORTED_MODULE_1__.Scale.RESIZE,\n                    autoCenter: phaser__WEBPACK_IMPORTED_MODULE_1__.Scale.CENTER_BOTH\n                }\n            };\n            phaserGameRef.current = new phaser__WEBPACK_IMPORTED_MODULE_1__.Game(config);\n            const startOrRestart = {\n                \"Game.useEffect.startOrRestart\": ()=>{\n                    const game = phaserGameRef.current;\n                    const data = {\n                        tileSize,\n                        mapWidth,\n                        mapHeight,\n                        playerSpeed,\n                        initialX,\n                        initialY,\n                        onPokemonSpotted,\n                        onPokemonCleared,\n                        onSpawnsUpdate,\n                        playerPokemon\n                    };\n                    const mgr = game.scene;\n                    if (mgr.isActive(\"GameScene\")) {\n                        mgr.stop(\"GameScene\");\n                        mgr.start(\"GameScene\", data);\n                    } else {\n                        mgr.start(\"GameScene\", data);\n                    }\n                }\n            }[\"Game.useEffect.startOrRestart\"];\n            if (phaserGameRef.current.isBooted) startOrRestart();\n            else phaserGameRef.current.events.once(phaser__WEBPACK_IMPORTED_MODULE_1__.Core.Events.READY, startOrRestart);\n            const ro = new ResizeObserver({\n                \"Game.useEffect\": ()=>{\n                    if (!phaserGameRef.current || !gameRef.current) return;\n                    const { w: nw, h: nh } = getSize();\n                    phaserGameRef.current.scale.resize(Math.max(320, nw), Math.max(240, nh));\n                }\n            }[\"Game.useEffect\"]);\n            ro.observe(gameRef.current);\n            return ({\n                \"Game.useEffect\": ()=>{\n                    ro.disconnect();\n                    if (phaserGameRef.current) {\n                        phaserGameRef.current.destroy(true);\n                        phaserGameRef.current = null;\n                    }\n                }\n            })[\"Game.useEffect\"];\n        }\n    }[\"Game.useEffect\"], [\n        tileSize,\n        mapWidth,\n        mapHeight,\n        playerSpeed,\n        initialX,\n        initialY,\n        onPokemonSpotted,\n        onPokemonCleared,\n        onSpawnsUpdate,\n        playerPokemon\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: gameRef,\n        className: `game-container ${className}`,\n        style: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Sahith\\\\OneDrive\\\\Desktop\\\\yokaihunt\\\\frontend\\\\components\\\\Game.tsx\",\n        lineNumber: 109,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU8sQ0FBQ2lELE9BQU8sQ0FBQzt3QkFDOUJsRCxjQUFjQyxPQUFPLEdBQUc7b0JBQzFCO2dCQUNGOztRQUNGO3lCQUFHO1FBQUNaO1FBQVVDO1FBQVVDO1FBQVdDO1FBQWFDO1FBQVVDO1FBQVVDO1FBQWtCQztRQUFrQkM7UUFBZ0JDO0tBQWM7SUFFdEkscUJBQ0UsOERBQUNxRDtRQUNDQyxLQUFLckQ7UUFDTFgsV0FBVyxDQUFDLGVBQWUsRUFBRUEsV0FBVztRQUN4Q2lFLE9BQU87WUFBRTNDLE9BQU87WUFBUUcsUUFBUTtRQUFPOzs7Ozs7QUFHN0MiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2FoaXRoXFxPbmVEcml2ZVxcRGVza3RvcFxceW9rYWlodW50XFxmcm9udGVuZFxcY29tcG9uZW50c1xcR2FtZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcblxyXG5pbXBvcnQgKiBhcyBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyBHYW1lU2NlbmUgfSBmcm9tIFwiLi4vbGliL3BoYXNlci9HYW1lU2NlbmVcIjtcclxuaW1wb3J0IHsgQmF0dGxlU2NlbmUgfSBmcm9tIFwiLi4vbGliL3BoYXNlci9CYXR0bGVTY2VuZVwiO1xyXG5cclxuaW50ZXJmYWNlIEdhbWVQcm9wcyB7XHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gIHRpbGVTaXplPzogbnVtYmVyO1xyXG4gIG1hcFdpZHRoPzogbnVtYmVyO1xyXG4gIG1hcEhlaWdodD86IG51bWJlcjtcclxuICBwbGF5ZXJTcGVlZD86IG51bWJlcjtcclxuICBpbml0aWFsWD86IG51bWJlcjtcclxuICBpbml0aWFsWT86IG51bWJlcjtcclxuICBvblBva2Vtb25TcG90dGVkPzogKHBva2Vtb246IHsgbmFtZTogc3RyaW5nOyBzcHJpdGVVcmw6IHN0cmluZzsgcG9rZUlkOiBudW1iZXIgfSkgPT4gdm9pZDtcclxuICBvblBva2Vtb25DbGVhcmVkPzogKCkgPT4gdm9pZDtcclxuICBvblNwYXduc1VwZGF0ZT86IChzcGF3bnM6IGFueVtdKSA9PiB2b2lkO1xyXG4gIHBsYXllclBva2Vtb24/OiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdhbWUoe1xyXG4gIGNsYXNzTmFtZSA9IFwiXCIsXHJcbiAgdGlsZVNpemUgPSAzMixcclxuICBtYXBXaWR0aCA9IDUwLFxyXG4gIG1hcEhlaWdodCA9IDM4LFxyXG4gIHBsYXllclNwZWVkID0gMjAwLFxyXG4gIGluaXRpYWxYLFxyXG4gIGluaXRpYWxZLFxyXG4gIG9uUG9rZW1vblNwb3R0ZWQsXHJcbiAgb25Qb2tlbW9uQ2xlYXJlZCxcclxuICBvblNwYXduc1VwZGF0ZSxcclxuICBwbGF5ZXJQb2tlbW9uLFxyXG59OiBHYW1lUHJvcHMpIHtcclxuICBjb25zdCBnYW1lUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcclxuICBjb25zdCBwaGFzZXJHYW1lUmVmID0gdXNlUmVmPFBoYXNlci5HYW1lIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWdhbWVSZWYuY3VycmVudCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGdldFNpemUgPSAoKSA9PiAoeyB3OiBnYW1lUmVmLmN1cnJlbnQhLmNsaWVudFdpZHRoLCBoOiBnYW1lUmVmLmN1cnJlbnQhLmNsaWVudEhlaWdodCB9KTtcclxuICAgIGNvbnN0IHsgdywgaCB9ID0gZ2V0U2l6ZSgpO1xyXG5cclxuICAgIGNvbnN0IGNvbmZpZzogUGhhc2VyLlR5cGVzLkNvcmUuR2FtZUNvbmZpZyA9IHtcclxuICAgICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICAgIHdpZHRoOiBNYXRoLm1heCgzMjAsIHcpLFxyXG4gICAgICBoZWlnaHQ6IE1hdGgubWF4KDI0MCwgaCksXHJcbiAgICAgIHBhcmVudDogZ2FtZVJlZi5jdXJyZW50LFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzBiMGUxNFwiLFxyXG4gICAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogXCJhcmNhZGVcIixcclxuICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgIGdyYXZpdHk6IHsgeDogMCwgeTogMCB9LFxyXG4gICAgICAgICAgZGVidWc6IGZhbHNlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHNjZW5lOiBbR2FtZVNjZW5lLCBCYXR0bGVTY2VuZV0sXHJcbiAgICAgIHNjYWxlOiB7XHJcbiAgICAgICAgbW9kZTogUGhhc2VyLlNjYWxlLlJFU0laRSxcclxuICAgICAgICBhdXRvQ2VudGVyOiBQaGFzZXIuU2NhbGUuQ0VOVEVSX0JPVEgsXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIHBoYXNlckdhbWVSZWYuY3VycmVudCA9IG5ldyBQaGFzZXIuR2FtZShjb25maWcpO1xyXG5cclxuICAgIGNvbnN0IHN0YXJ0T3JSZXN0YXJ0ID0gKCkgPT4ge1xyXG4gICAgICBjb25zdCBnYW1lID0gcGhhc2VyR2FtZVJlZi5jdXJyZW50IGFzIFBoYXNlci5HYW1lO1xyXG4gICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIHRpbGVTaXplLFxyXG4gICAgICAgIG1hcFdpZHRoLFxyXG4gICAgICAgIG1hcEhlaWdodCxcclxuICAgICAgICBwbGF5ZXJTcGVlZCxcclxuICAgICAgICBpbml0aWFsWCxcclxuICAgICAgICBpbml0aWFsWSxcclxuICAgICAgICBvblBva2Vtb25TcG90dGVkLFxyXG4gICAgICAgIG9uUG9rZW1vbkNsZWFyZWQsXHJcbiAgICAgICAgb25TcGF3bnNVcGRhdGUsXHJcbiAgICAgICAgcGxheWVyUG9rZW1vbixcclxuICAgICAgfTtcclxuICAgICAgY29uc3QgbWdyID0gZ2FtZS5zY2VuZTtcclxuICAgICAgaWYgKG1nci5pc0FjdGl2ZShcIkdhbWVTY2VuZVwiKSkge1xyXG4gICAgICAgIG1nci5zdG9wKFwiR2FtZVNjZW5lXCIpO1xyXG4gICAgICAgIG1nci5zdGFydChcIkdhbWVTY2VuZVwiLCBkYXRhKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBtZ3Iuc3RhcnQoXCJHYW1lU2NlbmVcIiwgZGF0YSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaWYgKHBoYXNlckdhbWVSZWYuY3VycmVudC5pc0Jvb3RlZCkgc3RhcnRPclJlc3RhcnQoKTtcclxuICAgIGVsc2UgcGhhc2VyR2FtZVJlZi5jdXJyZW50LmV2ZW50cy5vbmNlKFBoYXNlci5Db3JlLkV2ZW50cy5SRUFEWSwgc3RhcnRPclJlc3RhcnQpO1xyXG5cclxuICAgIGNvbnN0IHJvID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHtcclxuICAgICAgaWYgKCFwaGFzZXJHYW1lUmVmLmN1cnJlbnQgfHwgIWdhbWVSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgICBjb25zdCB7IHc6IG53LCBoOiBuaCB9ID0gZ2V0U2l6ZSgpO1xyXG4gICAgICBwaGFzZXJHYW1lUmVmLmN1cnJlbnQuc2NhbGUucmVzaXplKE1hdGgubWF4KDMyMCwgbncpLCBNYXRoLm1heCgyNDAsIG5oKSk7XHJcbiAgICB9KTtcclxuICAgIHJvLm9ic2VydmUoZ2FtZVJlZi5jdXJyZW50KTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICByby5kaXNjb25uZWN0KCk7XHJcbiAgICAgIGlmIChwaGFzZXJHYW1lUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBwaGFzZXJHYW1lUmVmLmN1cnJlbnQuZGVzdHJveSh0cnVlKTtcclxuICAgICAgICBwaGFzZXJHYW1lUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFt0aWxlU2l6ZSwgbWFwV2lkdGgsIG1hcEhlaWdodCwgcGxheWVyU3BlZWQsIGluaXRpYWxYLCBpbml0aWFsWSwgb25Qb2tlbW9uU3BvdHRlZCwgb25Qb2tlbW9uQ2xlYXJlZCwgb25TcGF3bnNVcGRhdGUsIHBsYXllclBva2Vtb25dKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXZcclxuICAgICAgcmVmPXtnYW1lUmVmfVxyXG4gICAgICBjbGFzc05hbWU9e2BnYW1lLWNvbnRhaW5lciAke2NsYXNzTmFtZX1gfVxyXG4gICAgICBzdHlsZT17eyB3aWR0aDogXCIxMDAlXCIsIGhlaWdodDogXCIxMDAlXCIgfX1cclxuICAgIC8+XHJcbiAgKTtcclxufVxyXG4iXSwibmFtZXMiOlsiUGhhc2VyIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiR2FtZVNjZW5lIiwiQmF0dGxlU2NlbmUiLCJHYW1lIiwiY2xhc3NOYW1lIiwidGlsZVNpemUiLCJtYXBXaWR0aCIsIm1hcEhlaWdodCIsInBsYXllclNwZWVkIiwiaW5pdGlhbFgiLCJpbml0aWFsWSIsIm9uUG9rZW1vblNwb3R0ZWQiLCJvblBva2Vtb25DbGVhcmVkIiwib25TcGF3bnNVcGRhdGUiLCJwbGF5ZXJQb2tlbW9uIiwiZ2FtZVJlZiIsInBoYXNlckdhbWVSZWYiLCJjdXJyZW50IiwiZ2V0U2l6ZSIsInciLCJjbGllbnRXaWR0aCIsImgiLCJjbGllbnRIZWlnaHQiLCJjb25maWciLCJ0eXBlIiwiQVVUTyIsIndpZHRoIiwiTWF0aCIsIm1heCIsImhlaWdodCIsInBhcmVudCIsImJhY2tncm91bmRDb2xvciIsInBoeXNpY3MiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZ3Jhdml0eSIsIngiLCJ5IiwiZGVidWciLCJzY2VuZSIsInNjYWxlIiwibW9kZSIsIlNjYWxlIiwiUkVTSVpFIiwiYXV0b0NlbnRlciIsIkNFTlRFUl9CT1RIIiwic3RhcnRPclJlc3RhcnQiLCJnYW1lIiwiZGF0YSIsIm1nciIsImlzQWN0aXZlIiwic3RvcCIsInN0YXJ0IiwiaXNCb290ZWQiLCJldmVudHMiLCJvbmNlIiwiQ29yZSIsIkV2ZW50cyIsIlJFQURZIiwicm8iLCJSZXNpemVPYnNlcnZlciIsIm53IiwibmgiLCJyZXNpemUiLCJvYnNlcnZlIiwiZGlzY29ubmVjdCIsImRlc3Ryb3kiLCJkaXYiLCJyZWYiLCJzdHlsZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/Game.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./lib/biomes.ts":
/*!***********************!*\
  !*** ./lib/biomes.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BIOMES: () => (/* binding */ BIOMES)\n/* harmony export */ });\nconst BIOMES = {\n    grassland: {\n        id: \"grassland\",\n        name: \"Grassland\",\n        environmentColor: 0x87cc5c,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"grass\",\n            \"bug\",\n            \"normal\",\n            \"flying\"\n        ],\n        weather: \"sun\"\n    },\n    desert: {\n        id: \"desert\",\n        name: \"Desert\",\n        environmentColor: 0xdeb887,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"ground\",\n            \"rock\",\n            \"fire\"\n        ],\n        weather: \"sun\"\n    },\n    lake: {\n        id: \"lake\",\n        name: \"Lake\",\n        environmentColor: 0x66a3ff,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"water\",\n            \"dragon\",\n            \"fairy\"\n        ],\n        weather: \"fog\"\n    },\n    city: {\n        id: \"city\",\n        name: \"City\",\n        environmentColor: 0x999999,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"electric\",\n            \"normal\",\n            \"steel\",\n            \"fighting\"\n        ],\n        weather: \"none\"\n    },\n    mountain: {\n        id: \"mountain\",\n        name: \"Mountain\",\n        environmentColor: 0xb0c4de,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"rock\",\n            \"ground\",\n            \"ice\",\n            \"dragon\"\n        ],\n        weather: \"snow\"\n    },\n    cave: {\n        id: \"cave\",\n        name: \"Cave\",\n        environmentColor: 0x444444,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"rock\",\n            \"ground\",\n            \"poison\",\n            \"dark\"\n        ],\n        weather: \"fog\"\n    },\n    forest: {\n        id: \"forest\",\n        name: \"Forest\",\n        environmentColor: 0x2f6f4f,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"grass\",\n            \"bug\",\n            \"fairy\"\n        ],\n        weather: \"fog\"\n    },\n    snowfield: {\n        id: \"snowfield\",\n        name: \"Snowfield\",\n        environmentColor: 0xe0f7ff,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"ice\",\n            \"water\"\n        ],\n        weather: \"snow\"\n    },\n    tower: {\n        id: \"tower\",\n        name: \"Ancient Tower\",\n        environmentColor: 0x551a8b,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"ghost\",\n            \"dark\"\n        ],\n        weather: \"fog\"\n    },\n    lab: {\n        id: \"lab\",\n        name: \"Research Lab\",\n        environmentColor: 0xccccff,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"electric\",\n            \"steel\",\n            \"psychic\"\n        ],\n        weather: \"none\"\n    },\n    temple: {\n        id: \"temple\",\n        name: \"Desert Temple\",\n        environmentColor: 0xc2b280,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"ground\",\n            \"rock\",\n            \"fire\"\n        ],\n        weather: \"sun\"\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2xpYi9iaW9tZXMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQWNPLE1BQU1BLFNBQW9DO0lBQy9DQyxXQUFXO1FBQ1RDLElBQUk7UUFDSkMsTUFBTTtRQUNOQyxrQkFBa0I7UUFDbEJDLFNBQVM7WUFBRUMsUUFBUTtZQUFhQyxVQUFVO1FBQVk7UUFDdERDLGFBQWE7WUFBQztZQUFTO1lBQU87WUFBVTtTQUFTO1FBQ2pEQyxTQUFTO0lBQ1g7SUFDQUMsUUFBUTtRQUNOUixJQUFJO1FBQ0pDLE1BQU07UUFDTkMsa0JBQWtCO1FBQ2xCQyxTQUFTO1lBQUVDLFFBQVE7WUFBYUMsVUFBVTtRQUFZO1FBQ3REQyxhQUFhO1lBQUM7WUFBVTtZQUFRO1NBQU87UUFDdkNDLFNBQVM7SUFDWDtJQUNBRSxNQUFNO1FBQ0pULElBQUk7UUFDSkMsTUFBTTtRQUNOQyxrQkFBa0I7UUFDbEJDLFNBQVM7WUFBRUMsUUFBUTtZQUFhQyxVQUFVO1FBQVk7UUFDdERDLGFBQWE7WUFBQztZQUFTO1lBQVU7U0FBUTtRQUN6Q0MsU0FBUztJQUNYO0lBQ0FHLE1BQU07UUFDSlYsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLGtCQUFrQjtRQUNsQkMsU0FBUztZQUFFQyxRQUFRO1lBQWFDLFVBQVU7UUFBWTtRQUN0REMsYUFBYTtZQUFDO1lBQVk7WUFBVTtZQUFTO1NBQVc7UUFDeERDLFNBQVM7SUFDWDtJQUNBSSxVQUFVO1FBQ1JYLElBQUk7UUFDSkMsTUFBTTtRQUNOQyxrQkFBa0I7UUFDbEJDLFNBQVM7WUFBRUMsUUFBUTtZQUFhQyxVQUFVO1FBQVk7UUFDdERDLGFBQWE7WUFBQztZQUFRO1lBQVU7WUFBTztTQUFTO1FBQ2hEQyxTQUFTO0lBQ1g7SUFDQUssTUFBTTtRQUNKWixJQUFJO1FBQ0pDLE1BQU07UUFDTkMsa0JBQWtCO1FBQ2xCQyxTQUFTO1lBQUVDLFFBQVE7WUFBYUMsVUFBVTtRQUFZO1FBQ3REQyxhQUFhO1lBQUM7WUFBUTtZQUFVO1lBQVU7U0FBTztRQUNqREMsU0FBUztJQUNYO0lBQ0FNLFFBQVE7UUFDTmIsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLGtCQUFrQjtRQUNsQkMsU0FBUztZQUFFQyxRQUFRO1lBQWFDLFVBQVU7UUFBWTtRQUN0REMsYUFBYTtZQUFDO1lBQVM7WUFBTztTQUFRO1FBQ3RDQyxTQUFTO0lBQ1g7SUFDQU8sV0FBVztRQUNUZCxJQUFJO1FBQ0pDLE1BQU07UUFDTkMsa0JBQWtCO1FBQ2xCQyxTQUFTO1lBQUVDLFFBQVE7WUFBYUMsVUFBVTtRQUFZO1FBQ3REQyxhQUFhO1lBQUM7WUFBTztTQUFRO1FBQzdCQyxTQUFTO0lBQ1g7SUFDQVEsT0FBTztRQUNMZixJQUFJO1FBQ0pDLE1BQU07UUFDTkMsa0JBQWtCO1FBQ2xCQyxTQUFTO1lBQUVDLFFBQVE7WUFBYUMsVUFBVTtRQUFZO1FBQ3REQyxhQUFhO1lBQUM7WUFBUztTQUFPO1FBQzlCQyxTQUFTO0lBQ1g7SUFDQVMsS0FBSztRQUNIaEIsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLGtCQUFrQjtRQUNsQkMsU0FBUztZQUFFQyxRQUFRO1lBQWFDLFVBQVU7UUFBWTtRQUN0REMsYUFBYTtZQUFDO1lBQVk7WUFBUztTQUFVO1FBQzdDQyxTQUFTO0lBQ1g7SUFDQVUsUUFBUTtRQUNOakIsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLGtCQUFrQjtRQUNsQkMsU0FBUztZQUFFQyxRQUFRO1lBQWFDLFVBQVU7UUFBWTtRQUN0REMsYUFBYTtZQUFDO1lBQVU7WUFBUTtTQUFPO1FBQ3ZDQyxTQUFTO0lBQ1g7QUFDRixFQUFFIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFNhaGl0aFxcT25lRHJpdmVcXERlc2t0b3BcXHlva2FpaHVudFxcZnJvbnRlbmRcXGxpYlxcYmlvbWVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB0eXBlIEJpb21lSWQgPSBcImdyYXNzbGFuZFwiIHwgXCJkZXNlcnRcIiB8IFwibGFrZVwiIHwgXCJjaXR5XCIgfCBcIm1vdW50YWluXCIgfCBcImNhdmVcIiB8IFwiZm9yZXN0XCIgfCBcInNub3dmaWVsZFwiIHwgXCJ0b3dlclwiIHwgXCJsYWJcIiB8IFwidGVtcGxlXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJpb21lRGVmIHtcclxuICBpZDogQmlvbWVJZDtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgZW52aXJvbm1lbnRDb2xvcjogbnVtYmVyOyAvLyBoZXggY29sb3IgZm9yIG92ZXJsYXlcclxuICB0aWxlU2V0OiB7XHJcbiAgICBncm91bmQ6IHN0cmluZzsgLy8ga2V5IHVzZWQgaW4gUGhhc2VyIHRleHR1cmVzIG1hbmFnZXJcclxuICAgIG9ic3RhY2xlOiBzdHJpbmc7XHJcbiAgfTtcclxuICBwb2tlbW9uUG9vbDogc3RyaW5nW107IC8vIHR5cGUgbmFtZXMgdG8gcHJlZmVyXHJcbiAgd2VhdGhlcj86IFwiZm9nXCIgfCBcInNub3dcIiB8IFwic3VuXCIgfCBcIm5vbmVcIjtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEJJT01FUzogUmVjb3JkPEJpb21lSWQsIEJpb21lRGVmPiA9IHtcclxuICBncmFzc2xhbmQ6IHtcclxuICAgIGlkOiBcImdyYXNzbGFuZFwiLFxyXG4gICAgbmFtZTogXCJHcmFzc2xhbmRcIixcclxuICAgIGVudmlyb25tZW50Q29sb3I6IDB4ODdjYzVjLFxyXG4gICAgdGlsZVNldDogeyBncm91bmQ6IFwidGlsZXNoZWV0XCIsIG9ic3RhY2xlOiBcInRpbGVzaGVldFwiIH0sXHJcbiAgICBwb2tlbW9uUG9vbDogW1wiZ3Jhc3NcIiwgXCJidWdcIiwgXCJub3JtYWxcIiwgXCJmbHlpbmdcIl0sXHJcbiAgICB3ZWF0aGVyOiBcInN1blwiLFxyXG4gIH0sXHJcbiAgZGVzZXJ0OiB7XHJcbiAgICBpZDogXCJkZXNlcnRcIixcclxuICAgIG5hbWU6IFwiRGVzZXJ0XCIsXHJcbiAgICBlbnZpcm9ubWVudENvbG9yOiAweGRlYjg4NyxcclxuICAgIHRpbGVTZXQ6IHsgZ3JvdW5kOiBcInRpbGVzaGVldFwiLCBvYnN0YWNsZTogXCJ0aWxlc2hlZXRcIiB9LFxyXG4gICAgcG9rZW1vblBvb2w6IFtcImdyb3VuZFwiLCBcInJvY2tcIiwgXCJmaXJlXCJdLFxyXG4gICAgd2VhdGhlcjogXCJzdW5cIixcclxuICB9LFxyXG4gIGxha2U6IHtcclxuICAgIGlkOiBcImxha2VcIixcclxuICAgIG5hbWU6IFwiTGFrZVwiLFxyXG4gICAgZW52aXJvbm1lbnRDb2xvcjogMHg2NmEzZmYsXHJcbiAgICB0aWxlU2V0OiB7IGdyb3VuZDogXCJ0aWxlc2hlZXRcIiwgb2JzdGFjbGU6IFwidGlsZXNoZWV0XCIgfSxcclxuICAgIHBva2Vtb25Qb29sOiBbXCJ3YXRlclwiLCBcImRyYWdvblwiLCBcImZhaXJ5XCJdLFxyXG4gICAgd2VhdGhlcjogXCJmb2dcIixcclxuICB9LFxyXG4gIGNpdHk6IHtcclxuICAgIGlkOiBcImNpdHlcIixcclxuICAgIG5hbWU6IFwiQ2l0eVwiLFxyXG4gICAgZW52aXJvbm1lbnRDb2xvcjogMHg5OTk5OTksXHJcbiAgICB0aWxlU2V0OiB7IGdyb3VuZDogXCJ0aWxlc2hlZXRcIiwgb2JzdGFjbGU6IFwidGlsZXNoZWV0XCIgfSxcclxuICAgIHBva2Vtb25Qb29sOiBbXCJlbGVjdHJpY1wiLCBcIm5vcm1hbFwiLCBcInN0ZWVsXCIsIFwiZmlnaHRpbmdcIl0sXHJcbiAgICB3ZWF0aGVyOiBcIm5vbmVcIixcclxuICB9LFxyXG4gIG1vdW50YWluOiB7XHJcbiAgICBpZDogXCJtb3VudGFpblwiLFxyXG4gICAgbmFtZTogXCJNb3VudGFpblwiLFxyXG4gICAgZW52aXJvbm1lbnRDb2xvcjogMHhiMGM0ZGUsXHJcbiAgICB0aWxlU2V0OiB7IGdyb3VuZDogXCJ0aWxlc2hlZXRcIiwgb2JzdGFjbGU6IFwidGlsZXNoZWV0XCIgfSxcclxuICAgIHBva2Vtb25Qb29sOiBbXCJyb2NrXCIsIFwiZ3JvdW5kXCIsIFwiaWNlXCIsIFwiZHJhZ29uXCJdLFxyXG4gICAgd2VhdGhlcjogXCJzbm93XCIsXHJcbiAgfSxcclxuICBjYXZlOiB7XHJcbiAgICBpZDogXCJjYXZlXCIsXHJcbiAgICBuYW1lOiBcIkNhdmVcIixcclxuICAgIGVudmlyb25tZW50Q29sb3I6IDB4NDQ0NDQ0LFxyXG4gICAgdGlsZVNldDogeyBncm91bmQ6IFwidGlsZXNoZWV0XCIsIG9ic3RhY2xlOiBcInRpbGVzaGVldFwiIH0sXHJcbiAgICBwb2tlbW9uUG9vbDogW1wicm9ja1wiLCBcImdyb3VuZFwiLCBcInBvaXNvblwiLCBcImRhcmtcIl0sXHJcbiAgICB3ZWF0aGVyOiBcImZvZ1wiLFxyXG4gIH0sXHJcbiAgZm9yZXN0OiB7XHJcbiAgICBpZDogXCJmb3Jlc3RcIixcclxuICAgIG5hbWU6IFwiRm9yZXN0XCIsXHJcbiAgICBlbnZpcm9ubWVudENvbG9yOiAweDJmNmY0ZixcclxuICAgIHRpbGVTZXQ6IHsgZ3JvdW5kOiBcInRpbGVzaGVldFwiLCBvYnN0YWNsZTogXCJ0aWxlc2hlZXRcIiB9LFxyXG4gICAgcG9rZW1vblBvb2w6IFtcImdyYXNzXCIsIFwiYnVnXCIsIFwiZmFpcnlcIl0sXHJcbiAgICB3ZWF0aGVyOiBcImZvZ1wiLFxyXG4gIH0sXHJcbiAgc25vd2ZpZWxkOiB7XHJcbiAgICBpZDogXCJzbm93ZmllbGRcIixcclxuICAgIG5hbWU6IFwiU25vd2ZpZWxkXCIsXHJcbiAgICBlbnZpcm9ubWVudENvbG9yOiAweGUwZjdmZixcclxuICAgIHRpbGVTZXQ6IHsgZ3JvdW5kOiBcInRpbGVzaGVldFwiLCBvYnN0YWNsZTogXCJ0aWxlc2hlZXRcIiB9LFxyXG4gICAgcG9rZW1vblBvb2w6IFtcImljZVwiLCBcIndhdGVyXCJdLFxyXG4gICAgd2VhdGhlcjogXCJzbm93XCIsXHJcbiAgfSxcclxuICB0b3dlcjoge1xyXG4gICAgaWQ6IFwidG93ZXJcIixcclxuICAgIG5hbWU6IFwiQW5jaWVudCBUb3dlclwiLFxyXG4gICAgZW52aXJvbm1lbnRDb2xvcjogMHg1NTFhOGIsXHJcbiAgICB0aWxlU2V0OiB7IGdyb3VuZDogXCJ0aWxlc2hlZXRcIiwgb2JzdGFjbGU6IFwidGlsZXNoZWV0XCIgfSxcclxuICAgIHBva2Vtb25Qb29sOiBbXCJnaG9zdFwiLCBcImRhcmtcIl0sXHJcbiAgICB3ZWF0aGVyOiBcImZvZ1wiLFxyXG4gIH0sXHJcbiAgbGFiOiB7XHJcbiAgICBpZDogXCJsYWJcIixcclxuICAgIG5hbWU6IFwiUmVzZWFyY2ggTGFiXCIsXHJcbiAgICBlbnZpcm9ubWVudENvbG9yOiAweGNjY2NmZixcclxuICAgIHRpbGVTZXQ6IHsgZ3JvdW5kOiBcInRpbGVzaGVldFwiLCBvYnN0YWNsZTogXCJ0aWxlc2hlZXRcIiB9LFxyXG4gICAgcG9rZW1vblBvb2w6IFtcImVsZWN0cmljXCIsIFwic3RlZWxcIiwgXCJwc3ljaGljXCJdLFxyXG4gICAgd2VhdGhlcjogXCJub25lXCIsXHJcbiAgfSxcclxuICB0ZW1wbGU6IHtcclxuICAgIGlkOiBcInRlbXBsZVwiLFxyXG4gICAgbmFtZTogXCJEZXNlcnQgVGVtcGxlXCIsXHJcbiAgICBlbnZpcm9ubWVudENvbG9yOiAweGMyYjI4MCxcclxuICAgIHRpbGVTZXQ6IHsgZ3JvdW5kOiBcInRpbGVzaGVldFwiLCBvYnN0YWNsZTogXCJ0aWxlc2hlZXRcIiB9LFxyXG4gICAgcG9rZW1vblBvb2w6IFtcImdyb3VuZFwiLCBcInJvY2tcIiwgXCJmaXJlXCJdLFxyXG4gICAgd2VhdGhlcjogXCJzdW5cIixcclxuICB9LFxyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgU3RydWN0dXJlVHlwZSA9IFwiaG91c2VcIiB8IFwidG93ZXJcIiB8IFwibGFiXCIgfCBcInRlbXBsZVwiO1xyXG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdHVyZURlZiB7IGlkOiBzdHJpbmc7IHR5cGU6IFN0cnVjdHVyZVR5cGU7IGNvbDogbnVtYmVyOyByb3c6IG51bWJlcjsgeDogbnVtYmVyOyB5OiBudW1iZXI7IH1cclxuIl0sIm5hbWVzIjpbIkJJT01FUyIsImdyYXNzbGFuZCIsImlkIiwibmFtZSIsImVudmlyb25tZW50Q29sb3IiLCJ0aWxlU2V0IiwiZ3JvdW5kIiwib2JzdGFjbGUiLCJwb2tlbW9uUG9vbCIsIndlYXRoZXIiLCJkZXNlcnQiLCJsYWtlIiwiY2l0eSIsIm1vdW50YWluIiwiY2F2ZSIsImZvcmVzdCIsInNub3dmaWVsZCIsInRvd2VyIiwibGFiIiwidGVtcGxlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./lib/biomes.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./lib/mapZones.ts":
/*!*************************!*\
  !*** ./lib/mapZones.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BIOME_TYPE_POOLS: () => (/* binding */ BIOME_TYPE_POOLS),\n/* harmony export */   ZONE_TILES: () => (/* binding */ ZONE_TILES),\n/* harmony export */   generateZones: () => (/* binding */ generateZones),\n/* harmony export */   getAdjacentZoneCoords: () => (/* binding */ getAdjacentZoneCoords),\n/* harmony export */   getZoneForTile: () => (/* binding */ getZoneForTile)\n/* harmony export */ });\nconst ZONE_TILES = 10; // 10x10 tiles per zone\n// Simple deterministic biome layout over an R x C grid\nfunction generateZones(cols, rows) {\n    const zones = [];\n    for(let r = 0; r < rows; r++){\n        for(let c = 0; c < cols; c++){\n            let biome = \"grassland\";\n            const edge = r === 0 || c === 0 || r === rows - 1 || c === cols - 1;\n            if (r === 0) biome = \"mountain\"; // top ridge\n            else if (r === rows - 1) biome = \"beach\"; // bottom shore\n            else if ((r === Math.floor(rows / 2) || r === Math.floor(rows / 2) - 1) && (c === Math.floor(cols / 2) || c === Math.floor(cols / 2) - 1)) biome = \"lake\"; // 2x2 lake\n            else if (edge && (r === 1 || c === 1 || r === rows - 2 || c === cols - 2)) biome = \"cave\"; // near edges\n            else if ((r + c) % 9 === 0) biome = \"city\"; // a few city blocks\n            else if ((r + 2 * c) % 6 === 0) biome = \"forest\";\n            else if (r % 5 === 0 && c % 3 === 0) biome = \"desert\";\n            else if ((r - c) % 8 === 0) biome = \"snowfield\";\n            else biome = \"grassland\";\n            zones.push({\n                id: `${c},${r}`,\n                col: c,\n                row: r,\n                biome\n            });\n        }\n    }\n    return zones;\n}\nfunction getZoneForTile(tileX, tileY, zoneCols, zoneRows) {\n    const col = Math.max(0, Math.min(zoneCols - 1, Math.floor(tileX / ZONE_TILES)));\n    const row = Math.max(0, Math.min(zoneRows - 1, Math.floor(tileY / ZONE_TILES)));\n    return {\n        col,\n        row,\n        id: `${col},${row}`\n    };\n}\nfunction getAdjacentZoneCoords(col, row, zoneCols, zoneRows, radius = 1) {\n    const out = [];\n    for(let dy = -radius; dy <= radius; dy++){\n        for(let dx = -radius; dx <= radius; dx++){\n            const nc = col + dx;\n            const nr = row + dy;\n            if (nc < 0 || nr < 0 || nc >= zoneCols || nr >= zoneRows) continue;\n            out.push({\n                col: nc,\n                row: nr,\n                id: `${nc},${nr}`\n            });\n        }\n    }\n    return out;\n}\nconst BIOME_TYPE_POOLS = {\n    grassland: [\n        \"grass\",\n        \"bug\",\n        \"normal\",\n        \"flying\"\n    ],\n    cave: [\n        \"rock\",\n        \"ground\",\n        \"poison\",\n        \"dark\"\n    ],\n    beach: [\n        \"water\",\n        \"flying\"\n    ],\n    city: [\n        \"electric\",\n        \"normal\",\n        \"steel\",\n        \"fighting\"\n    ],\n    mountain: [\n        \"rock\",\n        \"ground\",\n        \"ice\",\n        \"dragon\"\n    ],\n    lake: [\n        \"water\",\n        \"dragon\",\n        \"fairy\"\n    ],\n    desert: [\n        \"ground\",\n        \"rock\",\n        \"fire\"\n    ],\n    forest: [\n        \"grass\",\n        \"bug\",\n        \"fairy\"\n    ],\n    snowfield: [\n        \"ice\",\n        \"water\",\n        \"fairy\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBQ0EsT0FBT0o7QUFDVDtBQUVPLE1BQU1LLG1CQUE0QztJQUN2REMsV0FBVztRQUFDO1FBQVM7UUFBTztRQUFVO0tBQVM7SUFDL0NDLE1BQU07UUFBQztRQUFRO1FBQVU7UUFBVTtLQUFPO0lBQzFDQyxPQUFPO1FBQUM7UUFBUztLQUFTO0lBQzFCQyxNQUFNO1FBQUM7UUFBWTtRQUFVO1FBQVM7S0FBVztJQUNqREMsVUFBVTtRQUFDO1FBQVE7UUFBVTtRQUFPO0tBQVM7SUFDN0NDLE1BQU07UUFBQztRQUFTO1FBQVU7S0FBUTtJQUNsQ0MsUUFBUTtRQUFDO1FBQVU7UUFBUTtLQUFPO0lBQ2xDQyxRQUFRO1FBQUM7UUFBUztRQUFPO0tBQVE7SUFDakNDLFdBQVc7UUFBQztRQUFPO1FBQVM7S0FBUTtBQUN0QyxFQUFFIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFNhaGl0aFxcT25lRHJpdmVcXERlc2t0b3BcXHlva2FpaHVudFxcZnJvbnRlbmRcXGxpYlxcbWFwWm9uZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHR5cGUgQmlvbWUgPSBcImdyYXNzbGFuZFwiIHwgXCJjYXZlXCIgfCBcImJlYWNoXCIgfCBcImNpdHlcIiB8IFwibW91bnRhaW5cIiB8IFwibGFrZVwiIHwgXCJkZXNlcnRcIiB8IFwiZm9yZXN0XCIgfCBcInNub3dmaWVsZFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFpPTkVfVElMRVMgPSAxMDsgLy8gMTB4MTAgdGlsZXMgcGVyIHpvbmVcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgWm9uZSB7XHJcbiAgaWQ6IHN0cmluZzsgLy8gXCJjLHJcIlxyXG4gIGNvbDogbnVtYmVyO1xyXG4gIHJvdzogbnVtYmVyO1xyXG4gIGJpb21lOiBCaW9tZTtcclxufVxyXG5cclxuLy8gU2ltcGxlIGRldGVybWluaXN0aWMgYmlvbWUgbGF5b3V0IG92ZXIgYW4gUiB4IEMgZ3JpZFxyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVab25lcyhjb2xzOiBudW1iZXIsIHJvd3M6IG51bWJlcik6IFpvbmVbXSB7XHJcbiAgY29uc3Qgem9uZXM6IFpvbmVbXSA9IFtdO1xyXG4gIGZvciAobGV0IHIgPSAwOyByIDwgcm93czsgcisrKSB7XHJcbiAgICBmb3IgKGxldCBjID0gMDsgYyA8IGNvbHM7IGMrKykge1xyXG4gICAgICBsZXQgYmlvbWU6IEJpb21lID0gXCJncmFzc2xhbmRcIjtcclxuICAgICAgY29uc3QgZWRnZSA9IHIgPT09IDAgfHwgYyA9PT0gMCB8fCByID09PSByb3dzIC0gMSB8fCBjID09PSBjb2xzIC0gMTtcclxuICAgICAgaWYgKHIgPT09IDApIGJpb21lID0gXCJtb3VudGFpblwiOyAvLyB0b3AgcmlkZ2VcclxuICAgICAgZWxzZSBpZiAociA9PT0gcm93cyAtIDEpIGJpb21lID0gXCJiZWFjaFwiOyAvLyBib3R0b20gc2hvcmVcclxuICAgICAgZWxzZSBpZiAoKHIgPT09IE1hdGguZmxvb3Iocm93cyAvIDIpIHx8IHIgPT09IE1hdGguZmxvb3Iocm93cyAvIDIpIC0gMSkgJiZcclxuICAgICAgICAgICAgICAgKGMgPT09IE1hdGguZmxvb3IoY29scyAvIDIpIHx8IGMgPT09IE1hdGguZmxvb3IoY29scyAvIDIpIC0gMSkpIGJpb21lID0gXCJsYWtlXCI7IC8vIDJ4MiBsYWtlXHJcbiAgICAgIGVsc2UgaWYgKGVkZ2UgJiYgKHIgPT09IDEgfHwgYyA9PT0gMSB8fCByID09PSByb3dzIC0gMiB8fCBjID09PSBjb2xzIC0gMikpIGJpb21lID0gXCJjYXZlXCI7IC8vIG5lYXIgZWRnZXNcclxuICAgICAgZWxzZSBpZiAoKHIgKyBjKSAlIDkgPT09IDApIGJpb21lID0gXCJjaXR5XCI7IC8vIGEgZmV3IGNpdHkgYmxvY2tzXHJcbiAgICAgIGVsc2UgaWYgKChyICsgMiAqIGMpICUgNiA9PT0gMCkgYmlvbWUgPSBcImZvcmVzdFwiO1xyXG4gICAgICBlbHNlIGlmIChyICUgNSA9PT0gMCAmJiBjICUgMyA9PT0gMCkgYmlvbWUgPSBcImRlc2VydFwiO1xyXG4gICAgICBlbHNlIGlmICgociAtIGMpICUgOCA9PT0gMCkgYmlvbWUgPSBcInNub3dmaWVsZFwiO1xyXG4gICAgICBlbHNlIGJpb21lID0gXCJncmFzc2xhbmRcIjtcclxuXHJcbiAgICAgIHpvbmVzLnB1c2goeyBpZDogYCR7Y30sJHtyfWAsIGNvbDogYywgcm93OiByLCBiaW9tZSB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHpvbmVzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Wm9uZUZvclRpbGUodGlsZVg6IG51bWJlciwgdGlsZVk6IG51bWJlciwgem9uZUNvbHM6IG51bWJlciwgem9uZVJvd3M6IG51bWJlcik6IHsgY29sOiBudW1iZXI7IHJvdzogbnVtYmVyOyBpZDogc3RyaW5nIH0ge1xyXG4gIGNvbnN0IGNvbCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHpvbmVDb2xzIC0gMSwgTWF0aC5mbG9vcih0aWxlWCAvIFpPTkVfVElMRVMpKSk7XHJcbiAgY29uc3Qgcm93ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oem9uZVJvd3MgLSAxLCBNYXRoLmZsb29yKHRpbGVZIC8gWk9ORV9USUxFUykpKTtcclxuICByZXR1cm4geyBjb2wsIHJvdywgaWQ6IGAke2NvbH0sJHtyb3d9YCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWRqYWNlbnRab25lQ29vcmRzKGNvbDogbnVtYmVyLCByb3c6IG51bWJlciwgem9uZUNvbHM6IG51bWJlciwgem9uZVJvd3M6IG51bWJlciwgcmFkaXVzID0gMSkge1xyXG4gIGNvbnN0IG91dDogeyBjb2w6IG51bWJlcjsgcm93OiBudW1iZXI7IGlkOiBzdHJpbmcgfVtdID0gW107XHJcbiAgZm9yIChsZXQgZHkgPSAtcmFkaXVzOyBkeSA8PSByYWRpdXM7IGR5KyspIHtcclxuICAgIGZvciAobGV0IGR4ID0gLXJhZGl1czsgZHggPD0gcmFkaXVzOyBkeCsrKSB7XHJcbiAgICAgIGNvbnN0IG5jID0gY29sICsgZHg7IGNvbnN0IG5yID0gcm93ICsgZHk7XHJcbiAgICAgIGlmIChuYyA8IDAgfHwgbnIgPCAwIHx8IG5jID49IHpvbmVDb2xzIHx8IG5yID49IHpvbmVSb3dzKSBjb250aW51ZTtcclxuICAgICAgb3V0LnB1c2goeyBjb2w6IG5jLCByb3c6IG5yLCBpZDogYCR7bmN9LCR7bnJ9YCB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEJJT01FX1RZUEVfUE9PTFM6IFJlY29yZDxCaW9tZSwgc3RyaW5nW10+ID0ge1xyXG4gIGdyYXNzbGFuZDogW1wiZ3Jhc3NcIiwgXCJidWdcIiwgXCJub3JtYWxcIiwgXCJmbHlpbmdcIl0sXHJcbiAgY2F2ZTogW1wicm9ja1wiLCBcImdyb3VuZFwiLCBcInBvaXNvblwiLCBcImRhcmtcIl0sXHJcbiAgYmVhY2g6IFtcIndhdGVyXCIsIFwiZmx5aW5nXCJdLFxyXG4gIGNpdHk6IFtcImVsZWN0cmljXCIsIFwibm9ybWFsXCIsIFwic3RlZWxcIiwgXCJmaWdodGluZ1wiXSxcclxuICBtb3VudGFpbjogW1wicm9ja1wiLCBcImdyb3VuZFwiLCBcImljZVwiLCBcImRyYWdvblwiXSxcclxuICBsYWtlOiBbXCJ3YXRlclwiLCBcImRyYWdvblwiLCBcImZhaXJ5XCJdLFxyXG4gIGRlc2VydDogW1wiZ3JvdW5kXCIsIFwicm9ja1wiLCBcImZpcmVcIl0sXHJcbiAgZm9yZXN0OiBbXCJncmFzc1wiLCBcImJ1Z1wiLCBcImZhaXJ5XCJdLFxyXG4gIHNub3dmaWVsZDogW1wiaWNlXCIsIFwid2F0ZXJcIiwgXCJmYWlyeVwiXSxcclxufTtcclxuIl0sIm5hbWVzIjpbIlpPTkVfVElMRVMiLCJnZW5lcmF0ZVpvbmVzIiwiY29scyIsInJvd3MiLCJ6b25lcyIsInIiLCJjIiwiYmlvbWUiLCJlZGdlIiwiTWF0aCIsImZsb29yIiwicHVzaCIsImlkIiwiY29sIiwicm93IiwiZ2V0Wm9uZUZvclRpbGUiLCJ0aWxlWCIsInRpbGVZIiwiem9uZUNvbHMiLCJ6b25lUm93cyIsIm1heCIsIm1pbiIsImdldEFkamFjZW50Wm9uZUNvb3JkcyIsInJhZGl1cyIsIm91dCIsImR5IiwiZHgiLCJuYyIsIm5yIiwiQklPTUVfVFlQRV9QT09MUyIsImdyYXNzbGFuZCIsImNhdmUiLCJiZWFjaCIsImNpdHkiLCJtb3VudGFpbiIsImxha2UiLCJkZXNlcnQiLCJmb3Jlc3QiLCJzbm93ZmllbGQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./lib/mapZones.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./lib/phaser/BattleScene.ts":
/*!***********************************!*\
  !*** ./lib/phaser/BattleScene.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BattleScene: () => (/* binding */ BattleScene)\n/* harmony export */ });\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _typeEffectiveness__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../typeEffectiveness */ \"(pages-dir-node)/./lib/typeEffectiveness.ts\");\n\n\nclass BattleScene extends phaser__WEBPACK_IMPORTED_MODULE_0__.Scene {\n    constructor(){\n        super(\"BattleScene\"), this.wildHp = 0, this.wildMaxHp = 0, this.wildLevel = 5, this.playerHp = 0, this.playerMaxHp = 0, this.playerTeam = [], this.trainerLevel = 1, // Battle state\n        this.isPlayerTurn = true, this.battleInProgress = false, this.lastDamageInfo = null, this.floatingTexts = [];\n    }\n    init(data) {\n        this.wildPokemon = data.wildPokemon;\n        this.playerPokemon = data.playerPokemon;\n        this.playerTeam = data.playerTeam || [];\n        this.trainerLevel = data.trainerLevel || 1;\n        // Calculate wild Pokemon HP with level scaling\n        this.wildLevel = this.wildPokemon.level || 5;\n        const wildHpStat = this.wildPokemon.data?.stats?.find((s)=>s.stat.name === 'hp')?.base_stat || 50;\n        this.wildMaxHp = Math.floor(wildHpStat * 2 * this.wildLevel / 100 + this.wildLevel + 10);\n        this.wildHp = this.wildMaxHp;\n        this.playerMaxHp = this.playerPokemon.maxHp;\n        this.playerHp = this.playerPokemon.currentHp;\n        this.isPlayerTurn = true;\n        this.battleInProgress = false;\n    }\n    async preload() {\n        // Load Pokémon sprites if not already loaded\n        if (!this.textures.exists(`wild-${this.wildPokemon.pokeId}`)) {\n            await new Promise((resolve)=>{\n                this.load.once(phaser__WEBPACK_IMPORTED_MODULE_0__.Loader.Events.COMPLETE, ()=>resolve());\n                this.load.image(`wild-${this.wildPokemon.pokeId}`, this.wildPokemon.spriteUrl);\n                this.load.start();\n            });\n        }\n        if (!this.textures.exists(`player-${this.playerPokemon.pokeId}`)) {\n            await new Promise((resolve)=>{\n                this.load.once(phaser__WEBPACK_IMPORTED_MODULE_0__.Loader.Events.COMPLETE, ()=>resolve());\n                this.load.image(`player-${this.playerPokemon.pokeId}`, this.playerPokemon.spriteUrl);\n                this.load.start();\n            });\n        }\n    }\n    create() {\n        const { width, height } = this.scale;\n        // Background\n        this.add.rectangle(width / 2, height / 2, width, height, 0x87CEEB).setOrigin(0.5);\n        // Hide any lingering map UI by drawing an opaque footer (prevents DOM overlap perception)\n        this.add.rectangle(width / 2, height - 18, width, 36, 0x000000, 0.2).setDepth(5);\n        // Wild Pokémon (enemy, top right)\n        this.wildSprite = this.add.image(width * 0.75, height * 0.3, `wild-${this.wildPokemon.pokeId}`).setScale(2).setFlipX(false);\n        // Player Pokémon (bottom left, back sprite)\n        this.playerSprite = this.add.image(width * 0.25, height * 0.65, `player-${this.playerPokemon.pokeId}`).setScale(2).setFlipX(true);\n        this.createUI();\n        this.toast(`A wild ${this.capitalize(this.wildPokemon.name)} appeared!`, 1500);\n    }\n    createUI() {\n        const { width, height } = this.scale;\n        // Battle UI Container\n        this.battleUI = this.add.container(0, 0);\n        // Wild Pokémon HP Bar (top left)\n        const wildHpBg = this.add.rectangle(20, 20, 200, 20, 0x333333).setOrigin(0);\n        this.wildHpBar = this.add.rectangle(22, 22, 196, 16, 0x00ff00).setOrigin(0);\n        this.wildHpText = this.add.text(20, 45, `${this.capitalize(this.wildPokemon.name)} HP: ${this.wildHp}/${this.wildMaxHp}`, {\n            fontSize: '14px',\n            color: '#000'\n        });\n        // Player Pokémon HP Bar (bottom right)\n        const playerHpBg = this.add.rectangle(width - 220, height - 80, 200, 20, 0x333333).setOrigin(0);\n        this.playerHpBar = this.add.rectangle(width - 218, height - 78, 196, 16, 0x00ff00).setOrigin(0);\n        this.playerHpText = this.add.text(width - 220, height - 55, `${this.capitalize(this.playerPokemon.name)} Lv.${this.playerPokemon.level} HP: ${this.playerHp}/${this.playerMaxHp}`, {\n            fontSize: '14px',\n            color: '#000'\n        });\n        // Minimal status toast (top-right), no big dialog box\n        this.battleText = this.add.text(width - 360, 12, '', {\n            fontSize: '14px',\n            color: '#000',\n            backgroundColor: '#ffffffe6',\n            padding: {\n                x: 10,\n                y: 6\n            },\n            wordWrap: {\n                width: 340\n            }\n        }).setDepth(1002).setVisible(false);\n        // Action buttons (placed at right-middle as vertical stack)\n        this.createActionButtons();\n        this.battleUI.add([\n            wildHpBg,\n            this.wildHpBar,\n            this.wildHpText,\n            playerHpBg,\n            this.playerHpBar,\n            this.playerHpText\n        ]);\n    }\n    createActionButtons() {\n        const { width, height } = this.scale;\n        this.actionButtons = this.add.container(0, 0);\n        const baseX = width - 120;\n        const baseY = height / 2 - 100;\n        const vGap = 34;\n        const buttonData = [\n            {\n                text: 'FIGHT',\n                x: baseX,\n                y: baseY + vGap * 0,\n                action: ()=>this.showMoveSelection()\n            },\n            {\n                text: 'SWITCH',\n                x: baseX,\n                y: baseY + vGap * 1,\n                action: ()=>this.showTeamSelection()\n            },\n            {\n                text: 'BAG',\n                x: baseX,\n                y: baseY + vGap * 2,\n                action: ()=>this.openBag()\n            },\n            {\n                text: 'CATCH',\n                x: baseX,\n                y: baseY + vGap * 3,\n                action: ()=>this.attemptCatch()\n            },\n            {\n                text: 'RUN',\n                x: baseX,\n                y: baseY + vGap * 4,\n                action: ()=>this.runAway()\n            }\n        ];\n        buttonData.forEach((btn)=>{\n            const button = this.add.text(btn.x, btn.y, btn.text, {\n                fontSize: '14px',\n                color: '#fff',\n                backgroundColor: '#333',\n                padding: {\n                    x: 8,\n                    y: 4\n                }\n            }).setInteractive({\n                useHandCursor: true\n            }).on('pointerdown', btn.action);\n            this.actionButtons?.add(button);\n        });\n        if (this.actionButtons) this.battleUI?.add(this.actionButtons);\n    }\n    showMoveSelection() {\n        if (!this.isPlayerTurn || this.battleInProgress) return;\n        // Hide main action buttons\n        if (this.actionButtons) this.actionButtons.setVisible(false);\n        const { width, height } = this.scale;\n        const moves = this.getPlayerMoves();\n        // Create move selection container\n        const moveContainer = this.add.container(0, 0);\n        // Background for move selection (right-center panel)\n        const panelW = 300;\n        const panelH = 140;\n        const moveBg = this.add.rectangle(width - panelW - 20, height / 2 - panelH / 2, panelW, panelH, 0x222222, 0.95).setOrigin(0);\n        moveContainer.add(moveBg);\n        // Display up to 4 moves in a 2x2 grid\n        moves.slice(0, 4).forEach((move, index)=>{\n            const col = index % 2;\n            const row = Math.floor(index / 2);\n            const x = width - panelW - 10 + col * 150;\n            const y = height / 2 - panelH / 2 + 10 + row * 60;\n            const moveButton = this.add.text(x, y, move.name.toUpperCase(), {\n                fontSize: '13px',\n                color: '#fff',\n                backgroundColor: this.getMoveTypeColor(move.type),\n                padding: {\n                    x: 10,\n                    y: 6\n                }\n            }).setInteractive({\n                useHandCursor: true\n            }).on('pointerdown', ()=>{\n                moveContainer.destroy();\n                if (this.actionButtons) this.actionButtons.setVisible(true);\n                this.useMove(move);\n            });\n            moveContainer.add(moveButton);\n        });\n        // Back button\n        const backButton = this.add.text(width - panelW, height / 2 + panelH / 2 + 8, 'BACK', {\n            fontSize: '12px',\n            color: '#fff',\n            backgroundColor: '#666',\n            padding: {\n                x: 8,\n                y: 4\n            }\n        }).setInteractive({\n            useHandCursor: true\n        }).on('pointerdown', ()=>{\n            moveContainer.destroy();\n            if (this.actionButtons) this.actionButtons.setVisible(true);\n        });\n        moveContainer.add(backButton);\n        this.battleUI?.add(moveContainer);\n    }\n    showTeamSelection() {\n        if (!this.isPlayerTurn || this.battleInProgress) return;\n        if (this.playerTeam.length === 0) {\n            // Try lazy-load team from trainer storage\n            this.loadTrainerTeam().then(()=>this.internalShowTeamSelection());\n            return;\n        }\n        this.internalShowTeamSelection();\n    }\n    internalShowTeamSelection() {\n        // Hide main action buttons\n        if (this.actionButtons) this.actionButtons.setVisible(false);\n        const { width, height } = this.scale;\n        // Create team selection container\n        const teamContainer = this.add.container(0, 0);\n        // Background for team selection\n        const teamBg = this.add.rectangle(width / 2 - 200, height / 2 - 150, 400, 300, 0x222222, 0.95).setOrigin(0);\n        teamContainer.add(teamBg);\n        const title = this.add.text(width / 2, height / 2 - 130, 'Choose Pokemon', {\n            fontSize: '18px',\n            color: '#fff',\n            fontStyle: 'bold'\n        }).setOrigin(0.5);\n        teamContainer.add(title);\n        // Display team members\n        this.playerTeam.forEach((pokemon, index)=>{\n            const y = height / 2 - 90 + index * 50;\n            const currentHp = pokemon.currentHp || pokemon.maxHp || 100;\n            const maxHp = pokemon.maxHp || 100;\n            const isFainted = currentHp <= 0;\n            const isCurrent = pokemon.id === this.playerPokemon.pokeId;\n            const pokemonButton = this.add.text(width / 2 - 180, y, `${this.capitalize(pokemon.name)} Lv.${pokemon.level || 1}  HP: ${currentHp}/${maxHp}`, {\n                fontSize: '14px',\n                color: isFainted ? '#666' : isCurrent ? '#ffd700' : '#fff',\n                backgroundColor: isCurrent ? '#444' : '#333',\n                padding: {\n                    x: 10,\n                    y: 6\n                }\n            }).setOrigin(0);\n            if (!isFainted && !isCurrent) {\n                pokemonButton.setInteractive({\n                    useHandCursor: true\n                }).on('pointerdown', ()=>{\n                    teamContainer.destroy();\n                    if (this.actionButtons) this.actionButtons.setVisible(true);\n                    this.switchPokemon(pokemon);\n                });\n            }\n            teamContainer.add(pokemonButton);\n        });\n        // Back button\n        const backButton = this.add.text(width / 2, height / 2 + 130, 'BACK', {\n            fontSize: '14px',\n            color: '#fff',\n            backgroundColor: '#666',\n            padding: {\n                x: 15,\n                y: 8\n            }\n        }).setOrigin(0.5).setInteractive({\n            useHandCursor: true\n        }).on('pointerdown', ()=>{\n            teamContainer.destroy();\n            if (this.actionButtons) this.actionButtons.setVisible(true);\n        });\n        teamContainer.add(backButton);\n        teamContainer.setDepth(1001);\n        this.battleUI?.add(teamContainer);\n    }\n    getPlayerMoves() {\n        // Get moves from Pokemon data\n        const moves = this.playerPokemon.data?.moves || [];\n        // If Pokemon has no moves, provide default moves based on type or generic attacks\n        if (moves.length === 0) {\n            // Fallback moves if Pokemon has no move data\n            const types = this.playerPokemon.data?.types || [];\n            const primaryType = types[0]?.type?.name || 'normal';\n            return [\n                {\n                    name: 'Tackle',\n                    type: 'normal'\n                },\n                {\n                    name: 'Scratch',\n                    type: 'normal'\n                },\n                {\n                    name: this.getTypedMove(primaryType),\n                    type: primaryType\n                },\n                {\n                    name: 'Quick Attack',\n                    type: 'normal'\n                }\n            ];\n        }\n        // Filter to get learned moves (simplified - just take first 4)\n        return moves.slice(0, 4).map((m)=>({\n                name: m.move.name.replace(/-/g, ' '),\n                url: m.move.url,\n                type: 'normal' // Default type, would need to fetch move details for actual type\n            }));\n    }\n    getTypedMove(type) {\n        const typeMoves = {\n            fire: 'Ember',\n            water: 'Water Gun',\n            grass: 'Vine Whip',\n            electric: 'Thunder Shock',\n            ice: 'Powder Snow',\n            fighting: 'Karate Chop',\n            poison: 'Poison Sting',\n            ground: 'Mud Slap',\n            flying: 'Gust',\n            psychic: 'Confusion',\n            bug: 'Bug Bite',\n            rock: 'Rock Throw',\n            ghost: 'Lick',\n            dragon: 'Dragon Breath',\n            dark: 'Bite',\n            steel: 'Metal Claw',\n            fairy: 'Fairy Wind',\n            normal: 'Tackle'\n        };\n        return typeMoves[type] || 'Tackle';\n    }\n    getMoveTypeColor(type) {\n        const colors = {\n            normal: '#A8A878',\n            fire: '#F08030',\n            water: '#6890F0',\n            grass: '#78C850',\n            electric: '#F8D030',\n            ice: '#98D8D8',\n            fighting: '#C03028',\n            poison: '#A040A0',\n            ground: '#E0C068',\n            flying: '#A890F0',\n            psychic: '#F85888',\n            bug: '#A8B820',\n            rock: '#B8A038',\n            ghost: '#705898',\n            dragon: '#7038F8',\n            dark: '#705848',\n            steel: '#B8B8D0',\n            fairy: '#EE99AC'\n        };\n        return colors[type] || colors.normal;\n    }\n    useMove(move) {\n        if (this.battleInProgress) return;\n        this.battleInProgress = true;\n        this.isPlayerTurn = false;\n        // Get move data\n        const moveData = (0,_typeEffectiveness__WEBPACK_IMPORTED_MODULE_1__.getMoveData)(move.name);\n        const playerAttack = this.getStatValue(this.playerPokemon.data, moveData.category === 'physical' ? 'attack' : 'special-attack');\n        const wildDefense = this.getStatValue(this.wildPokemon.data, moveData.category === 'physical' ? 'defense' : 'special-defense');\n        // Get Pokemon types\n        const wildTypes = (this.wildPokemon.data?.types || []).map((t)=>t.type.name);\n        // Calculate damage with type effectiveness\n        const damageResult = (0,_typeEffectiveness__WEBPACK_IMPORTED_MODULE_1__.calculateDamage)(this.playerPokemon.level, moveData.power, playerAttack, wildDefense, moveData.type, wildTypes);\n        const damage = damageResult.damage;\n        this.wildHp = Math.max(0, this.wildHp - damage);\n        // Update battle text\n        let battleMsg = `${this.capitalize(this.playerPokemon.name)} used ${moveData.name}!`;\n        this.updateBattleText(battleMsg);\n        // Show floating damage text on wild Pokemon\n        this.time.delayedCall(500, ()=>{\n            this.showFloatingText(`-${damage} HP`, this.wildSprite.x, this.wildSprite.y - 30, '#ff4444');\n            if (damageResult.effectivenessText) {\n                this.time.delayedCall(300, ()=>{\n                    this.showFloatingText(damageResult.effectivenessText, this.wildSprite.x, this.wildSprite.y - 50, '#ffff00');\n                });\n            }\n        });\n        this.updateHpBars();\n        if (this.wildHp <= 0) {\n            this.time.delayedCall(2000, ()=>{\n                this.battleInProgress = false;\n                this.wildDefeated();\n            });\n        } else {\n            this.time.delayedCall(2000, ()=>{\n                this.battleInProgress = false;\n                this.wildAttack();\n            });\n        }\n    }\n    switchPokemon(newPokemon) {\n        if (this.battleInProgress) return;\n        this.battleInProgress = true;\n        // Update player Pokemon\n        this.playerPokemon = {\n            name: newPokemon.name,\n            pokeId: newPokemon.id,\n            data: newPokemon.data,\n            spriteUrl: newPokemon.sprite,\n            level: newPokemon.level || 1,\n            currentHp: newPokemon.currentHp || newPokemon.maxHp,\n            maxHp: newPokemon.maxHp\n        };\n        this.playerHp = this.playerPokemon.currentHp;\n        this.playerMaxHp = this.playerPokemon.maxHp;\n        // Update sprite\n        if (this.playerSprite) {\n            this.playerSprite.setTexture(`player-${newPokemon.id}`);\n        }\n        this.updateBattleText(`Go, ${this.capitalize(newPokemon.name)}!`);\n        this.updateHpBars();\n        // Wild Pokemon attacks after switch\n        this.time.delayedCall(2000, ()=>{\n            this.battleInProgress = false;\n            this.wildAttack();\n        });\n    }\n    playerAttack() {\n        const playerAttack = this.getStatValue(this.playerPokemon.data, 'attack');\n        const wildDefense = this.getStatValue(this.wildPokemon.data, 'defense');\n        const baseDamage = Math.max(1, playerAttack - wildDefense);\n        const damage = Math.floor(baseDamage * (0.8 + Math.random() * 0.4)); // 0.8-1.2 multiplier\n        this.wildHp = Math.max(0, this.wildHp - damage);\n        this.updateBattleText(`${this.capitalize(this.playerPokemon.name)} attacks! Dealt ${damage} damage!`);\n        this.updateHpBars();\n        if (this.wildHp <= 0) {\n            this.wildDefeated();\n        } else {\n            this.time.delayedCall(1500, ()=>this.wildAttack());\n        }\n    }\n    wildAttack() {\n        if (this.battleInProgress) return;\n        this.battleInProgress = true;\n        // Pick a random move type based on wild Pokemon's types\n        const wildTypes = (this.wildPokemon.data?.types || []).map((t)=>t.type.name);\n        const attackType = wildTypes[0] || 'normal';\n        const movePower = 50; // Base move power for wild Pokemon\n        const wildAttack = this.getStatValue(this.wildPokemon.data, 'attack');\n        const playerDefense = this.getStatValue(this.playerPokemon.data, 'defense');\n        // Get player Pokemon types\n        const playerTypes = (this.playerPokemon.data?.types || []).map((t)=>t.type.name);\n        // Calculate damage with type effectiveness\n        const damageResult = (0,_typeEffectiveness__WEBPACK_IMPORTED_MODULE_1__.calculateDamage)(this.wildLevel, movePower, wildAttack, playerDefense, attackType, playerTypes);\n        const damage = damageResult.damage;\n        this.playerHp = Math.max(0, this.playerHp - damage);\n        this.updateBattleText(`Wild ${this.capitalize(this.wildPokemon.name)} attacks!`);\n        // Show floating damage text on player Pokemon\n        this.time.delayedCall(500, ()=>{\n            this.showFloatingText(`-${damage} HP`, this.playerSprite.x, this.playerSprite.y - 30, '#ff4444');\n            if (damageResult.effectivenessText) {\n                this.time.delayedCall(300, ()=>{\n                    this.showFloatingText(damageResult.effectivenessText, this.playerSprite.x, this.playerSprite.y - 50, '#ffff00');\n                });\n            }\n        });\n        this.updateHpBars();\n        if (this.playerHp <= 0) {\n            this.time.delayedCall(2000, ()=>{\n                this.battleInProgress = false;\n                this.playerDefeated();\n            });\n        } else {\n            this.time.delayedCall(1500, ()=>{\n                this.battleInProgress = false;\n                this.isPlayerTurn = true;\n            });\n        }\n    }\n    showFloatingText(text, x, y, color) {\n        const floatingText = this.add.text(x, y, text, {\n            fontSize: '20px',\n            color: color,\n            fontStyle: 'bold',\n            stroke: '#000',\n            strokeThickness: 4\n        }).setOrigin(0.5).setDepth(2000);\n        this.floatingTexts.push(floatingText);\n        // Animate floating text\n        this.tweens.add({\n            targets: floatingText,\n            y: y - 50,\n            alpha: 0,\n            duration: 1500,\n            ease: 'Power2',\n            onComplete: ()=>{\n                floatingText.destroy();\n                const index = this.floatingTexts.indexOf(floatingText);\n                if (index > -1) this.floatingTexts.splice(index, 1);\n            }\n        });\n    }\n    async attemptCatch() {\n        const catchRate = this.wildHp < this.wildMaxHp * 0.2 ? 0.8 : 0.3; // Higher rate if HP < 20%\n        if (Math.random() < catchRate) {\n            this.updateBattleText(`Gotcha! ${this.capitalize(this.wildPokemon.name)} was caught!`);\n            // Mint NFT on blockchain\n            await this.mintCaughtPokemonNFT();\n            // Save caught pokemon to trainer storage\n            try {\n                const wallet =  false ? 0 : null;\n                if (wallet) {\n                    const { saveTrainer } = await __webpack_require__.e(/*! import() */ \"_pages-dir-node_src_services_trainer_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ../../src/services/trainer */ \"(pages-dir-node)/./src/services/trainer.ts\"));\n                    const caught = {\n                        name: this.wildPokemon.name,\n                        level: this.wildLevel,\n                        hp: this.wildMaxHp,\n                        attack: this.getStatValue(this.wildPokemon.data, 'attack'),\n                        defense: this.getStatValue(this.wildPokemon.data, 'defense'),\n                        moves: (this.wildPokemon.data?.moves || []).slice(0, 4).map((m)=>m.move?.name?.replace(/-/g, ' ')).filter(Boolean),\n                        rarity: this.determineRarity(this.wildPokemon.data),\n                        caughtAt: new Date()\n                    };\n                    await saveTrainer({\n                        walletAddress: wallet,\n                        storageAppend: [\n                            caught\n                        ]\n                    });\n                    // Add to local team cache so SWITCH can use it immediately\n                    this.playerTeam.push({\n                        id: this.wildPokemon.pokeId,\n                        name: this.wildPokemon.name,\n                        data: this.wildPokemon.data,\n                        sprite: this.wildPokemon.spriteUrl,\n                        level: this.wildLevel,\n                        maxHp: this.wildMaxHp,\n                        currentHp: this.wildMaxHp\n                    });\n                }\n            } catch  {}\n            this.time.delayedCall(2000, ()=>this.endBattle(true));\n        } else {\n            this.updateBattleText(`${this.capitalize(this.wildPokemon.name)} broke free!`);\n            this.time.delayedCall(1500, ()=>this.wildAttack());\n        }\n    }\n    async mintCaughtPokemonNFT() {\n        try {\n            // Get wallet address from localStorage or wallet manager\n            const walletAddress = this.getWalletAddress();\n            if (!walletAddress) {\n                console.warn('No wallet connected. Pokemon caught but not minted as NFT.');\n                return;\n            }\n            this.updateBattleText('Minting your NFT on blockchain...');\n            // Determine rarity based on stats\n            const rarity = this.determineRarity(this.wildPokemon.data);\n            const isLegendary = this.checkIfLegendary(this.wildPokemon.pokeId);\n            const pokemonData = {\n                name: this.wildPokemon.name,\n                pokeId: this.wildPokemon.pokeId,\n                rarity,\n                level: 1,\n                isLegendary,\n                stats: this.wildPokemon.data.stats,\n                types: this.wildPokemon.data.types,\n                imageUrl: this.wildPokemon.spriteUrl,\n                ...this.wildPokemon.data\n            };\n            const response = await fetch('/api/mint/pokemon', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'x-wallet-address': walletAddress\n                },\n                body: JSON.stringify({\n                    walletAddress,\n                    pokemon: pokemonData\n                })\n            });\n            const result = await response.json();\n            if (result.success) {\n                this.updateBattleText(`✅ ${this.capitalize(this.wildPokemon.name)} minted as NFT #${result.nft.assetId}!\\nTx: ${result.nft.txId.substring(0, 10)}...`);\n                // Show popup with transaction details\n                this.showNFTMintedPopup(result.nft);\n            } else {\n                console.error('Failed to mint NFT:', result.error);\n                this.updateBattleText(`Caught ${this.capitalize(this.wildPokemon.name)}! (NFT minting failed)`);\n            }\n        } catch (error) {\n            console.error('Error minting NFT:', error);\n            this.updateBattleText(`Caught ${this.capitalize(this.wildPokemon.name)}!`);\n        }\n    }\n    showNFTMintedPopup(nft) {\n        const { width, height } = this.scale;\n        // Create popup container\n        const popup = this.add.container(width / 2, height / 2);\n        // Background\n        const bg = this.add.rectangle(0, 0, 400, 250, 0x000000, 0.9);\n        const border = this.add.rectangle(0, 0, 400, 250, 0xffd700).setStrokeStyle(4, 0xffd700);\n        // Title\n        const title = this.add.text(0, -90, '🎉 NFT Minted!', {\n            fontSize: '24px',\n            color: '#ffd700',\n            fontStyle: 'bold'\n        }).setOrigin(0.5);\n        // Pokemon name\n        const pokemonName = this.add.text(0, -50, `${this.capitalize(nft.name)}`, {\n            fontSize: '20px',\n            color: '#fff'\n        }).setOrigin(0.5);\n        // Asset ID\n        const assetIdText = this.add.text(0, -20, `Asset ID: ${nft.assetId}`, {\n            fontSize: '14px',\n            color: '#aaa'\n        }).setOrigin(0.5);\n        // Tx hash (shortened)\n        const txHashText = this.add.text(0, 5, `Tx: ${nft.txId.substring(0, 20)}...`, {\n            fontSize: '12px',\n            color: '#888'\n        }).setOrigin(0.5);\n        // Explorer link hint\n        const explorerText = this.add.text(0, 30, 'View on AlgoExplorer (TestNet)', {\n            fontSize: '12px',\n            color: '#4da6ff',\n            fontStyle: 'italic'\n        }).setOrigin(0.5);\n        // Rarity badge\n        const rarityBadge = this.add.text(0, 60, `⭐ ${nft.rarity || 'Common'}`, {\n            fontSize: '14px',\n            color: '#ffd700',\n            backgroundColor: '#333',\n            padding: {\n                x: 10,\n                y: 5\n            }\n        }).setOrigin(0.5);\n        // OK button\n        const okButton = this.add.text(0, 100, 'OK', {\n            fontSize: '18px',\n            color: '#fff',\n            backgroundColor: '#4CAF50',\n            padding: {\n                x: 30,\n                y: 10\n            }\n        }).setOrigin(0.5).setInteractive({\n            useHandCursor: true\n        }).on('pointerdown', ()=>{\n            popup.destroy();\n        });\n        popup.add([\n            bg,\n            border,\n            title,\n            pokemonName,\n            assetIdText,\n            txHashText,\n            explorerText,\n            rarityBadge,\n            okButton\n        ]);\n        popup.setDepth(1000);\n        // Auto-dismiss after 10 seconds\n        this.time.delayedCall(10000, ()=>{\n            if (popup.scene) popup.destroy();\n        });\n    }\n    determineRarity(pokemonData) {\n        const totalStats = pokemonData.stats?.reduce((sum, stat)=>sum + stat.base_stat, 0) || 0;\n        if (totalStats > 600) return 'Legendary';\n        if (totalStats > 500) return 'Rare';\n        if (totalStats > 400) return 'Uncommon';\n        return 'Common';\n    }\n    checkIfLegendary(pokeId) {\n        const legendaryIds = [\n            150,\n            144,\n            145,\n            146,\n            243,\n            244,\n            245,\n            249,\n            250,\n            382,\n            383,\n            384,\n            480,\n            481,\n            482,\n            483,\n            484,\n            487\n        ];\n        return legendaryIds.includes(pokeId);\n    }\n    getWalletAddress() {\n        // Try to get from wallet manager\n        if (false) {}\n        return null;\n    }\n    getUserId() {\n        // Get user ID from session/auth\n        if (false) {}\n        return null;\n    }\n    openBag() {\n        this.updateBattleText(\"You rummage through your bag...\");\n        // TODO: Implement bag/item usage\n        this.time.delayedCall(1000, ()=>this.wildAttack());\n    }\n    runAway() {\n        this.updateBattleText(\"You ran away safely!\");\n        this.time.delayedCall(1500, ()=>this.endBattle(false));\n    }\n    async wildDefeated() {\n        // Calculate EXP based on wild Pokemon level and base stats\n        const baseExp = this.wildPokemon.data?.base_experience || 50;\n        const expGained = 10 + this.wildLevel * 2;\n        this.updateBattleText(`Wild ${this.capitalize(this.wildPokemon.name)} fainted! ${this.capitalize(this.playerPokemon.name)} gained ${expGained} EXP!`);\n        // Update local cache and backend XP sync\n        try {\n            const wallet =  false ? 0 : null;\n            if (wallet) {\n                const cur = parseInt(localStorage.getItem('trainer_exp') || '0');\n                const newTotal = cur + expGained;\n                localStorage.setItem('trainer_exp', String(newTotal));\n                const { xpSync } = await __webpack_require__.e(/*! import() */ \"_pages-dir-node_src_services_trainer_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ../../src/services/trainer */ \"(pages-dir-node)/./src/services/trainer.ts\"));\n                await xpSync({\n                    walletAddress: wallet,\n                    newXP: newTotal\n                });\n                window.dispatchEvent(new CustomEvent('trainer-xp-update', {\n                    detail: {\n                        newXP: newTotal\n                    }\n                }));\n            }\n        } catch  {}\n        // 25% auto-catch chance\n        if (Math.random() < 0.25) {\n            await this.attemptCatch();\n        }\n        this.time.delayedCall(3000, ()=>this.endBattle(true));\n    }\n    playerDefeated() {\n        this.updateBattleText(`${this.capitalize(this.playerPokemon.name)} fainted! You lost the battle!`);\n        this.time.delayedCall(3000, ()=>this.endBattle(false));\n    }\n    endBattle(victory) {\n        // Return to GameScene\n        this.scene.start(\"GameScene\");\n    }\n    updateHpBars() {\n        if (this.wildHpBar && this.wildHpText) {\n            const wildHpPercent = this.wildHp / this.wildMaxHp;\n            this.wildHpBar.width = 196 * wildHpPercent;\n            this.wildHpBar.fillColor = wildHpPercent > 0.5 ? 0x00ff00 : wildHpPercent > 0.2 ? 0xffff00 : 0xff0000;\n            this.wildHpText.setText(`${this.capitalize(this.wildPokemon.name)} HP: ${this.wildHp}/${this.wildMaxHp}`);\n        }\n        if (this.playerHpBar && this.playerHpText) {\n            const playerHpPercent = this.playerHp / this.playerMaxHp;\n            this.playerHpBar.width = 196 * playerHpPercent;\n            this.playerHpBar.fillColor = playerHpPercent > 0.5 ? 0x00ff00 : playerHpPercent > 0.2 ? 0xffff00 : 0xff0000;\n            this.playerHpText.setText(`${this.capitalize(this.playerPokemon.name)} Lv.${this.playerPokemon.level} HP: ${this.playerHp}/${this.playerMaxHp}`);\n        }\n    }\n    updateBattleText(text) {\n        if (!this.battleText) return;\n        this.battleText.setText(text);\n    }\n    async loadTrainerTeam() {\n        try {\n            const wallet =  false ? 0 : null;\n            if (!wallet) return;\n            const res = await fetch(`/api/trainer/load/${encodeURIComponent(wallet)}`, {\n                headers: {\n                    'x-wallet-address': wallet\n                }\n            });\n            if (!res.ok) return;\n            const data = await res.json();\n            const trainer = data?.trainer;\n            const fromStorage = (trainer?.storage || []).slice(0, 6).map((p)=>({\n                    id: p.pokeId || p.id || 0,\n                    name: p.name,\n                    data: this.wildPokemon?.data,\n                    sprite: p.image_url || this.playerPokemon.spriteUrl,\n                    level: p.level || 1,\n                    maxHp: p.hp || 50,\n                    currentHp: p.hp || 50\n                }));\n            if (fromStorage.length) this.playerTeam = fromStorage;\n        } catch  {}\n    }\n    getStatValue(pokemonData, statName) {\n        const stat = pokemonData?.stats?.find((s)=>s.stat.name === statName);\n        return stat?.base_stat || 50;\n    }\n    capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2xpYi9waGFzZXIvQmF0dGxlU2NlbmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpQztBQUNxRDtBQXVCL0UsTUFBTUcsb0JBQW9CSCx5Q0FBWTtJQTZCM0MsYUFBYztRQUNaLEtBQUssQ0FBQyxxQkF6QkFLLFNBQWlCLFFBQ2pCQyxZQUFvQixRQUNwQkMsWUFBb0IsUUFDcEJDLFdBQW1CLFFBQ25CQyxjQUFzQixRQUN0QkMsYUFBb0IsRUFBRSxPQUN0QkMsZUFBdUIsR0FFL0IsZUFBZTthQUNQQyxlQUF3QixXQUN4QkMsbUJBQTRCLFlBQzVCQyxpQkFBMEUsV0FVMUVDLGdCQUEyQyxFQUFFO0lBS3JEO0lBRUFDLEtBQUtDLElBQWdCLEVBQUU7UUFDckIsSUFBSSxDQUFDQyxXQUFXLEdBQUdELEtBQUtDLFdBQVc7UUFDbkMsSUFBSSxDQUFDQyxhQUFhLEdBQUdGLEtBQUtFLGFBQWE7UUFDdkMsSUFBSSxDQUFDVCxVQUFVLEdBQUdPLEtBQUtQLFVBQVUsSUFBSSxFQUFFO1FBQ3ZDLElBQUksQ0FBQ0MsWUFBWSxHQUFHTSxLQUFLTixZQUFZLElBQUk7UUFFekMsK0NBQStDO1FBQy9DLElBQUksQ0FBQ0osU0FBUyxHQUFHLElBQUksQ0FBQ1csV0FBVyxDQUFDRSxLQUFLLElBQUk7UUFDM0MsTUFBTUMsYUFBYSxJQUFJLENBQUNILFdBQVcsQ0FBQ0QsSUFBSSxFQUFFSyxPQUFPQyxLQUFLLENBQUNDLElBQVdBLEVBQUVDLElBQUksQ0FBQ0MsSUFBSSxLQUFLLE9BQU9DLGFBQWE7UUFDdEcsSUFBSSxDQUFDckIsU0FBUyxHQUFHc0IsS0FBS0MsS0FBSyxDQUFDLGFBQWMsSUFBSSxJQUFJLENBQUN0QixTQUFTLEdBQUksTUFBTSxJQUFJLENBQUNBLFNBQVMsR0FBRztRQUN2RixJQUFJLENBQUNGLE1BQU0sR0FBRyxJQUFJLENBQUNDLFNBQVM7UUFFNUIsSUFBSSxDQUFDRyxXQUFXLEdBQUcsSUFBSSxDQUFDVSxhQUFhLENBQUNXLEtB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dlEsTUFBTXVRO1lBQ3RCLE1BQU1DLGNBQWMsQ0FBQ0QsU0FBU0UsV0FBVyxFQUFFLEVBQUVuTCxLQUFLLENBQUMsR0FBRyxHQUFHNkIsR0FBRyxDQUFDLENBQUN1SixJQUFZO29CQUN4RTdKLElBQUk2SixFQUFFeFAsTUFBTSxJQUFJd1AsRUFBRTdKLEVBQUUsSUFBSTtvQkFDeEJwRyxNQUFNaVEsRUFBRWpRLElBQUk7b0JBQ1pULE1BQU0sSUFBSSxDQUFDQyxXQUFXLEVBQUVEO29CQUN4QmdLLFFBQVEwRyxFQUFFQyxTQUFTLElBQUksSUFBSSxDQUFDelEsYUFBYSxDQUFDeUIsU0FBUztvQkFDbkR4QixPQUFPdVEsRUFBRXZRLEtBQUssSUFBSTtvQkFDbEJVLE9BQU82UCxFQUFFOUUsRUFBRSxJQUFJO29CQUNmOUssV0FBVzRQLEVBQUU5RSxFQUFFLElBQUk7Z0JBQ3JCO1lBQ0EsSUFBSTRFLFlBQVl0SyxNQUFNLEVBQUUsSUFBSSxDQUFDekcsVUFBVSxHQUFHK1E7UUFDNUMsRUFBRSxPQUFNLENBQUM7SUFDWDtJQUVRM0gsYUFBYWdFLFdBQWdCLEVBQUUrRCxRQUFnQixFQUFVO1FBQy9ELE1BQU1wUSxPQUFPcU0sYUFBYXhNLE9BQU9DLEtBQUssQ0FBQ0MsSUFBV0EsRUFBRUMsSUFBSSxDQUFDQyxJQUFJLEtBQUttUTtRQUNsRSxPQUFPcFEsTUFBTUUsYUFBYTtJQUM1QjtJQUVRaUMsV0FBV2tPLEdBQVcsRUFBVTtRQUN0QyxPQUFPQSxJQUFJQyxNQUFNLENBQUMsR0FBR2xMLFdBQVcsS0FBS2lMLElBQUl2TCxLQUFLLENBQUM7SUFDakQ7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxTYWhpdGhcXE9uZURyaXZlXFxEZXNrdG9wXFx5b2thaWh1bnRcXGZyb250ZW5kXFxsaWJcXHBoYXNlclxcQmF0dGxlU2NlbmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgY2FsY3VsYXRlRGFtYWdlLCBnZXRNb3ZlRGF0YSwgdHlwZSBQb2tlbW9uVHlwZSB9IGZyb20gXCIuLi90eXBlRWZmZWN0aXZlbmVzc1wiO1xyXG5cclxuaW50ZXJmYWNlIEJhdHRsZURhdGEge1xyXG4gIHdpbGRQb2tlbW9uOiB7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBwb2tlSWQ6IG51bWJlcjtcclxuICAgIGRhdGE6IGFueTtcclxuICAgIHNwcml0ZVVybDogc3RyaW5nO1xyXG4gICAgbGV2ZWw/OiBudW1iZXI7XHJcbiAgfTtcclxuICBwbGF5ZXJQb2tlbW9uOiB7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBwb2tlSWQ6IG51bWJlcjtcclxuICAgIGRhdGE6IGFueTtcclxuICAgIHNwcml0ZVVybDogc3RyaW5nO1xyXG4gICAgbGV2ZWw6IG51bWJlcjtcclxuICAgIGN1cnJlbnRIcDogbnVtYmVyO1xyXG4gICAgbWF4SHA6IG51bWJlcjtcclxuICB9O1xyXG4gIHBsYXllclRlYW0/OiBhbnlbXTsgLy8gRnVsbCB0ZWFtIGZvciBzd2l0Y2hpbmdcclxuICB0cmFpbmVyTGV2ZWw/OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCYXR0bGVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgcHJpdmF0ZSB3aWxkUG9rZW1vbiE6IEJhdHRsZURhdGFbXCJ3aWxkUG9rZW1vblwiXTtcclxuICBwcml2YXRlIHBsYXllclBva2Vtb24hOiBCYXR0bGVEYXRhW1wicGxheWVyUG9rZW1vblwiXTtcclxuICBwcml2YXRlIHdpbGRTcHJpdGU/OiBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2U7XHJcbiAgcHJpdmF0ZSBwbGF5ZXJTcHJpdGU/OiBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2U7XHJcbiAgcHJpdmF0ZSB3aWxkSHA6IG51bWJlciA9IDA7XHJcbiAgcHJpdmF0ZSB3aWxkTWF4SHA6IG51bWJlciA9IDA7XHJcbiAgcHJpdmF0ZSB3aWxkTGV2ZWw6IG51bWJlciA9IDU7XHJcbiAgcHJpdmF0ZSBwbGF5ZXJIcDogbnVtYmVyID0gMDtcclxuICBwcml2YXRlIHBsYXllck1heEhwOiBudW1iZXIgPSAwO1xyXG4gIHByaXZhdGUgcGxheWVyVGVhbTogYW55W10gPSBbXTtcclxuICBwcml2YXRlIHRyYWluZXJMZXZlbDogbnVtYmVyID0gMTtcclxuICBcclxuICAvLyBCYXR0bGUgc3RhdGVcclxuICBwcml2YXRlIGlzUGxheWVyVHVybjogYm9vbGVhbiA9IHRydWU7XHJcbiAgcHJpdmF0ZSBiYXR0bGVJblByb2dyZXNzOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBsYXN0RGFtYWdlSW5mbzogeyBkYW1hZ2U6IG51bWJlcjsgZWZmZWN0aXZlbmVzczogc3RyaW5nIHwgbnVsbCB9IHwgbnVsbCA9IG51bGw7XHJcbiAgXHJcbiAgLy8gVUkgRWxlbWVudHNcclxuICBwcml2YXRlIGJhdHRsZVVJPzogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcclxuICBwcml2YXRlIHdpbGRIcEJhcj86IFBoYXNlci5HYW1lT2JqZWN0cy5SZWN0YW5nbGU7XHJcbiAgcHJpdmF0ZSBwbGF5ZXJIcEJhcj86IFBoYXNlci5HYW1lT2JqZWN0cy5SZWN0YW5nbGU7XHJcbiAgcHJpdmF0ZSB3aWxkSHBUZXh0PzogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XHJcbiAgcHJpdmF0ZSBwbGF5ZXJIcFRleHQ/OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcclxuICBwcml2YXRlIGJhdHRsZVRleHQ/OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcclxuICBwcml2YXRlIGFjdGlvbkJ1dHRvbnM/OiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xyXG4gIHByaXZhdGUgZmxvYXRpbmdUZXh0czogUGhhc2VyLkdhbWVPYmplY3RzLlRleHRbXSA9IFtdO1xyXG4gIHByaXZhdGUgc3RhdHVzVG9hc3Q/OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcihcIkJhdHRsZVNjZW5lXCIpO1xyXG4gIH1cclxuXHJcbiAgaW5pdChkYXRhOiBCYXR0bGVEYXRhKSB7XHJcbiAgICB0aGlzLndpbGRQb2tlbW9uID0gZGF0YS53aWxkUG9rZW1vbjtcclxuICAgIHRoaXMucGxheWVyUG9rZW1vbiA9IGRhdGEucGxheWVyUG9rZW1vbjtcclxuICAgIHRoaXMucGxheWVyVGVhbSA9IGRhdGEucGxheWVyVGVhbSB8fCBbXTtcclxuICAgIHRoaXMudHJhaW5lckxldmVsID0gZGF0YS50cmFpbmVyTGV2ZWwgfHwgMTtcclxuICAgIFxyXG4gICAgLy8gQ2FsY3VsYXRlIHdpbGQgUG9rZW1vbiBIUCB3aXRoIGxldmVsIHNjYWxpbmdcclxuICAgIHRoaXMud2lsZExldmVsID0gdGhpcy53aWxkUG9rZW1vbi5sZXZlbCB8fCA1O1xyXG4gICAgY29uc3Qgd2lsZEhwU3RhdCA9IHRoaXMud2lsZFBva2Vtb24uZGF0YT8uc3RhdHM/LmZpbmQoKHM6IGFueSkgPT4gcy5zdGF0Lm5hbWUgPT09ICdocCcpPy5iYXNlX3N0YXQgfHwgNTA7XHJcbiAgICB0aGlzLndpbGRNYXhIcCA9IE1hdGguZmxvb3IoKHdpbGRIcFN0YXQgKiAyICogdGhpcy53aWxkTGV2ZWwpIC8gMTAwICsgdGhpcy53aWxkTGV2ZWwgKyAxMCk7XHJcbiAgICB0aGlzLndpbGRIcCA9IHRoaXMud2lsZE1heEhwO1xyXG4gICAgXHJcbiAgICB0aGlzLnBsYXllck1heEhwID0gdGhpcy5wbGF5ZXJQb2tlbW9uLm1heEhwO1xyXG4gICAgdGhpcy5wbGF5ZXJIcCA9IHRoaXMucGxheWVyUG9rZW1vbi5jdXJyZW50SHA7XHJcbiAgICBcclxuICAgIHRoaXMuaXNQbGF5ZXJUdXJuID0gdHJ1ZTtcclxuICAgIHRoaXMuYmF0dGxlSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcHJlbG9hZCgpIHtcclxuICAgIC8vIExvYWQgUG9rw6ltb24gc3ByaXRlcyBpZiBub3QgYWxyZWFkeSBsb2FkZWRcclxuICAgIGlmICghdGhpcy50ZXh0dXJlcy5leGlzdHMoYHdpbGQtJHt0aGlzLndpbGRQb2tlbW9uLnBva2VJZH1gKSkge1xyXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgIHRoaXMubG9hZC5vbmNlKFBoYXNlci5Mb2FkZXIuRXZlbnRzLkNPTVBMRVRFLCAoKSA9PiByZXNvbHZlKCkpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZShgd2lsZC0ke3RoaXMud2lsZFBva2Vtb24ucG9rZUlkfWAsIHRoaXMud2lsZFBva2Vtb24uc3ByaXRlVXJsKTtcclxuICAgICAgICB0aGlzLmxvYWQuc3RhcnQoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICghdGhpcy50ZXh0dXJlcy5leGlzdHMoYHBsYXllci0ke3RoaXMucGxheWVyUG9rZW1vbi5wb2tlSWR9YCkpIHtcclxuICAgICAgYXdhaXQgbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcclxuICAgICAgICB0aGlzLmxvYWQub25jZShQaGFzZXIuTG9hZGVyLkV2ZW50cy5DT01QTEVURSwgKCkgPT4gcmVzb2x2ZSgpKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoYHBsYXllci0ke3RoaXMucGxheWVyUG9rZW1vbi5wb2tlSWR9YCwgdGhpcy5wbGF5ZXJQb2tlbW9uLnNwcml0ZVVybCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnN0YXJ0KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY3JlYXRlKCkge1xyXG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG5cclxuICAgIC8vIEJhY2tncm91bmRcclxuICAgIHRoaXMuYWRkLnJlY3RhbmdsZSh3aWR0aCAvIDIsIGhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQsIDB4ODdDRUVCKS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvLyBIaWRlIGFueSBsaW5nZXJpbmcgbWFwIFVJIGJ5IGRyYXdpbmcgYW4gb3BhcXVlIGZvb3RlciAocHJldmVudHMgRE9NIG92ZXJsYXAgcGVyY2VwdGlvbilcclxuICAgIHRoaXMuYWRkLnJlY3RhbmdsZSh3aWR0aCAvIDIsIGhlaWdodCAtIDE4LCB3aWR0aCwgMzYsIDB4MDAwMDAwLCAwLjIpLnNldERlcHRoKDUpO1xyXG5cclxuICAgIC8vIFdpbGQgUG9rw6ltb24gKGVuZW15LCB0b3AgcmlnaHQpXHJcbiAgICB0aGlzLndpbGRTcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSh3aWR0aCAqIDAuNzUsIGhlaWdodCAqIDAuMywgYHdpbGQtJHt0aGlzLndpbGRQb2tlbW9uLnBva2VJZH1gKVxyXG4gICAgICAuc2V0U2NhbGUoMilcclxuICAgICAgLnNldEZsaXBYKGZhbHNlKTtcclxuXHJcbiAgICAvLyBQbGF5ZXIgUG9rw6ltb24gKGJvdHRvbSBsZWZ0LCBiYWNrIHNwcml0ZSlcclxuICAgIHRoaXMucGxheWVyU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggKiAwLjI1LCBoZWlnaHQgKiAwLjY1LCBgcGxheWVyLSR7dGhpcy5wbGF5ZXJQb2tlbW9uLnBva2VJZH1gKVxyXG4gICAgICAuc2V0U2NhbGUoMilcclxuICAgICAgLnNldEZsaXBYKHRydWUpO1xyXG5cclxuICAgIHRoaXMuY3JlYXRlVUkoKTtcclxuICAgIHRoaXMudG9hc3QoYEEgd2lsZCAke3RoaXMuY2FwaXRhbGl6ZSh0aGlzLndpbGRQb2tlbW9uLm5hbWUpfSBhcHBlYXJlZCFgLCAxNTAwKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlVUkoKSB7XHJcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcblxyXG4gICAgLy8gQmF0dGxlIFVJIENvbnRhaW5lclxyXG4gICAgdGhpcy5iYXR0bGVVSSA9IHRoaXMuYWRkLmNvbnRhaW5lcigwLCAwKTtcclxuXHJcbiAgICAvLyBXaWxkIFBva8OpbW9uIEhQIEJhciAodG9wIGxlZnQpXHJcbiAgICBjb25zdCB3aWxkSHBCZyA9IHRoaXMuYWRkLnJlY3RhbmdsZSgyMCwgMjAsIDIwMCwgMjAsIDB4MzMzMzMzKS5zZXRPcmlnaW4oMCk7XHJcbiAgICB0aGlzLndpbGRIcEJhciA9IHRoaXMuYWRkLnJlY3RhbmdsZSgyMiwgMjIsIDE5NiwgMTYsIDB4MDBmZjAwKS5zZXRPcmlnaW4oMCk7XHJcbiAgICB0aGlzLndpbGRIcFRleHQgPSB0aGlzLmFkZC50ZXh0KDIwLCA0NSwgYCR7dGhpcy5jYXBpdGFsaXplKHRoaXMud2lsZFBva2Vtb24ubmFtZSl9IEhQOiAke3RoaXMud2lsZEhwfS8ke3RoaXMud2lsZE1heEhwfWAsIHtcclxuICAgICAgZm9udFNpemU6ICcxNHB4JyxcclxuICAgICAgY29sb3I6ICcjMDAwJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUGxheWVyIFBva8OpbW9uIEhQIEJhciAoYm90dG9tIHJpZ2h0KVxyXG4gICAgY29uc3QgcGxheWVySHBCZyA9IHRoaXMuYWRkLnJlY3RhbmdsZSh3aWR0aCAtIDIyMCwgaGVpZ2h0IC0gODAsIDIwMCwgMjAsIDB4MzMzMzMzKS5zZXRPcmlnaW4oMCk7XHJcbiAgICB0aGlzLnBsYXllckhwQmFyID0gdGhpcy5hZGQucmVjdGFuZ2xlKHdpZHRoIC0gMjE4LCBoZWlnaHQgLSA3OCwgMTk2LCAxNiwgMHgwMGZmMDApLnNldE9yaWdpbigwKTtcclxuICAgIHRoaXMucGxheWVySHBUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAtIDIyMCwgaGVpZ2h0IC0gNTUsIGAke3RoaXMuY2FwaXRhbGl6ZSh0aGlzLnBsYXllclBva2Vtb24ubmFtZSl9IEx2LiR7dGhpcy5wbGF5ZXJQb2tlbW9uLmxldmVsfSBIUDogJHt0aGlzLnBsYXllckhwfS8ke3RoaXMucGxheWVyTWF4SHB9YCwge1xyXG4gICAgICBmb250U2l6ZTogJzE0cHgnLFxyXG4gICAgICBjb2xvcjogJyMwMDAnXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBNaW5pbWFsIHN0YXR1cyB0b2FzdCAodG9wLXJpZ2h0KSwgbm8gYmlnIGRpYWxvZyBib3hcclxuICAgIHRoaXMuYmF0dGxlVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLSAzNjAsIDEyLCAnJywge1xyXG4gICAgICBmb250U2l6ZTogJzE0cHgnLCBjb2xvcjogJyMwMDAnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmZTYnLCBwYWRkaW5nOiB7IHg6IDEwLCB5OiA2IH0sIHdvcmRXcmFwOiB7IHdpZHRoOiAzNDAgfVxyXG4gICAgfSkuc2V0RGVwdGgoMTAwMikuc2V0VmlzaWJsZShmYWxzZSk7XHJcblxyXG4gICAgLy8gQWN0aW9uIGJ1dHRvbnMgKHBsYWNlZCBhdCByaWdodC1taWRkbGUgYXMgdmVydGljYWwgc3RhY2spXHJcbiAgICB0aGlzLmNyZWF0ZUFjdGlvbkJ1dHRvbnMoKTtcclxuXHJcbiAgICB0aGlzLmJhdHRsZVVJLmFkZChbd2lsZEhwQmcsIHRoaXMud2lsZEhwQmFyLCB0aGlzLndpbGRIcFRleHQsIHBsYXllckhwQmcsIHRoaXMucGxheWVySHBCYXIsIHRoaXMucGxheWVySHBUZXh0XSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUFjdGlvbkJ1dHRvbnMoKSB7XHJcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcblxyXG4gICAgdGhpcy5hY3Rpb25CdXR0b25zID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApO1xyXG5cclxuICAgIGNvbnN0IGJhc2VYID0gd2lkdGggLSAxMjA7XHJcbiAgICBjb25zdCBiYXNlWSA9IGhlaWdodCAvIDIgLSAxMDA7XHJcbiAgICBjb25zdCB2R2FwID0gMzQ7XHJcbiAgICBjb25zdCBidXR0b25EYXRhID0gW1xyXG4gICAgICB7IHRleHQ6ICdGSUdIVCcsIHg6IGJhc2VYLCB5OiBiYXNlWSArIHZHYXAgKiAwLCBhY3Rpb246ICgpID0+IHRoaXMuc2hvd01vdmVTZWxlY3Rpb24oKSB9LFxyXG4gICAgICB7IHRleHQ6ICdTV0lUQ0gnLCB4OiBiYXNlWCwgeTogYmFzZVkgKyB2R2FwICogMSwgYWN0aW9uOiAoKSA9PiB0aGlzLnNob3dUZWFtU2VsZWN0aW9uKCkgfSxcclxuICAgICAgeyB0ZXh0OiAnQkFHJywgeDogYmFzZVgsIHk6IGJhc2VZICsgdkdhcCAqIDIsIGFjdGlvbjogKCkgPT4gdGhpcy5vcGVuQmFnKCkgfSxcclxuICAgICAgeyB0ZXh0OiAnQ0FUQ0gnLCB4OiBiYXNlWCwgeTogYmFzZVkgKyB2R2FwICogMywgYWN0aW9uOiAoKSA9PiB0aGlzLmF0dGVtcHRDYXRjaCgpIH0sXHJcbiAgICAgIHsgdGV4dDogJ1JVTicsIHg6IGJhc2VYLCB5OiBiYXNlWSArIHZHYXAgKiA0LCBhY3Rpb246ICgpID0+IHRoaXMucnVuQXdheSgpIH1cclxuICAgIF07XHJcblxyXG4gICAgYnV0dG9uRGF0YS5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuYWRkLnRleHQoYnRuLngsIGJ0bi55LCBidG4udGV4dCwge1xyXG4gICAgICAgIGZvbnRTaXplOiAnMTRweCcsXHJcbiAgICAgICAgY29sb3I6ICcjZmZmJyxcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMzMzJyxcclxuICAgICAgICBwYWRkaW5nOiB7IHg6IDgsIHk6IDQgfVxyXG4gICAgICB9KS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgYnRuLmFjdGlvbik7XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLmFjdGlvbkJ1dHRvbnM/LmFkZChidXR0b24pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKHRoaXMuYWN0aW9uQnV0dG9ucykgdGhpcy5iYXR0bGVVST8uYWRkKHRoaXMuYWN0aW9uQnV0dG9ucyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNob3dNb3ZlU2VsZWN0aW9uKCkge1xyXG4gICAgaWYgKCF0aGlzLmlzUGxheWVyVHVybiB8fCB0aGlzLmJhdHRsZUluUHJvZ3Jlc3MpIHJldHVybjtcclxuXHJcbiAgICAvLyBIaWRlIG1haW4gYWN0aW9uIGJ1dHRvbnNcclxuICAgIGlmICh0aGlzLmFjdGlvbkJ1dHRvbnMpIHRoaXMuYWN0aW9uQnV0dG9ucy5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICBjb25zdCBtb3ZlcyA9IHRoaXMuZ2V0UGxheWVyTW92ZXMoKTtcclxuXHJcbiAgICAvLyBDcmVhdGUgbW92ZSBzZWxlY3Rpb24gY29udGFpbmVyXHJcbiAgICBjb25zdCBtb3ZlQ29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApO1xyXG5cclxuICAgIC8vIEJhY2tncm91bmQgZm9yIG1vdmUgc2VsZWN0aW9uIChyaWdodC1jZW50ZXIgcGFuZWwpXHJcbiAgICBjb25zdCBwYW5lbFcgPSAzMDA7IGNvbnN0IHBhbmVsSCA9IDE0MDtcclxuICAgIGNvbnN0IG1vdmVCZyA9IHRoaXMuYWRkLnJlY3RhbmdsZSh3aWR0aCAtIHBhbmVsVyAtIDIwLCBoZWlnaHQgLyAyIC0gcGFuZWxIIC8gMiwgcGFuZWxXLCBwYW5lbEgsIDB4MjIyMjIyLCAwLjk1KS5zZXRPcmlnaW4oMCk7XHJcbiAgICBtb3ZlQ29udGFpbmVyLmFkZChtb3ZlQmcpO1xyXG5cclxuICAgIC8vIERpc3BsYXkgdXAgdG8gNCBtb3ZlcyBpbiBhIDJ4MiBncmlkXHJcbiAgICBtb3Zlcy5zbGljZSgwLCA0KS5mb3JFYWNoKChtb3ZlLCBpbmRleCkgPT4ge1xyXG4gICAgICBjb25zdCBjb2wgPSBpbmRleCAlIDI7XHJcbiAgICAgIGNvbnN0IHJvdyA9IE1hdGguZmxvb3IoaW5kZXggLyAyKTtcclxuICAgICAgY29uc3QgeCA9IHdpZHRoIC0gcGFuZWxXIC0gMTAgKyBjb2wgKiAxNTA7XHJcbiAgICAgIGNvbnN0IHkgPSBoZWlnaHQgLyAyIC0gcGFuZWxIIC8gMiArIDEwICsgcm93ICogNjA7XHJcblxyXG4gICAgICBjb25zdCBtb3ZlQnV0dG9uID0gdGhpcy5hZGQudGV4dCh4LCB5LCBtb3ZlLm5hbWUudG9VcHBlckNhc2UoKSwge1xyXG4gICAgICAgIGZvbnRTaXplOiAnMTNweCcsXHJcbiAgICAgICAgY29sb3I6ICcjZmZmJyxcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMuZ2V0TW92ZVR5cGVDb2xvcihtb3ZlLnR5cGUpLFxyXG4gICAgICAgIHBhZGRpbmc6IHsgeDogMTAsIHk6IDYgfVxyXG4gICAgICB9KS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgbW92ZUNvbnRhaW5lci5kZXN0cm95KCk7XHJcbiAgICAgICAgICBpZiAodGhpcy5hY3Rpb25CdXR0b25zKSB0aGlzLmFjdGlvbkJ1dHRvbnMuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgIHRoaXMudXNlTW92ZShtb3ZlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIG1vdmVDb250YWluZXIuYWRkKG1vdmVCdXR0b24pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQmFjayBidXR0b25cclxuICAgIGNvbnN0IGJhY2tCdXR0b24gPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC0gcGFuZWxXLCBoZWlnaHQgLyAyICsgcGFuZWxIIC8gMiArIDgsICdCQUNLJywge1xyXG4gICAgICBmb250U2l6ZTogJzEycHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmYnLFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNjY2JyxcclxuICAgICAgcGFkZGluZzogeyB4OiA4LCB5OiA0IH1cclxuICAgIH0pLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgIG1vdmVDb250YWluZXIuZGVzdHJveSgpO1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGlvbkJ1dHRvbnMpIHRoaXMuYWN0aW9uQnV0dG9ucy5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICBtb3ZlQ29udGFpbmVyLmFkZChiYWNrQnV0dG9uKTtcclxuICAgIHRoaXMuYmF0dGxlVUk/LmFkZChtb3ZlQ29udGFpbmVyKTtcclxuICB9XHJcbiAgXHJcbiAgcHJpdmF0ZSBzaG93VGVhbVNlbGVjdGlvbigpIHtcclxuICAgIGlmICghdGhpcy5pc1BsYXllclR1cm4gfHwgdGhpcy5iYXR0bGVJblByb2dyZXNzKSByZXR1cm47XHJcbiAgICBpZiAodGhpcy5wbGF5ZXJUZWFtLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAvLyBUcnkgbGF6eS1sb2FkIHRlYW0gZnJvbSB0cmFpbmVyIHN0b3JhZ2VcclxuICAgICAgdGhpcy5sb2FkVHJhaW5lclRlYW0oKS50aGVuKCgpID0+IHRoaXMuaW50ZXJuYWxTaG93VGVhbVNlbGVjdGlvbigpKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pbnRlcm5hbFNob3dUZWFtU2VsZWN0aW9uKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGludGVybmFsU2hvd1RlYW1TZWxlY3Rpb24oKSB7XHJcbiAgICBcclxuICAgIC8vIEhpZGUgbWFpbiBhY3Rpb24gYnV0dG9uc1xyXG4gICAgaWYgKHRoaXMuYWN0aW9uQnV0dG9ucykgdGhpcy5hY3Rpb25CdXR0b25zLnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuXHJcbiAgICAvLyBDcmVhdGUgdGVhbSBzZWxlY3Rpb24gY29udGFpbmVyXHJcbiAgICBjb25zdCB0ZWFtQ29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApO1xyXG5cclxuICAgIC8vIEJhY2tncm91bmQgZm9yIHRlYW0gc2VsZWN0aW9uXHJcbiAgICBjb25zdCB0ZWFtQmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUod2lkdGggLyAyIC0gMjAwLCBoZWlnaHQgLyAyIC0gMTUwLCA0MDAsIDMwMCwgMHgyMjIyMjIsIDAuOTUpLnNldE9yaWdpbigwKTtcclxuICAgIHRlYW1Db250YWluZXIuYWRkKHRlYW1CZyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHRpdGxlID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgLSAxMzAsICdDaG9vc2UgUG9rZW1vbicsIHtcclxuICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgY29sb3I6ICcjZmZmJyxcclxuICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgdGVhbUNvbnRhaW5lci5hZGQodGl0bGUpO1xyXG5cclxuICAgIC8vIERpc3BsYXkgdGVhbSBtZW1iZXJzXHJcbiAgICB0aGlzLnBsYXllclRlYW0uZm9yRWFjaCgocG9rZW1vbiwgaW5kZXgpID0+IHtcclxuICAgICAgY29uc3QgeSA9IGhlaWdodCAvIDIgLSA5MCArIGluZGV4ICogNTA7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRIcCA9IHBva2Vtb24uY3VycmVudEhwIHx8IHBva2Vtb24ubWF4SHAgfHwgMTAwO1xyXG4gICAgICBjb25zdCBtYXhIcCA9IHBva2Vtb24ubWF4SHAgfHwgMTAwO1xyXG4gICAgICBjb25zdCBpc0ZhaW50ZWQgPSBjdXJyZW50SHAgPD0gMDtcclxuICAgICAgY29uc3QgaXNDdXJyZW50ID0gcG9rZW1vbi5pZCA9PT0gdGhpcy5wbGF5ZXJQb2tlbW9uLnBva2VJZDtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHBva2Vtb25CdXR0b24gPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiAtIDE4MCwgeSwgXHJcbiAgICAgICAgYCR7dGhpcy5jYXBpdGFsaXplKHBva2Vtb24ubmFtZSl9IEx2LiR7cG9rZW1vbi5sZXZlbCB8fCAxfSAgSFA6ICR7Y3VycmVudEhwfS8ke21heEhwfWAsIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXHJcbiAgICAgICAgICBjb2xvcjogaXNGYWludGVkID8gJyM2NjYnIDogaXNDdXJyZW50ID8gJyNmZmQ3MDAnIDogJyNmZmYnLFxyXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBpc0N1cnJlbnQgPyAnIzQ0NCcgOiAnIzMzMycsXHJcbiAgICAgICAgICBwYWRkaW5nOiB7IHg6IDEwLCB5OiA2IH1cclxuICAgICAgICB9XHJcbiAgICAgICkuc2V0T3JpZ2luKDApO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFpc0ZhaW50ZWQgJiYgIWlzQ3VycmVudCkge1xyXG4gICAgICAgIHBva2Vtb25CdXR0b24uc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0ZWFtQ29udGFpbmVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aW9uQnV0dG9ucykgdGhpcy5hY3Rpb25CdXR0b25zLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoUG9rZW1vbihwb2tlbW9uKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0ZWFtQ29udGFpbmVyLmFkZChwb2tlbW9uQnV0dG9uKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEJhY2sgYnV0dG9uXHJcbiAgICBjb25zdCBiYWNrQnV0dG9uID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgKyAxMzAsICdCQUNLJywge1xyXG4gICAgICBmb250U2l6ZTogJzE0cHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmYnLFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNjY2JyxcclxuICAgICAgcGFkZGluZzogeyB4OiAxNSwgeTogOCB9XHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICB0ZWFtQ29udGFpbmVyLmRlc3Ryb3koKTtcclxuICAgICAgICBpZiAodGhpcy5hY3Rpb25CdXR0b25zKSB0aGlzLmFjdGlvbkJ1dHRvbnMuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgdGVhbUNvbnRhaW5lci5hZGQoYmFja0J1dHRvbik7XHJcbiAgICB0ZWFtQ29udGFpbmVyLnNldERlcHRoKDEwMDEpO1xyXG4gICAgdGhpcy5iYXR0bGVVST8uYWRkKHRlYW1Db250YWluZXIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRQbGF5ZXJNb3ZlcygpIHtcclxuICAgIC8vIEdldCBtb3ZlcyBmcm9tIFBva2Vtb24gZGF0YVxyXG4gICAgY29uc3QgbW92ZXMgPSB0aGlzLnBsYXllclBva2Vtb24uZGF0YT8ubW92ZXMgfHwgW107XHJcbiAgICBcclxuICAgIC8vIElmIFBva2Vtb24gaGFzIG5vIG1vdmVzLCBwcm92aWRlIGRlZmF1bHQgbW92ZXMgYmFzZWQgb24gdHlwZSBvciBnZW5lcmljIGF0dGFja3NcclxuICAgIGlmIChtb3Zlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgLy8gRmFsbGJhY2sgbW92ZXMgaWYgUG9rZW1vbiBoYXMgbm8gbW92ZSBkYXRhXHJcbiAgICAgIGNvbnN0IHR5cGVzID0gdGhpcy5wbGF5ZXJQb2tlbW9uLmRhdGE/LnR5cGVzIHx8IFtdO1xyXG4gICAgICBjb25zdCBwcmltYXJ5VHlwZSA9IHR5cGVzWzBdPy50eXBlPy5uYW1lIHx8ICdub3JtYWwnO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIFtcclxuICAgICAgICB7IG5hbWU6ICdUYWNrbGUnLCB0eXBlOiAnbm9ybWFsJyB9LFxyXG4gICAgICAgIHsgbmFtZTogJ1NjcmF0Y2gnLCB0eXBlOiAnbm9ybWFsJyB9LFxyXG4gICAgICAgIHsgbmFtZTogdGhpcy5nZXRUeXBlZE1vdmUocHJpbWFyeVR5cGUpLCB0eXBlOiBwcmltYXJ5VHlwZSB9LFxyXG4gICAgICAgIHsgbmFtZTogJ1F1aWNrIEF0dGFjaycsIHR5cGU6ICdub3JtYWwnIH1cclxuICAgICAgXTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRmlsdGVyIHRvIGdldCBsZWFybmVkIG1vdmVzIChzaW1wbGlmaWVkIC0ganVzdCB0YWtlIGZpcnN0IDQpXHJcbiAgICByZXR1cm4gbW92ZXMuc2xpY2UoMCwgNCkubWFwKChtOiBhbnkpID0+ICh7XHJcbiAgICAgIG5hbWU6IG0ubW92ZS5uYW1lLnJlcGxhY2UoLy0vZywgJyAnKSxcclxuICAgICAgdXJsOiBtLm1vdmUudXJsLFxyXG4gICAgICB0eXBlOiAnbm9ybWFsJyAvLyBEZWZhdWx0IHR5cGUsIHdvdWxkIG5lZWQgdG8gZmV0Y2ggbW92ZSBkZXRhaWxzIGZvciBhY3R1YWwgdHlwZVxyXG4gICAgfSkpO1xyXG4gIH1cclxuICBcclxuICBwcml2YXRlIGdldFR5cGVkTW92ZSh0eXBlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgdHlwZU1vdmVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICBmaXJlOiAnRW1iZXInLFxyXG4gICAgICB3YXRlcjogJ1dhdGVyIEd1bicsXHJcbiAgICAgIGdyYXNzOiAnVmluZSBXaGlwJyxcclxuICAgICAgZWxlY3RyaWM6ICdUaHVuZGVyIFNob2NrJyxcclxuICAgICAgaWNlOiAnUG93ZGVyIFNub3cnLFxyXG4gICAgICBmaWdodGluZzogJ0thcmF0ZSBDaG9wJyxcclxuICAgICAgcG9pc29uOiAnUG9pc29uIFN0aW5nJyxcclxuICAgICAgZ3JvdW5kOiAnTXVkIFNsYXAnLFxyXG4gICAgICBmbHlpbmc6ICdHdXN0JyxcclxuICAgICAgcHN5Y2hpYzogJ0NvbmZ1c2lvbicsXHJcbiAgICAgIGJ1ZzogJ0J1ZyBCaXRlJyxcclxuICAgICAgcm9jazogJ1JvY2sgVGhyb3cnLFxyXG4gICAgICBnaG9zdDogJ0xpY2snLFxyXG4gICAgICBkcmFnb246ICdEcmFnb24gQnJlYXRoJyxcclxuICAgICAgZGFyazogJ0JpdGUnLFxyXG4gICAgICBzdGVlbDogJ01ldGFsIENsYXcnLFxyXG4gICAgICBmYWlyeTogJ0ZhaXJ5IFdpbmQnLFxyXG4gICAgICBub3JtYWw6ICdUYWNrbGUnXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHR5cGVNb3Zlc1t0eXBlXSB8fCAnVGFja2xlJztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0TW92ZVR5cGVDb2xvcih0eXBlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgY29sb3JzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICBub3JtYWw6ICcjQThBODc4JyxcclxuICAgICAgZmlyZTogJyNGMDgwMzAnLFxyXG4gICAgICB3YXRlcjogJyM2ODkwRjAnLFxyXG4gICAgICBncmFzczogJyM3OEM4NTAnLFxyXG4gICAgICBlbGVjdHJpYzogJyNGOEQwMzAnLFxyXG4gICAgICBpY2U6ICcjOThEOEQ4JyxcclxuICAgICAgZmlnaHRpbmc6ICcjQzAzMDI4JyxcclxuICAgICAgcG9pc29uOiAnI0EwNDBBMCcsXHJcbiAgICAgIGdyb3VuZDogJyNFMEMwNjgnLFxyXG4gICAgICBmbHlpbmc6ICcjQTg5MEYwJyxcclxuICAgICAgcHN5Y2hpYzogJyNGODU4ODgnLFxyXG4gICAgICBidWc6ICcjQThCODIwJyxcclxuICAgICAgcm9jazogJyNCOEEwMzgnLFxyXG4gICAgICBnaG9zdDogJyM3MDU4OTgnLFxyXG4gICAgICBkcmFnb246ICcjNzAzOEY4JyxcclxuICAgICAgZGFyazogJyM3MDU4NDgnLFxyXG4gICAgICBzdGVlbDogJyNCOEI4RDAnLFxyXG4gICAgICBmYWlyeTogJyNFRTk5QUMnXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGNvbG9yc1t0eXBlXSB8fCBjb2xvcnMubm9ybWFsO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1c2VNb3ZlKG1vdmU6IGFueSkge1xyXG4gICAgaWYgKHRoaXMuYmF0dGxlSW5Qcm9ncmVzcykgcmV0dXJuO1xyXG4gICAgdGhpcy5iYXR0bGVJblByb2dyZXNzID0gdHJ1ZTtcclxuICAgIHRoaXMuaXNQbGF5ZXJUdXJuID0gZmFsc2U7XHJcbiAgICBcclxuICAgIC8vIEdldCBtb3ZlIGRhdGFcclxuICAgIGNvbnN0IG1vdmVEYXRhID0gZ2V0TW92ZURhdGEobW92ZS5uYW1lKTtcclxuICAgIGNvbnN0IHBsYXllckF0dGFjayA9IHRoaXMuZ2V0U3RhdFZhbHVlKHRoaXMucGxheWVyUG9rZW1vbi5kYXRhLCBtb3ZlRGF0YS5jYXRlZ29yeSA9PT0gJ3BoeXNpY2FsJyA/ICdhdHRhY2snIDogJ3NwZWNpYWwtYXR0YWNrJyk7XHJcbiAgICBjb25zdCB3aWxkRGVmZW5zZSA9IHRoaXMuZ2V0U3RhdFZhbHVlKHRoaXMud2lsZFBva2Vtb24uZGF0YSwgbW92ZURhdGEuY2F0ZWdvcnkgPT09ICdwaHlzaWNhbCcgPyAnZGVmZW5zZScgOiAnc3BlY2lhbC1kZWZlbnNlJyk7XHJcbiAgICBcclxuICAgIC8vIEdldCBQb2tlbW9uIHR5cGVzXHJcbiAgICBjb25zdCB3aWxkVHlwZXMgPSAodGhpcy53aWxkUG9rZW1vbi5kYXRhPy50eXBlcyB8fCBbXSkubWFwKCh0OiBhbnkpID0+IHQudHlwZS5uYW1lKSBhcyBQb2tlbW9uVHlwZVtdO1xyXG4gICAgXHJcbiAgICAvLyBDYWxjdWxhdGUgZGFtYWdlIHdpdGggdHlwZSBlZmZlY3RpdmVuZXNzXHJcbiAgICBjb25zdCBkYW1hZ2VSZXN1bHQgPSBjYWxjdWxhdGVEYW1hZ2UoXHJcbiAgICAgIHRoaXMucGxheWVyUG9rZW1vbi5sZXZlbCxcclxuICAgICAgbW92ZURhdGEucG93ZXIsXHJcbiAgICAgIHBsYXllckF0dGFjayxcclxuICAgICAgd2lsZERlZmVuc2UsXHJcbiAgICAgIG1vdmVEYXRhLnR5cGUgYXMgUG9rZW1vblR5cGUsXHJcbiAgICAgIHdpbGRUeXBlc1xyXG4gICAgKTtcclxuICAgIFxyXG4gICAgY29uc3QgZGFtYWdlID0gZGFtYWdlUmVzdWx0LmRhbWFnZTtcclxuICAgIHRoaXMud2lsZEhwID0gTWF0aC5tYXgoMCwgdGhpcy53aWxkSHAgLSBkYW1hZ2UpO1xyXG4gICAgXHJcbiAgICAvLyBVcGRhdGUgYmF0dGxlIHRleHRcclxuICAgIGxldCBiYXR0bGVNc2cgPSBgJHt0aGlzLmNhcGl0YWxpemUodGhpcy5wbGF5ZXJQb2tlbW9uLm5hbWUpfSB1c2VkICR7bW92ZURhdGEubmFtZX0hYDtcclxuICAgIHRoaXMudXBkYXRlQmF0dGxlVGV4dChiYXR0bGVNc2cpO1xyXG4gICAgXHJcbiAgICAvLyBTaG93IGZsb2F0aW5nIGRhbWFnZSB0ZXh0IG9uIHdpbGQgUG9rZW1vblxyXG4gICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDUwMCwgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNob3dGbG9hdGluZ1RleHQoYC0ke2RhbWFnZX0gSFBgLCB0aGlzLndpbGRTcHJpdGUhLngsIHRoaXMud2lsZFNwcml0ZSEueSAtIDMwLCAnI2ZmNDQ0NCcpO1xyXG4gICAgICBcclxuICAgICAgaWYgKGRhbWFnZVJlc3VsdC5lZmZlY3RpdmVuZXNzVGV4dCkge1xyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgzMDAsICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuc2hvd0Zsb2F0aW5nVGV4dChkYW1hZ2VSZXN1bHQuZWZmZWN0aXZlbmVzc1RleHQhLCB0aGlzLndpbGRTcHJpdGUhLngsIHRoaXMud2lsZFNwcml0ZSEueSAtIDUwLCAnI2ZmZmYwMCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgdGhpcy51cGRhdGVIcEJhcnMoKTtcclxuICAgIFxyXG4gICAgaWYgKHRoaXMud2lsZEhwIDw9IDApIHtcclxuICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcclxuICAgICAgICB0aGlzLmJhdHRsZUluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLndpbGREZWZlYXRlZCgpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5iYXR0bGVJblByb2dyZXNzID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy53aWxkQXR0YWNrKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICBwcml2YXRlIHN3aXRjaFBva2Vtb24obmV3UG9rZW1vbjogYW55KSB7XHJcbiAgICBpZiAodGhpcy5iYXR0bGVJblByb2dyZXNzKSByZXR1cm47XHJcbiAgICB0aGlzLmJhdHRsZUluUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgXHJcbiAgICAvLyBVcGRhdGUgcGxheWVyIFBva2Vtb25cclxuICAgIHRoaXMucGxheWVyUG9rZW1vbiA9IHtcclxuICAgICAgbmFtZTogbmV3UG9rZW1vbi5uYW1lLFxyXG4gICAgICBwb2tlSWQ6IG5ld1Bva2Vtb24uaWQsXHJcbiAgICAgIGRhdGE6IG5ld1Bva2Vtb24uZGF0YSxcclxuICAgICAgc3ByaXRlVXJsOiBuZXdQb2tlbW9uLnNwcml0ZSxcclxuICAgICAgbGV2ZWw6IG5ld1Bva2Vtb24ubGV2ZWwgfHwgMSxcclxuICAgICAgY3VycmVudEhwOiBuZXdQb2tlbW9uLmN1cnJlbnRIcCB8fCBuZXdQb2tlbW9uLm1heEhwLFxyXG4gICAgICBtYXhIcDogbmV3UG9rZW1vbi5tYXhIcCxcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMucGxheWVySHAgPSB0aGlzLnBsYXllclBva2Vtb24uY3VycmVudEhwO1xyXG4gICAgdGhpcy5wbGF5ZXJNYXhIcCA9IHRoaXMucGxheWVyUG9rZW1vbi5tYXhIcDtcclxuICAgIFxyXG4gICAgLy8gVXBkYXRlIHNwcml0ZVxyXG4gICAgaWYgKHRoaXMucGxheWVyU3ByaXRlKSB7XHJcbiAgICAgIHRoaXMucGxheWVyU3ByaXRlLnNldFRleHR1cmUoYHBsYXllci0ke25ld1Bva2Vtb24uaWR9YCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRoaXMudXBkYXRlQmF0dGxlVGV4dChgR28sICR7dGhpcy5jYXBpdGFsaXplKG5ld1Bva2Vtb24ubmFtZSl9IWApO1xyXG4gICAgdGhpcy51cGRhdGVIcEJhcnMoKTtcclxuICAgIFxyXG4gICAgLy8gV2lsZCBQb2tlbW9uIGF0dGFja3MgYWZ0ZXIgc3dpdGNoXHJcbiAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmJhdHRsZUluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuICAgICAgdGhpcy53aWxkQXR0YWNrKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcGxheWVyQXR0YWNrKCkge1xyXG4gICAgY29uc3QgcGxheWVyQXR0YWNrID0gdGhpcy5nZXRTdGF0VmFsdWUodGhpcy5wbGF5ZXJQb2tlbW9uLmRhdGEsICdhdHRhY2snKTtcclxuICAgIGNvbnN0IHdpbGREZWZlbnNlID0gdGhpcy5nZXRTdGF0VmFsdWUodGhpcy53aWxkUG9rZW1vbi5kYXRhLCAnZGVmZW5zZScpO1xyXG4gICAgXHJcbiAgICBjb25zdCBiYXNlRGFtYWdlID0gTWF0aC5tYXgoMSwgcGxheWVyQXR0YWNrIC0gd2lsZERlZmVuc2UpO1xyXG4gICAgY29uc3QgZGFtYWdlID0gTWF0aC5mbG9vcihiYXNlRGFtYWdlICogKDAuOCArIE1hdGgucmFuZG9tKCkgKiAwLjQpKTsgLy8gMC44LTEuMiBtdWx0aXBsaWVyXHJcbiAgICBcclxuICAgIHRoaXMud2lsZEhwID0gTWF0aC5tYXgoMCwgdGhpcy53aWxkSHAgLSBkYW1hZ2UpO1xyXG4gICAgdGhpcy51cGRhdGVCYXR0bGVUZXh0KGAke3RoaXMuY2FwaXRhbGl6ZSh0aGlzLnBsYXllclBva2Vtb24ubmFtZSl9IGF0dGFja3MhIERlYWx0ICR7ZGFtYWdlfSBkYW1hZ2UhYCk7XHJcbiAgICBcclxuICAgIHRoaXMudXBkYXRlSHBCYXJzKCk7XHJcbiAgICBcclxuICAgIGlmICh0aGlzLndpbGRIcCA8PSAwKSB7XHJcbiAgICAgIHRoaXMud2lsZERlZmVhdGVkKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTUwMCwgKCkgPT4gdGhpcy53aWxkQXR0YWNrKCkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB3aWxkQXR0YWNrKCkge1xyXG4gICAgaWYgKHRoaXMuYmF0dGxlSW5Qcm9ncmVzcykgcmV0dXJuO1xyXG4gICAgdGhpcy5iYXR0bGVJblByb2dyZXNzID0gdHJ1ZTtcclxuICAgIFxyXG4gICAgLy8gUGljayBhIHJhbmRvbSBtb3ZlIHR5cGUgYmFzZWQgb24gd2lsZCBQb2tlbW9uJ3MgdHlwZXNcclxuICAgIGNvbnN0IHdpbGRUeXBlcyA9ICh0aGlzLndpbGRQb2tlbW9uLmRhdGE/LnR5cGVzIHx8IFtdKS5tYXAoKHQ6IGFueSkgPT4gdC50eXBlLm5hbWUpO1xyXG4gICAgY29uc3QgYXR0YWNrVHlwZSA9ICh3aWxkVHlwZXNbMF0gfHwgJ25vcm1hbCcpIGFzIFBva2Vtb25UeXBlO1xyXG4gICAgY29uc3QgbW92ZVBvd2VyID0gNTA7IC8vIEJhc2UgbW92ZSBwb3dlciBmb3Igd2lsZCBQb2tlbW9uXHJcbiAgICBcclxuICAgIGNvbnN0IHdpbGRBdHRhY2sgPSB0aGlzLmdldFN0YXRWYWx1ZSh0aGlzLndpbGRQb2tlbW9uLmRhdGEsICdhdHRhY2snKTtcclxuICAgIGNvbnN0IHBsYXllckRlZmVuc2UgPSB0aGlzLmdldFN0YXRWYWx1ZSh0aGlzLnBsYXllclBva2Vtb24uZGF0YSwgJ2RlZmVuc2UnKTtcclxuICAgIFxyXG4gICAgLy8gR2V0IHBsYXllciBQb2tlbW9uIHR5cGVzXHJcbiAgICBjb25zdCBwbGF5ZXJUeXBlcyA9ICh0aGlzLnBsYXllclBva2Vtb24uZGF0YT8udHlwZXMgfHwgW10pLm1hcCgodDogYW55KSA9PiB0LnR5cGUubmFtZSkgYXMgUG9rZW1vblR5cGVbXTtcclxuICAgIFxyXG4gICAgLy8gQ2FsY3VsYXRlIGRhbWFnZSB3aXRoIHR5cGUgZWZmZWN0aXZlbmVzc1xyXG4gICAgY29uc3QgZGFtYWdlUmVzdWx0ID0gY2FsY3VsYXRlRGFtYWdlKFxyXG4gICAgICB0aGlzLndpbGRMZXZlbCxcclxuICAgICAgbW92ZVBvd2VyLFxyXG4gICAgICB3aWxkQXR0YWNrLFxyXG4gICAgICBwbGF5ZXJEZWZlbnNlLFxyXG4gICAgICBhdHRhY2tUeXBlLFxyXG4gICAgICBwbGF5ZXJUeXBlc1xyXG4gICAgKTtcclxuICAgIFxyXG4gICAgY29uc3QgZGFtYWdlID0gZGFtYWdlUmVzdWx0LmRhbWFnZTtcclxuICAgIHRoaXMucGxheWVySHAgPSBNYXRoLm1heCgwLCB0aGlzLnBsYXllckhwIC0gZGFtYWdlKTtcclxuICAgIFxyXG4gICAgdGhpcy51cGRhdGVCYXR0bGVUZXh0KGBXaWxkICR7dGhpcy5jYXBpdGFsaXplKHRoaXMud2lsZFBva2Vtb24ubmFtZSl9IGF0dGFja3MhYCk7XHJcbiAgICBcclxuICAgIC8vIFNob3cgZmxvYXRpbmcgZGFtYWdlIHRleHQgb24gcGxheWVyIFBva2Vtb25cclxuICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg1MDAsICgpID0+IHtcclxuICAgICAgdGhpcy5zaG93RmxvYXRpbmdUZXh0KGAtJHtkYW1hZ2V9IEhQYCwgdGhpcy5wbGF5ZXJTcHJpdGUhLngsIHRoaXMucGxheWVyU3ByaXRlIS55IC0gMzAsICcjZmY0NDQ0Jyk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZGFtYWdlUmVzdWx0LmVmZmVjdGl2ZW5lc3NUZXh0KSB7XHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDMwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5zaG93RmxvYXRpbmdUZXh0KGRhbWFnZVJlc3VsdC5lZmZlY3RpdmVuZXNzVGV4dCEsIHRoaXMucGxheWVyU3ByaXRlIS54LCB0aGlzLnBsYXllclNwcml0ZSEueSAtIDUwLCAnI2ZmZmYwMCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgdGhpcy51cGRhdGVIcEJhcnMoKTtcclxuICAgIFxyXG4gICAgaWYgKHRoaXMucGxheWVySHAgPD0gMCkge1xyXG4gICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYmF0dGxlSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGxheWVyRGVmZWF0ZWQoKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTUwMCwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYmF0dGxlSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNQbGF5ZXJUdXJuID0gdHJ1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHByaXZhdGUgc2hvd0Zsb2F0aW5nVGV4dCh0ZXh0OiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBjb2xvcjogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBmbG9hdGluZ1RleHQgPSB0aGlzLmFkZC50ZXh0KHgsIHksIHRleHQsIHtcclxuICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgY29sb3I6IGNvbG9yLFxyXG4gICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgc3Ryb2tlOiAnIzAwMCcsXHJcbiAgICAgIHN0cm9rZVRoaWNrbmVzczogNFxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMjAwMCk7XHJcbiAgICBcclxuICAgIHRoaXMuZmxvYXRpbmdUZXh0cy5wdXNoKGZsb2F0aW5nVGV4dCk7XHJcbiAgICBcclxuICAgIC8vIEFuaW1hdGUgZmxvYXRpbmcgdGV4dFxyXG4gICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgdGFyZ2V0czogZmxvYXRpbmdUZXh0LFxyXG4gICAgICB5OiB5IC0gNTAsXHJcbiAgICAgIGFscGhhOiAwLFxyXG4gICAgICBkdXJhdGlvbjogMTUwMCxcclxuICAgICAgZWFzZTogJ1Bvd2VyMicsXHJcbiAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICBmbG9hdGluZ1RleHQuZGVzdHJveSgpO1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5mbG9hdGluZ1RleHRzLmluZGV4T2YoZmxvYXRpbmdUZXh0KTtcclxuICAgICAgICBpZiAoaW5kZXggPiAtMSkgdGhpcy5mbG9hdGluZ1RleHRzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBhdHRlbXB0Q2F0Y2goKSB7XHJcbiAgICBjb25zdCBjYXRjaFJhdGUgPSB0aGlzLndpbGRIcCA8ICh0aGlzLndpbGRNYXhIcCAqIDAuMikgPyAwLjggOiAwLjM7IC8vIEhpZ2hlciByYXRlIGlmIEhQIDwgMjAlXHJcbiAgICBcclxuICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgY2F0Y2hSYXRlKSB7XHJcbiAgICAgIHRoaXMudXBkYXRlQmF0dGxlVGV4dChgR290Y2hhISAke3RoaXMuY2FwaXRhbGl6ZSh0aGlzLndpbGRQb2tlbW9uLm5hbWUpfSB3YXMgY2F1Z2h0IWApO1xyXG4gICAgICBcclxuICAgICAgLy8gTWludCBORlQgb24gYmxvY2tjaGFpblxyXG4gICAgICBhd2FpdCB0aGlzLm1pbnRDYXVnaHRQb2tlbW9uTkZUKCk7XHJcblxyXG4gICAgICAvLyBTYXZlIGNhdWdodCBwb2tlbW9uIHRvIHRyYWluZXIgc3RvcmFnZVxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHdhbGxldCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FsZ29yYW5kX3dhbGxldF9hZGRyZXNzJykgOiBudWxsO1xyXG4gICAgICAgIGlmICh3YWxsZXQpIHtcclxuICAgICAgICAgIGNvbnN0IHsgc2F2ZVRyYWluZXIgfSA9IGF3YWl0IGltcG9ydCgnLi4vLi4vc3JjL3NlcnZpY2VzL3RyYWluZXInKTtcclxuICAgICAgICAgIGNvbnN0IGNhdWdodCA9IHtcclxuICAgICAgICAgICAgbmFtZTogdGhpcy53aWxkUG9rZW1vbi5uYW1lLFxyXG4gICAgICAgICAgICBsZXZlbDogdGhpcy53aWxkTGV2ZWwsXHJcbiAgICAgICAgICAgIGhwOiB0aGlzLndpbGRNYXhIcCxcclxuICAgICAgICAgICAgYXR0YWNrOiB0aGlzLmdldFN0YXRWYWx1ZSh0aGlzLndpbGRQb2tlbW9uLmRhdGEsICdhdHRhY2snKSxcclxuICAgICAgICAgICAgZGVmZW5zZTogdGhpcy5nZXRTdGF0VmFsdWUodGhpcy53aWxkUG9rZW1vbi5kYXRhLCAnZGVmZW5zZScpLFxyXG4gICAgICAgICAgICBtb3ZlczogKHRoaXMud2lsZFBva2Vtb24uZGF0YT8ubW92ZXMgfHwgW10pLnNsaWNlKDAsIDQpLm1hcCgobTogYW55KSA9PiBtLm1vdmU/Lm5hbWU/LnJlcGxhY2UoLy0vZywgJyAnKSkuZmlsdGVyKEJvb2xlYW4pLFxyXG4gICAgICAgICAgICByYXJpdHk6IHRoaXMuZGV0ZXJtaW5lUmFyaXR5KHRoaXMud2lsZFBva2Vtb24uZGF0YSksXHJcbiAgICAgICAgICAgIGNhdWdodEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGF3YWl0IHNhdmVUcmFpbmVyKHsgd2FsbGV0QWRkcmVzczogd2FsbGV0LCBzdG9yYWdlQXBwZW5kOiBbY2F1Z2h0XSB9KTtcclxuICAgICAgICAgIC8vIEFkZCB0byBsb2NhbCB0ZWFtIGNhY2hlIHNvIFNXSVRDSCBjYW4gdXNlIGl0IGltbWVkaWF0ZWx5XHJcbiAgICAgICAgICB0aGlzLnBsYXllclRlYW0ucHVzaCh7XHJcbiAgICAgICAgICAgIGlkOiB0aGlzLndpbGRQb2tlbW9uLnBva2VJZCxcclxuICAgICAgICAgICAgbmFtZTogdGhpcy53aWxkUG9rZW1vbi5uYW1lLFxyXG4gICAgICAgICAgICBkYXRhOiB0aGlzLndpbGRQb2tlbW9uLmRhdGEsXHJcbiAgICAgICAgICAgIHNwcml0ZTogdGhpcy53aWxkUG9rZW1vbi5zcHJpdGVVcmwsXHJcbiAgICAgICAgICAgIGxldmVsOiB0aGlzLndpbGRMZXZlbCxcclxuICAgICAgICAgICAgbWF4SHA6IHRoaXMud2lsZE1heEhwLFxyXG4gICAgICAgICAgICBjdXJyZW50SHA6IHRoaXMud2lsZE1heEhwLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIHt9XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4gdGhpcy5lbmRCYXR0bGUodHJ1ZSkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy51cGRhdGVCYXR0bGVUZXh0KGAke3RoaXMuY2FwaXRhbGl6ZSh0aGlzLndpbGRQb2tlbW9uLm5hbWUpfSBicm9rZSBmcmVlIWApO1xyXG4gICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTUwMCwgKCkgPT4gdGhpcy53aWxkQXR0YWNrKCkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBtaW50Q2F1Z2h0UG9rZW1vbk5GVCgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEdldCB3YWxsZXQgYWRkcmVzcyBmcm9tIGxvY2FsU3RvcmFnZSBvciB3YWxsZXQgbWFuYWdlclxyXG4gICAgICBjb25zdCB3YWxsZXRBZGRyZXNzID0gdGhpcy5nZXRXYWxsZXRBZGRyZXNzKCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXdhbGxldEFkZHJlc3MpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ05vIHdhbGxldCBjb25uZWN0ZWQuIFBva2Vtb24gY2F1Z2h0IGJ1dCBub3QgbWludGVkIGFzIE5GVC4nKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMudXBkYXRlQmF0dGxlVGV4dCgnTWludGluZyB5b3VyIE5GVCBvbiBibG9ja2NoYWluLi4uJyk7XHJcblxyXG4gICAgICAvLyBEZXRlcm1pbmUgcmFyaXR5IGJhc2VkIG9uIHN0YXRzXHJcbiAgICAgIGNvbnN0IHJhcml0eSA9IHRoaXMuZGV0ZXJtaW5lUmFyaXR5KHRoaXMud2lsZFBva2Vtb24uZGF0YSk7XHJcbiAgICAgIGNvbnN0IGlzTGVnZW5kYXJ5ID0gdGhpcy5jaGVja0lmTGVnZW5kYXJ5KHRoaXMud2lsZFBva2Vtb24ucG9rZUlkKTtcclxuXHJcbiAgICAgIGNvbnN0IHBva2Vtb25EYXRhID0ge1xyXG4gICAgICAgIG5hbWU6IHRoaXMud2lsZFBva2Vtb24ubmFtZSxcclxuICAgICAgICBwb2tlSWQ6IHRoaXMud2lsZFBva2Vtb24ucG9rZUlkLFxyXG4gICAgICAgIHJhcml0eSxcclxuICAgICAgICBsZXZlbDogMSxcclxuICAgICAgICBpc0xlZ2VuZGFyeSxcclxuICAgICAgICBzdGF0czogdGhpcy53aWxkUG9rZW1vbi5kYXRhLnN0YXRzLFxyXG4gICAgICAgIHR5cGVzOiB0aGlzLndpbGRQb2tlbW9uLmRhdGEudHlwZXMsXHJcbiAgICAgICAgaW1hZ2VVcmw6IHRoaXMud2lsZFBva2Vtb24uc3ByaXRlVXJsLFxyXG4gICAgICAgIC4uLnRoaXMud2lsZFBva2Vtb24uZGF0YVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9taW50L3Bva2Vtb24nLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLCAneC13YWxsZXQtYWRkcmVzcyc6IHdhbGxldEFkZHJlc3MgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICB3YWxsZXRBZGRyZXNzLFxyXG4gICAgICAgICAgcG9rZW1vbjogcG9rZW1vbkRhdGFcclxuICAgICAgICB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgIHRoaXMudXBkYXRlQmF0dGxlVGV4dChcclxuICAgICAgICAgIGDinIUgJHt0aGlzLmNhcGl0YWxpemUodGhpcy53aWxkUG9rZW1vbi5uYW1lKX0gbWludGVkIGFzIE5GVCAjJHtyZXN1bHQubmZ0LmFzc2V0SWR9IVxcblR4OiAke3Jlc3VsdC5uZnQudHhJZC5zdWJzdHJpbmcoMCwgMTApfS4uLmBcclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNob3cgcG9wdXAgd2l0aCB0cmFuc2FjdGlvbiBkZXRhaWxzXHJcbiAgICAgICAgdGhpcy5zaG93TkZUTWludGVkUG9wdXAocmVzdWx0Lm5mdCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIG1pbnQgTkZUOicsIHJlc3VsdC5lcnJvcik7XHJcbiAgICAgICAgdGhpcy51cGRhdGVCYXR0bGVUZXh0KGBDYXVnaHQgJHt0aGlzLmNhcGl0YWxpemUodGhpcy53aWxkUG9rZW1vbi5uYW1lKX0hIChORlQgbWludGluZyBmYWlsZWQpYCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBtaW50aW5nIE5GVDonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMudXBkYXRlQmF0dGxlVGV4dChgQ2F1Z2h0ICR7dGhpcy5jYXBpdGFsaXplKHRoaXMud2lsZFBva2Vtb24ubmFtZSl9IWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzaG93TkZUTWludGVkUG9wdXAobmZ0OiBhbnkpIHtcclxuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgIFxyXG4gICAgLy8gQ3JlYXRlIHBvcHVwIGNvbnRhaW5lclxyXG4gICAgY29uc3QgcG9wdXAgPSB0aGlzLmFkZC5jb250YWluZXIod2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcclxuICAgIFxyXG4gICAgLy8gQmFja2dyb3VuZFxyXG4gICAgY29uc3QgYmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgNDAwLCAyNTAsIDB4MDAwMDAwLCAwLjkpO1xyXG4gICAgY29uc3QgYm9yZGVyID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIDQwMCwgMjUwLCAweGZmZDcwMCkuc2V0U3Ryb2tlU3R5bGUoNCwgMHhmZmQ3MDApO1xyXG4gICAgXHJcbiAgICAvLyBUaXRsZVxyXG4gICAgY29uc3QgdGl0bGUgPSB0aGlzLmFkZC50ZXh0KDAsIC05MCwgJ/CfjokgTkZUIE1pbnRlZCEnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZDcwMCcsXHJcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgIFxyXG4gICAgLy8gUG9rZW1vbiBuYW1lXHJcbiAgICBjb25zdCBwb2tlbW9uTmFtZSA9IHRoaXMuYWRkLnRleHQoMCwgLTUwLCBgJHt0aGlzLmNhcGl0YWxpemUobmZ0Lm5hbWUpfWAsIHtcclxuICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgY29sb3I6ICcjZmZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICBcclxuICAgIC8vIEFzc2V0IElEXHJcbiAgICBjb25zdCBhc3NldElkVGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgLTIwLCBgQXNzZXQgSUQ6ICR7bmZ0LmFzc2V0SWR9YCwge1xyXG4gICAgICBmb250U2l6ZTogJzE0cHgnLFxyXG4gICAgICBjb2xvcjogJyNhYWEnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgIFxyXG4gICAgLy8gVHggaGFzaCAoc2hvcnRlbmVkKVxyXG4gICAgY29uc3QgdHhIYXNoVGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgNSwgYFR4OiAke25mdC50eElkLnN1YnN0cmluZygwLCAyMCl9Li4uYCwge1xyXG4gICAgICBmb250U2l6ZTogJzEycHgnLFxyXG4gICAgICBjb2xvcjogJyM4ODgnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgIFxyXG4gICAgLy8gRXhwbG9yZXIgbGluayBoaW50XHJcbiAgICBjb25zdCBleHBsb3JlclRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDMwLCAnVmlldyBvbiBBbGdvRXhwbG9yZXIgKFRlc3ROZXQpJywge1xyXG4gICAgICBmb250U2l6ZTogJzEycHgnLFxyXG4gICAgICBjb2xvcjogJyM0ZGE2ZmYnLFxyXG4gICAgICBmb250U3R5bGU6ICdpdGFsaWMnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgIFxyXG4gICAgLy8gUmFyaXR5IGJhZGdlXHJcbiAgICBjb25zdCByYXJpdHlCYWRnZSA9IHRoaXMuYWRkLnRleHQoMCwgNjAsIGDirZAgJHtuZnQucmFyaXR5IHx8ICdDb21tb24nfWAsIHtcclxuICAgICAgZm9udFNpemU6ICcxNHB4JyxcclxuICAgICAgY29sb3I6ICcjZmZkNzAwJyxcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzMzMycsXHJcbiAgICAgIHBhZGRpbmc6IHsgeDogMTAsIHk6IDUgfVxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICBcclxuICAgIC8vIE9LIGJ1dHRvblxyXG4gICAgY29uc3Qgb2tCdXR0b24gPSB0aGlzLmFkZC50ZXh0KDAsIDEwMCwgJ09LJywge1xyXG4gICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmYnLFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNENBRjUwJyxcclxuICAgICAgcGFkZGluZzogeyB4OiAzMCwgeTogMTAgfVxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgcG9wdXAuZGVzdHJveSgpO1xyXG4gICAgICB9KTtcclxuICAgIFxyXG4gICAgcG9wdXAuYWRkKFtiZywgYm9yZGVyLCB0aXRsZSwgcG9rZW1vbk5hbWUsIGFzc2V0SWRUZXh0LCB0eEhhc2hUZXh0LCBleHBsb3JlclRleHQsIHJhcml0eUJhZGdlLCBva0J1dHRvbl0pO1xyXG4gICAgcG9wdXAuc2V0RGVwdGgoMTAwMCk7XHJcbiAgICBcclxuICAgIC8vIEF1dG8tZGlzbWlzcyBhZnRlciAxMCBzZWNvbmRzXHJcbiAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMDAsICgpID0+IHtcclxuICAgICAgaWYgKHBvcHVwLnNjZW5lKSBwb3B1cC5kZXN0cm95KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZGV0ZXJtaW5lUmFyaXR5KHBva2Vtb25EYXRhOiBhbnkpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgdG90YWxTdGF0cyA9IHBva2Vtb25EYXRhLnN0YXRzPy5yZWR1Y2UoKHN1bTogbnVtYmVyLCBzdGF0OiBhbnkpID0+IHN1bSArIHN0YXQuYmFzZV9zdGF0LCAwKSB8fCAwO1xyXG4gICAgXHJcbiAgICBpZiAodG90YWxTdGF0cyA+IDYwMCkgcmV0dXJuICdMZWdlbmRhcnknO1xyXG4gICAgaWYgKHRvdGFsU3RhdHMgPiA1MDApIHJldHVybiAnUmFyZSc7XHJcbiAgICBpZiAodG90YWxTdGF0cyA+IDQwMCkgcmV0dXJuICdVbmNvbW1vbic7XHJcbiAgICByZXR1cm4gJ0NvbW1vbic7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrSWZMZWdlbmRhcnkocG9rZUlkOiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIGNvbnN0IGxlZ2VuZGFyeUlkcyA9IFtcclxuICAgICAgMTUwLCAvLyBNZXd0d29cclxuICAgICAgMTQ0LCAxNDUsIDE0NiwgLy8gTGVnZW5kYXJ5IEJpcmRzXHJcbiAgICAgIDI0MywgMjQ0LCAyNDUsIC8vIExlZ2VuZGFyeSBCZWFzdHNcclxuICAgICAgMjQ5LCAyNTAsIC8vIEhvLU9oLCBMdWdpYVxyXG4gICAgICAzODIsIDM4MywgMzg0LCAvLyBIb2VubiBsZWdlbmRzXHJcbiAgICAgIDQ4MCwgNDgxLCA0ODIsIC8vIExha2UgVHJpb1xyXG4gICAgICA0ODMsIDQ4NCwgNDg3LCAvLyBEaWFsZ2EsIFBhbGtpYSwgR2lyYXRpbmFcclxuICAgIF07XHJcbiAgICByZXR1cm4gbGVnZW5kYXJ5SWRzLmluY2x1ZGVzKHBva2VJZCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFdhbGxldEFkZHJlc3MoKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgICAvLyBUcnkgdG8gZ2V0IGZyb20gd2FsbGV0IG1hbmFnZXJcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBjb25zdCBzdG9yZWRBZGRyZXNzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FsZ29yYW5kX3dhbGxldF9hZGRyZXNzJyk7XHJcbiAgICAgIHJldHVybiBzdG9yZWRBZGRyZXNzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFVzZXJJZCgpOiBzdHJpbmcgfCBudWxsIHtcclxuICAgIC8vIEdldCB1c2VyIElEIGZyb20gc2Vzc2lvbi9hdXRoXHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyX2lkJykgfHwgJ2RlbW9fdXNlcic7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb3BlbkJhZygpIHtcclxuICAgIHRoaXMudXBkYXRlQmF0dGxlVGV4dChcIllvdSBydW1tYWdlIHRocm91Z2ggeW91ciBiYWcuLi5cIik7XHJcbiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgYmFnL2l0ZW0gdXNhZ2VcclxuICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgxMDAwLCAoKSA9PiB0aGlzLndpbGRBdHRhY2soKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJ1bkF3YXkoKSB7XHJcbiAgICB0aGlzLnVwZGF0ZUJhdHRsZVRleHQoXCJZb3UgcmFuIGF3YXkgc2FmZWx5IVwiKTtcclxuICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgxNTAwLCAoKSA9PiB0aGlzLmVuZEJhdHRsZShmYWxzZSkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyB3aWxkRGVmZWF0ZWQoKSB7XHJcbiAgICAvLyBDYWxjdWxhdGUgRVhQIGJhc2VkIG9uIHdpbGQgUG9rZW1vbiBsZXZlbCBhbmQgYmFzZSBzdGF0c1xyXG4gICAgY29uc3QgYmFzZUV4cCA9IHRoaXMud2lsZFBva2Vtb24uZGF0YT8uYmFzZV9leHBlcmllbmNlIHx8IDUwO1xyXG4gICAgY29uc3QgZXhwR2FpbmVkID0gMTAgKyAodGhpcy53aWxkTGV2ZWwgKiAyKTtcclxuICAgIHRoaXMudXBkYXRlQmF0dGxlVGV4dChgV2lsZCAke3RoaXMuY2FwaXRhbGl6ZSh0aGlzLndpbGRQb2tlbW9uLm5hbWUpfSBmYWludGVkISAke3RoaXMuY2FwaXRhbGl6ZSh0aGlzLnBsYXllclBva2Vtb24ubmFtZSl9IGdhaW5lZCAke2V4cEdhaW5lZH0gRVhQIWApO1xyXG5cclxuICAgIC8vIFVwZGF0ZSBsb2NhbCBjYWNoZSBhbmQgYmFja2VuZCBYUCBzeW5jXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB3YWxsZXQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhbGdvcmFuZF93YWxsZXRfYWRkcmVzcycpIDogbnVsbDtcclxuICAgICAgaWYgKHdhbGxldCkge1xyXG4gICAgICAgIGNvbnN0IGN1ciA9IHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0cmFpbmVyX2V4cCcpIHx8ICcwJyk7XHJcbiAgICAgICAgY29uc3QgbmV3VG90YWwgPSBjdXIgKyBleHBHYWluZWQ7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RyYWluZXJfZXhwJywgU3RyaW5nKG5ld1RvdGFsKSk7XHJcbiAgICAgICAgY29uc3QgeyB4cFN5bmMgfSA9IGF3YWl0IGltcG9ydCgnLi4vLi4vc3JjL3NlcnZpY2VzL3RyYWluZXInKTtcclxuICAgICAgICBhd2FpdCB4cFN5bmMoeyB3YWxsZXRBZGRyZXNzOiB3YWxsZXQsIG5ld1hQOiBuZXdUb3RhbCB9KTtcclxuICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3RyYWluZXIteHAtdXBkYXRlJywgeyBkZXRhaWw6IHsgbmV3WFA6IG5ld1RvdGFsIH0gfSkpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIHt9XHJcblxyXG4gICAgLy8gMjUlIGF1dG8tY2F0Y2ggY2hhbmNlXHJcbiAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMjUpIHtcclxuICAgICAgYXdhaXQgdGhpcy5hdHRlbXB0Q2F0Y2goKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMzAwMCwgKCkgPT4gdGhpcy5lbmRCYXR0bGUodHJ1ZSkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwbGF5ZXJEZWZlYXRlZCgpIHtcclxuICAgIHRoaXMudXBkYXRlQmF0dGxlVGV4dChgJHt0aGlzLmNhcGl0YWxpemUodGhpcy5wbGF5ZXJQb2tlbW9uLm5hbWUpfSBmYWludGVkISBZb3UgbG9zdCB0aGUgYmF0dGxlIWApO1xyXG4gICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDMwMDAsICgpID0+IHRoaXMuZW5kQmF0dGxlKGZhbHNlKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGVuZEJhdHRsZSh2aWN0b3J5OiBib29sZWFuKSB7XHJcbiAgICAvLyBSZXR1cm4gdG8gR2FtZVNjZW5lXHJcbiAgICB0aGlzLnNjZW5lLnN0YXJ0KFwiR2FtZVNjZW5lXCIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVIcEJhcnMoKSB7XHJcbiAgICBpZiAodGhpcy53aWxkSHBCYXIgJiYgdGhpcy53aWxkSHBUZXh0KSB7XHJcbiAgICAgIGNvbnN0IHdpbGRIcFBlcmNlbnQgPSB0aGlzLndpbGRIcCAvIHRoaXMud2lsZE1heEhwO1xyXG4gICAgICB0aGlzLndpbGRIcEJhci53aWR0aCA9IDE5NiAqIHdpbGRIcFBlcmNlbnQ7XHJcbiAgICAgIHRoaXMud2lsZEhwQmFyLmZpbGxDb2xvciA9IHdpbGRIcFBlcmNlbnQgPiAwLjUgPyAweDAwZmYwMCA6IHdpbGRIcFBlcmNlbnQgPiAwLjIgPyAweGZmZmYwMCA6IDB4ZmYwMDAwO1xyXG4gICAgICB0aGlzLndpbGRIcFRleHQuc2V0VGV4dChgJHt0aGlzLmNhcGl0YWxpemUodGhpcy53aWxkUG9rZW1vbi5uYW1lKX0gSFA6ICR7dGhpcy53aWxkSHB9LyR7dGhpcy53aWxkTWF4SHB9YCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh0aGlzLnBsYXllckhwQmFyICYmIHRoaXMucGxheWVySHBUZXh0KSB7XHJcbiAgICAgIGNvbnN0IHBsYXllckhwUGVyY2VudCA9IHRoaXMucGxheWVySHAgLyB0aGlzLnBsYXllck1heEhwO1xyXG4gICAgICB0aGlzLnBsYXllckhwQmFyLndpZHRoID0gMTk2ICogcGxheWVySHBQZXJjZW50O1xyXG4gICAgICB0aGlzLnBsYXllckhwQmFyLmZpbGxDb2xvciA9IHBsYXllckhwUGVyY2VudCA+IDAuNSA/IDB4MDBmZjAwIDogcGxheWVySHBQZXJjZW50ID4gMC4yID8gMHhmZmZmMDAgOiAweGZmMDAwMDtcclxuICAgICAgdGhpcy5wbGF5ZXJIcFRleHQuc2V0VGV4dChgJHt0aGlzLmNhcGl0YWxpemUodGhpcy5wbGF5ZXJQb2tlbW9uLm5hbWUpfSBMdi4ke3RoaXMucGxheWVyUG9rZW1vbi5sZXZlbH0gSFA6ICR7dGhpcy5wbGF5ZXJIcH0vJHt0aGlzLnBsYXllck1heEhwfWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVCYXR0bGVUZXh0KHRleHQ6IHN0cmluZykge1xyXG4gICAgaWYgKCF0aGlzLmJhdHRsZVRleHQpIHJldHVybjtcclxuICAgIHRoaXMuYmF0dGxlVGV4dC5zZXRUZXh0KHRleHQpO1xyXG4gICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgbG9hZFRyYWluZXJUZWFtKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgd2FsbGV0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWxnb3JhbmRfd2FsbGV0X2FkZHJlc3MnKSA6IG51bGw7XHJcbiAgICAgIGlmICghd2FsbGV0KSByZXR1cm47XHJcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL3RyYWluZXIvbG9hZC8ke2VuY29kZVVSSUNvbXBvbmVudCh3YWxsZXQpfWAsIHsgaGVhZGVyczogeyAneC13YWxsZXQtYWRkcmVzcyc6IHdhbGxldCB9IH0pO1xyXG4gICAgICBpZiAoIXJlcy5vaykgcmV0dXJuO1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgICAgY29uc3QgdHJhaW5lciA9IGRhdGE/LnRyYWluZXI7XHJcbiAgICAgIGNvbnN0IGZyb21TdG9yYWdlID0gKHRyYWluZXI/LnN0b3JhZ2UgfHwgW10pLnNsaWNlKDAsIDYpLm1hcCgocDogYW55KSA9PiAoe1xyXG4gICAgICAgIGlkOiBwLnBva2VJZCB8fCBwLmlkIHx8IDAsXHJcbiAgICAgICAgbmFtZTogcC5uYW1lLFxyXG4gICAgICAgIGRhdGE6IHRoaXMud2lsZFBva2Vtb24/LmRhdGEsIC8vIGZhbGxiYWNrOyBkZXRhaWxlZCBwZXItbW9uIGRhdGEgY2FuIGJlIGxhenktbG9hZGVkIGxhdGVyXHJcbiAgICAgICAgc3ByaXRlOiBwLmltYWdlX3VybCB8fCB0aGlzLnBsYXllclBva2Vtb24uc3ByaXRlVXJsLFxyXG4gICAgICAgIGxldmVsOiBwLmxldmVsIHx8IDEsXHJcbiAgICAgICAgbWF4SHA6IHAuaHAgfHwgNTAsXHJcbiAgICAgICAgY3VycmVudEhwOiBwLmhwIHx8IDUwLFxyXG4gICAgICB9KSk7XHJcbiAgICAgIGlmIChmcm9tU3RvcmFnZS5sZW5ndGgpIHRoaXMucGxheWVyVGVhbSA9IGZyb21TdG9yYWdlO1xyXG4gICAgfSBjYXRjaCB7fVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRTdGF0VmFsdWUocG9rZW1vbkRhdGE6IGFueSwgc3RhdE5hbWU6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICBjb25zdCBzdGF0ID0gcG9rZW1vbkRhdGE/LnN0YXRzPy5maW5kKChzOiBhbnkpID0+IHMuc3RhdC5uYW1lID09PSBzdGF0TmFtZSk7XHJcbiAgICByZXR1cm4gc3RhdD8uYmFzZV9zdGF0IHx8IDUwO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjYXBpdGFsaXplKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbIlBoYXNlciIsImNhbGN1bGF0ZURhbWFnZSIsImdldE1vdmVEYXRhIiwiQmF0dGxlU2NlbmUiLCJTY2VuZSIsIndpbGRIcCIsIndpbGRNYXhIcCIsIndpbGRMZXZlbCIsInBsYXllckhwIiwicGxheWVyTWF4SHAiLCJwbGF5ZXJUZWFtIiwidHJhaW5lckxldmVsIiwiaXNQbGF5ZXJUdXJuIiwiYmF0dGxlSW5Qcm9ncmVzcyIsImxhc3REYW1hZ2VJbmZvIiwiZmxvYXRpbmdUZXh0cyIsImluaXQiLCJkYXRhIiwid2lsZFBva2Vtb24iLCJwbGF5ZXJQb2tlbW9uIiwibGV2ZWwiLCJ3aWxkSHBTdGF0Iiwic3RhdHMiLCJmaW5kIiwicyIsInN0YXQiLCJuYW1lIiwiYmFzZV9zdGF0IiwiTWF0aCIsImZsb29yIiwibWF4SHAiLCJjdXJyZW50SHAiLCJwcmVsb2FkIiwidGV4dHVyZXMiLCJleGlzdHMiLCJwb2tlSWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsImxvYWQiLCJvbmNlIiwiTG9hZGVyIiwiRXZlbnRzIiwiQ09NUExFVEUiLCJpbWFnZSIsInNwcml0ZVVybCIsInN0YXJ0IiwiY3JlYXRlIiwid2lkdGgiLCJoZWlnaHQiLCJzY2FsZSIsImFkZCIsInJlY3RhbmdsZSIsInNldE9yaWdpbiIsInNldERlcHRoIiwid2lsZFNwcml0ZSIsInNldFNjYWxlIiwic2V0RmxpcFgiLCJwbGF5ZXJTcHJpdGUiLCJjcmVhdGVVSSIsInRvYXN0IiwiY2FwaXRhbGl6ZSIsImJhdHRsZVVJIiwiY29udGFpbmVyIiwid2lsZEhwQmciLCJ3aWxkSHBCYXIiLCJ3aWxkSHBUZXh0IiwidGV4dCIsImZvbnRTaXplIiwiY29sb3IiLCJwbGF5ZXJIcEJnIiwicGxheWVySHBCYXIiLCJwbGF5ZXJIcFRleHQiLCJiYXR0bGVUZXh0IiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsIngiLCJ5Iiwid29yZFdyYXAiLCJzZXRWaXNpYmxlIiwiY3JlYXRlQWN0aW9uQnV0dG9ucyIsImFjdGlvbkJ1dHRvbnMiLCJiYXNlWCIsImJhc2VZIiwidkdhcCIsImJ1dHRvbkRhdGEiLCJhY3Rpb24iLCJzaG93TW92ZVNlbGVjdGlvbiIsInNob3dUZWFtU2VsZWN0aW9uIiwib3BlbkJhZyIsImF0dGVtcHRDYXRjaCIsInJ1bkF3YXkiLCJmb3JFYWNoIiwiYnRuIiwiYnV0dG9uIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwib24iLCJtb3ZlcyIsImdldFBsYXllck1vdmVzIiwibW92ZUNvbnRhaW5lciIsInBhbmVsVyIsInBhbmVsSCIsIm1vdmVCZyIsInNsaWNlIiwibW92ZSIsImluZGV4IiwiY29sIiwicm93IiwibW92ZUJ1dHRvbiIsInRvVXBwZXJDYXNlIiwiZ2V0TW92ZVR5cGVDb2xvciIsInR5cGUiLCJkZXN0cm95IiwidXNlTW92ZSIsImJhY2tCdXR0b24iLCJsZW5ndGgiLCJsb2FkVHJhaW5lclRlYW0iLCJ0aGVuIiwiaW50ZXJuYWxTaG93VGVhbVNlbGVjdGlvbiIsInRlYW1Db250YWluZXIiLCJ0ZWFtQmciLCJ0aXRsZSIsImZvbnRTdHlsZSIsInBva2Vtb24iLCJpc0ZhaW50ZWQiLCJpc0N1cnJlbnQiLCJpZCIsInBva2Vtb25CdXR0b24iLCJzd2l0Y2hQb2tlbW9uIiwidHlwZXMiLCJwcmltYXJ5VHlwZSIsImdldFR5cGVkTW92ZSIsIm1hcCIsIm0iLCJyZXBsYWNlIiwidXJsIiwidHlwZU1vdmVzIiwiZmlyZSIsIndhdGVyIiwiZ3Jhc3MiLCJlbGVjdHJpYyIsImljZSIsImZpZ2h0aW5nIiwicG9pc29uIiwiZ3JvdW5kIiwiZmx5aW5nIiwicHN5Y2hpYyIsImJ1ZyIsInJvY2siLCJnaG9zdCIsImRyYWdvbiIsImRhcmsiLCJzdGVlbCIsImZhaXJ5Iiwibm9ybWFsIiwiY29sb3JzIiwibW92ZURhdGEiLCJwbGF5ZXJBdHRhY2siLCJnZXRTdGF0VmFsdWUiLCJjYXRlZ29yeSIsIndpbGREZWZlbnNlIiwid2lsZFR5cGVzIiwidCIsImRhbWFnZVJlc3VsdCIsInBvd2VyIiwiZGFtYWdlIiwibWF4IiwiYmF0dGxlTXNnIiwidXBkYXRlQmF0dGxlVGV4dCIsInRpbWUiLCJkZWxheWVkQ2FsbCIsInNob3dGbG9hdGluZ1RleHQiLCJlZmZlY3RpdmVuZXNzVGV4dCIsInVwZGF0ZUhwQmFycyIsIndpbGREZWZlYXRlZCIsIndpbGRBdHRhY2siLCJuZXdQb2tlbW9uIiwic3ByaXRlIiwic2V0VGV4dHVyZSIsImJhc2VEYW1hZ2UiLCJyYW5kb20iLCJhdHRhY2tUeXBlIiwibW92ZVBvd2VyIiwicGxheWVyRGVmZW5zZSIsInBsYXllclR5cGVzIiwicGxheWVyRGVmZWF0ZWQiLCJmbG9hdGluZ1RleHQiLCJzdHJva2UiLCJzdHJva2VUaGlja25lc3MiLCJwdXNoIiwidHdlZW5zIiwidGFyZ2V0cyIsImFscGhhIiwiZHVyYXRpb24iLCJlYXNlIiwib25Db21wbGV0ZSIsImluZGV4T2YiLCJzcGxpY2UiLCJjYXRjaFJhdGUiLCJtaW50Q2F1Z2h0UG9rZW1vbk5GVCIsIndhbGxldCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzYXZlVHJhaW5lciIsImNhdWdodCIsImhwIiwiYXR0YWNrIiwiZGVmZW5zZSIsImZpbHRlciIsIkJvb2xlYW4iLCJyYXJpdHkiLCJkZXRlcm1pbmVSYXJpdHkiLCJjYXVnaHRBdCIsIkRhdGUiLCJ3YWxsZXRBZGRyZXNzIiwic3RvcmFnZUFwcGVuZCIsImVuZEJhdHRsZSIsImdldFdhbGxldEFkZHJlc3MiLCJjb25zb2xlIiwid2FybiIsImlzTGVnZW5kYXJ5IiwiY2hlY2tJZkxlZ2VuZGFyeSIsInBva2Vtb25EYXRhIiwiaW1hZ2VVcmwiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzdWx0IiwianNvbiIsInN1Y2Nlc3MiLCJuZnQiLCJhc3NldElkIiwidHhJZCIsInN1YnN0cmluZyIsInNob3dORlRNaW50ZWRQb3B1cCIsImVycm9yIiwicG9wdXAiLCJiZyIsImJvcmRlciIsInNldFN0cm9rZVN0eWxlIiwicG9rZW1vbk5hbWUiLCJhc3NldElkVGV4dCIsInR4SGFzaFRleHQiLCJleHBsb3JlclRleHQiLCJyYXJpdHlCYWRnZSIsIm9rQnV0dG9uIiwic2NlbmUiLCJ0b3RhbFN0YXRzIiwicmVkdWNlIiwic3VtIiwibGVnZW5kYXJ5SWRzIiwiaW5jbHVkZXMiLCJzdG9yZWRBZGRyZXNzIiwiZ2V0VXNlcklkIiwiYmFzZUV4cCIsImJhc2VfZXhwZXJpZW5jZSIsImV4cEdhaW5lZCIsImN1ciIsInBhcnNlSW50IiwibmV3VG90YWwiLCJzZXRJdGVtIiwiU3RyaW5nIiwieHBTeW5jIiwibmV3WFAiLCJ3aW5kb3ciLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJ2aWN0b3J5Iiwid2lsZEhwUGVyY2VudCIsImZpbGxDb2xvciIsInNldFRleHQiLCJwbGF5ZXJIcFBlcmNlbnQiLCJyZXMiLCJlbmNvZGVVUklDb21wb25lbnQiLCJvayIsInRyYWluZXIiLCJmcm9tU3RvcmFnZSIsInN0b3JhZ2UiLCJwIiwiaW1hZ2VfdXJsIiwic3RhdE5hbWUiLCJzdHIiLCJjaGFyQXQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./lib/phaser/BattleScene.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./lib/phaser/GameScene.ts":
/*!*********************************!*\
  !*** ./lib/phaser/GameScene.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameScene: () => (/* binding */ GameScene)\n/* harmony export */ });\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! socket.io-client */ \"socket.io-client\");\n/* harmony import */ var _spawnUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../spawnUtils */ \"(pages-dir-node)/./lib/spawnUtils.ts\");\n/* harmony import */ var _mapZones__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../mapZones */ \"(pages-dir-node)/./lib/mapZones.ts\");\n/* harmony import */ var _biomes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../biomes */ \"(pages-dir-node)/./lib/biomes.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([socket_io_client__WEBPACK_IMPORTED_MODULE_1__]);\nsocket_io_client__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\nfunction capitalize(s) {\n    return (s || \"\").charAt(0).toUpperCase() + (s || \"\").slice(1);\n}\nclass GameScene extends phaser__WEBPACK_IMPORTED_MODULE_0__.Scene {\n    constructor(){\n        super(\"GameScene\"), this.configData = {\n            tileSize: 32,\n            mapWidth: 50,\n            mapHeight: 38,\n            playerSpeed: 200\n        }, this.playerSpeed = 200, // Cached map dimensions\n        this.mapWidthTiles = 0, this.mapHeightTiles = 0, this.tileSizePx = 32, this.others = new Map(), this.lastSent = 0, // UI (sidebar) - removed in favor of React/Next UI\n        this.lastStatusAt = 0, this.miniW = 160, this.miniH = 160, // Structures\n        this.structures = [], this.insideStructure = {\n            active: false,\n            type: null\n        };\n    }\n    init(data) {\n        this.configData = {\n            ...this.configData,\n            ...data\n        };\n        if (this.configData.playerSpeed) this.playerSpeed = this.configData.playerSpeed;\n    }\n    preload() {\n        // Generate a simple 2-tile spritesheet (grass, wall) programmatically\n        const { tileSize } = this.configData;\n        const width = tileSize * 2;\n        const height = tileSize;\n        // Check if texture already exists, destroy it first\n        if (this.textures.exists(\"tilesheet\")) {\n            this.textures.remove(\"tilesheet\");\n        }\n        const sheet = this.textures.createCanvas(\"tilesheet\", width, height);\n        if (!sheet) {\n            throw new Error(\"Failed to create canvas texture 'tilesheet'\");\n        }\n        const ctx = sheet.getContext();\n        if (!ctx) {\n            throw new Error(\"Failed to get 2D rendering context from canvas 'tilesheet'\");\n        }\n        // Grass tile (index 0)\n        ctx.fillStyle = \"#2d6a4f\";\n        ctx.fillRect(0, 0, tileSize, tileSize);\n        // sprinkle dots\n        ctx.fillStyle = \"#40916c\";\n        for(let i = 0; i < 30; i++){\n            const x = Math.random() * (tileSize - 2);\n            const y = Math.random() * (tileSize - 2);\n            ctx.fillRect(x, y, 2, 2);\n        }\n        // Wall tile (index 1)\n        ctx.fillStyle = \"#6c757d\";\n        ctx.fillRect(tileSize, 0, tileSize, tileSize);\n        ctx.strokeStyle = \"#495057\";\n        for(let i = 0; i < tileSize; i += 4){\n            ctx.beginPath();\n            ctx.moveTo(tileSize, i + 0.5);\n            ctx.lineTo(tileSize * 2, i + 0.5);\n            ctx.stroke();\n        }\n        sheet.refresh();\n        // Generate a player texture (circle)\n        if (this.textures.exists(\"player\")) {\n            this.textures.remove(\"player\");\n        }\n        const g = this.make.graphics({\n            x: 0,\n            y: 0\n        });\n        g.fillStyle(0xffd166, 1);\n        g.fillCircle(tileSize / 2, tileSize / 2, tileSize * 0.4);\n        g.lineStyle(2, 0x073b4c, 1);\n        g.strokeCircle(tileSize / 2, tileSize / 2, tileSize * 0.4);\n        g.generateTexture(\"player\", tileSize, tileSize);\n        g.destroy();\n    }\n    create() {\n        const { tileSize, mapWidth, mapHeight } = this.configData;\n        this.tileSizePx = tileSize;\n        this.mapWidthTiles = mapWidth;\n        this.mapHeightTiles = mapHeight;\n        // Create a blank tilemap and a dynamic layer using our generated spritesheet\n        const map = this.make.tilemap({\n            tileWidth: tileSize,\n            tileHeight: tileSize,\n            width: mapWidth,\n            height: mapHeight\n        });\n        const tileset = map.addTilesetImage(\"tiles\", \"tilesheet\", tileSize, tileSize, 0, 0);\n        if (!tileset) throw new Error(\"Failed to create tileset from tilesheet\");\n        const layer = map.createBlankLayer(\"ground\", tileset, 0, 0);\n        if (!layer) throw new Error(\"Failed to create blank ground layer\");\n        this.groundLayer = layer;\n        // Fill ground (index 0) and carve walls (index 1) along the border + a few random obstacles\n        this.groundLayer.fill(0, 0, 0, mapWidth, mapHeight);\n        for(let x = 0; x < mapWidth; x++){\n            this.groundLayer.putTileAt(1, x, 0);\n            this.groundLayer.putTileAt(1, x, mapHeight - 1);\n        }\n        for(let y = 0; y < mapHeight; y++){\n            this.groundLayer.putTileAt(1, 0, y);\n            this.groundLayer.putTileAt(1, mapWidth - 1, y);\n        }\n        // random obstacles\n        for(let i = 0; i < Math.floor(mapWidth * mapHeight * 0.05); i++){\n            const rx = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Between(1, mapWidth - 2);\n            const ry = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Between(1, mapHeight - 2);\n            this.groundLayer.putTileAt(1, rx, ry);\n        }\n        // Enable collisions for wall tiles (index 1)\n        this.groundLayer.setCollision(1, true);\n        // Player setup\n        const startX = this.configData.initialX ?? tileSize * 2;\n        const startY = this.configData.initialY ?? tileSize * 2;\n        this.player = this.physics.add.sprite(startX, startY, \"player\");\n        this.player.setDepth(10);\n        this.player.setCollideWorldBounds(true);\n        // Camera and world bounds\n        const worldWidth = mapWidth * tileSize;\n        const worldHeight = mapHeight * tileSize;\n        this.cameras.main.setBounds(0, 0, worldWidth, worldHeight);\n        this.cameras.main.startFollow(this.player, true, 0.1, 0.1);\n        this.physics.world.setBounds(0, 0, worldWidth, worldHeight);\n        // Collide player with walls\n        this.physics.add.collider(this.player, this.groundLayer);\n        // Input\n        this.cursors = this.input.keyboard?.createCursorKeys();\n        this.wasd = this.input.keyboard?.addKeys({\n            W: phaser__WEBPACK_IMPORTED_MODULE_0__.Input.Keyboard.KeyCodes.W,\n            A: phaser__WEBPACK_IMPORTED_MODULE_0__.Input.Keyboard.KeyCodes.A,\n            S: phaser__WEBPACK_IMPORTED_MODULE_0__.Input.Keyboard.KeyCodes.S,\n            D: phaser__WEBPACK_IMPORTED_MODULE_0__.Input.Keyboard.KeyCodes.D\n        });\n        this.enterKey = this.input.keyboard?.addKey(phaser__WEBPACK_IMPORTED_MODULE_0__.Input.Keyboard.KeyCodes.ENTER);\n        // Multiplayer socket (kept from your original)\n        this.initMultiplayer();\n        // Environment overlay\n        this.envOverlay = this.add.rectangle(0, 0, this.scale.width, this.scale.height, 0xffffff, 0.08).setOrigin(0).setScrollFactor(0).setDepth(900);\n        // Minimap overlay (no grid lines)\n        this.createMiniMap();\n        // HUD (Level + XP)\n        this.createHUD();\n        // Zone-aware spawn manager with trainer level\n        const trainerLevel = this.configData.trainerLevel || 1;\n        this.spawnManager = new _spawnUtils__WEBPACK_IMPORTED_MODULE_2__.SpawnManager(this, tileSize, mapWidth, mapHeight, trainerLevel);\n        this.spawnManager.on(\"spawned\", (rec)=>{\n            this.addMiniMarker(rec.key, rec.position.x, rec.position.y);\n            this.statusOnce(`A wild ${capitalize(rec.name)} appeared near you!`, 800);\n            this.configData.onPokemonSpotted?.({\n                name: rec.name,\n                spriteUrl: rec.spriteUrl,\n                pokeId: rec.pokeId\n            });\n            this.pushSpawnsToUI();\n        });\n        this.spawnManager.on(\"despawned\", (_key)=>{\n            this.removeMiniMarker(_key);\n            if (this.spawnManager.getActiveSpawns().length === 0) this.configData.onPokemonCleared?.();\n            this.pushSpawnsToUI();\n        });\n        this.spawnManager.on(\"spawnClicked\", async (key)=>{\n            await this.startBattleFromKey(key);\n        });\n        this.spawnManager.on(\"zoneChanged\", (z)=>{\n            this.highlightMiniZone();\n            const czx = (z.col * _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES + _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES / 2) * tileSize;\n            const czy = (z.row * _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES + _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES / 2) * tileSize;\n            const cam = this.cameras.main;\n            cam.stopFollow();\n            cam.pan(czx, czy, 300, \"Sine.easeInOut\", true, (camera, progress)=>{\n                if (progress === 1) cam.startFollow(this.player, true, 0.1, 0.1);\n            });\n            // apply biome environment tint\n            const zones = (0,_mapZones__WEBPACK_IMPORTED_MODULE_3__.generateZones)(Math.floor(this.mapWidthTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES), Math.floor(this.mapHeightTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES));\n            const meta = zones.find((q)=>q.id === `${z.col},${z.row}`);\n            if (meta) this.applyBiome(meta.biome);\n        });\n        this.generateStructures();\n        this.spawnManager.start();\n        // Load trainer data if wallet connected\n        this.initTrainerPersistence();\n        // Autosave every ~2.5 minutes\n        this.autosaveTimer = this.time.addEvent({\n            delay: 150000,\n            loop: true,\n            callback: ()=>this.autosave(\"interval\")\n        });\n        // Save on unload\n        if (false) {}\n    }\n    update() {\n        if (!this.player || !this.player.body) return;\n        const speed = this.playerSpeed;\n        let vx = 0;\n        let vy = 0;\n        // Arrow keys\n        if (this.cursors?.left?.isDown) vx -= 1;\n        if (this.cursors?.right?.isDown) vx += 1;\n        if (this.cursors?.up?.isDown) vy -= 1;\n        if (this.cursors?.down?.isDown) vy += 1;\n        // WASD\n        if (this.wasd?.A?.isDown) vx -= 1;\n        if (this.wasd?.D?.isDown) vx += 1;\n        if (this.wasd?.W?.isDown) vy -= 1;\n        if (this.wasd?.S?.isDown) vy += 1;\n        const body = this.player.body;\n        if (vx === 0 && vy === 0) {\n            body.setVelocity(0, 0);\n        } else {\n            const len = Math.hypot(vx, vy) || 1;\n            body.setVelocity(vx / len * speed, vy / len * speed);\n        }\n        // Keep UI + minimap pinned\n        if (this.mini) this.mini.setScrollFactor(0);\n        // Throttled position sync (multiplayer)\n        const now = this.time.now;\n        if (this.socket && now - this.lastSent > 100) {\n            this.socket.emit(\"move\", {\n                x: this.player.x,\n                y: this.player.y\n            });\n            this.lastSent = now;\n        }\n        // Update zone tracking for spawns/minimap\n        this.spawnManager?.updatePlayerPos(this.player.x, this.player.y);\n        // Battle when near and Enter pressed (compat)\n        if (this.enterKey && phaser__WEBPACK_IMPORTED_MODULE_0__.Input.Keyboard.JustDown(this.enterKey)) {\n            const nearest = this.getNearestActive(64);\n            if (nearest) this.startBattleFromKey(nearest.key);\n        }\n    }\n    // ---- UI helpers ----\n    statusOnce(_text, cooldownMs = 800) {\n        const now = this.time.now;\n        if (now - this.lastStatusAt < cooldownMs) return;\n        this.lastStatusAt = now;\n    // React sidebar now handles messaging\n    }\n    createHUD() {\n        const w = 220;\n        const h = 14;\n        // Place HUD below minimap to avoid overlap\n        const y = (this.miniH || 160) + 20;\n        this.hud = this.add.container(12, y).setScrollFactor(0).setDepth(2000);\n        const bg = this.add.rectangle(0, 0, w, h + 16, 0x000000, 0.5).setOrigin(0);\n        this.hudBarBg = this.add.rectangle(10, 8, w - 20, h, 0x333333, 1).setOrigin(0);\n        this.hudBarFg = this.add.rectangle(10, 8, 0, h, 0x2ecc71, 1).setOrigin(0);\n        this.hudText = this.add.text(12, -8, 'Lv.1 0/100 XP', {\n            fontSize: '12px',\n            color: '#fff'\n        });\n        this.hud.add([\n            bg,\n            this.hudBarBg,\n            this.hudBarFg,\n            this.hudText\n        ]);\n    }\n    updateHUD(level, currentXP, nextLevelXP) {\n        const w = this.hudBarBg?.width || 200;\n        const pct = Math.max(0, Math.min(1, nextLevelXP ? currentXP / nextLevelXP : 0));\n        if (this.hudBarFg) this.hudBarFg.width = Math.floor(w * pct);\n        if (this.hudText) this.hudText.setText(`Lv.${level} ${currentXP}/${nextLevelXP} XP`);\n    }\n    async initTrainerPersistence() {\n        try {\n            const wallet =  false ? 0 : null;\n            if (!wallet) return;\n            const { loadTrainer, autosaveTrainer } = await __webpack_require__.e(/*! import() */ \"_pages-dir-node_src_services_trainer_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ../../src/services/trainer */ \"(pages-dir-node)/./src/services/trainer.ts\"));\n            const { flushQueue } = await __webpack_require__.e(/*! import() */ \"_pages-dir-node_src_services_saveQueue_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ../../src/services/saveQueue */ \"(pages-dir-node)/./src/services/saveQueue.ts\"));\n            // try to flush any queued saves first\n            try {\n                await flushQueue();\n            } catch  {}\n            const res = await loadTrainer(wallet).catch(()=>null);\n            if (res?.trainer) {\n                const t = res.trainer;\n                if (t?.location) {\n                    this.player.setPosition(t.location.x || this.player.x, t.location.y || this.player.y);\n                }\n                if (typeof t.level === 'number') this.configData.trainerLevel = t.level;\n                this.updateHUD(t.level || 1, t.currentXP || 0, t.nextLevelXP || 100);\n                this.showSavedToast('Trainer data loaded successfully!');\n            } else {\n                // create initial snapshot\n                await autosaveTrainer({\n                    walletAddress: wallet,\n                    level: 1,\n                    xp: 0,\n                    location: {\n                        x: this.player.x,\n                        y: this.player.y,\n                        biome: 'grassland'\n                    }\n                });\n            }\n        } catch  {}\n    }\n    async autosave(reason) {\n        try {\n            const wallet =  false ? 0 : null;\n            if (!wallet) return;\n            const { autosaveTrainer } = await __webpack_require__.e(/*! import() */ \"_pages-dir-node_src_services_trainer_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ../../src/services/trainer */ \"(pages-dir-node)/./src/services/trainer.ts\"));\n            const xp =  false ? 0 : 0;\n            await autosaveTrainer({\n                walletAddress: wallet,\n                xp,\n                level: this.configData.trainerLevel || 1,\n                location: {\n                    x: this.player.x,\n                    y: this.player.y\n                }\n            });\n            this.showSavedToast('Progress Saved');\n        } catch (e) {\n            // enqueue offline save\n            try {\n                const base = (process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:4000') + '/api/autosave';\n                const { enqueueSave } = await __webpack_require__.e(/*! import() */ \"_pages-dir-node_src_services_saveQueue_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ../../src/services/saveQueue */ \"(pages-dir-node)/./src/services/saveQueue.ts\"));\n                const wallet =  false ? 0 : undefined;\n                await enqueueSave({\n                    url: base,\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        ...wallet ? {\n                            'x-wallet-address': wallet\n                        } : {}\n                    },\n                    body: {\n                        walletAddress: wallet,\n                        level: this.configData.trainerLevel || 1,\n                        location: {\n                            x: this.player.x,\n                            y: this.player.y\n                        }\n                    }\n                });\n            } catch  {}\n        }\n    }\n    showSavedToast(text) {\n        if (this.toast) {\n            this.toast.destroy();\n            this.toast = undefined;\n        }\n        const t = this.add.text(12, this.scale.height - 28, `💾 ${text}`, {\n            fontSize: '14px',\n            color: '#0f0',\n            backgroundColor: '#000',\n            padding: {\n                x: 8,\n                y: 4\n            }\n        }).setScrollFactor(0).setDepth(2000);\n        this.toast = t;\n        this.time.delayedCall(1600, ()=>{\n            if (t.scene) t.destroy();\n            if (this.toast === t) this.toast = undefined;\n        });\n    }\n    // ---- Multiplayer (kept) ----\n    initMultiplayer() {\n        if (this.socket) return; // already connected\n        const socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_1__.io)(\"http://localhost:4000\", {\n            transports: [\n                \"websocket\"\n            ],\n            autoConnect: true\n        });\n        this.socket = socket;\n        socket.on(\"connect\", ()=>{\n            this.myId = socket.id;\n        });\n        socket.on(\"initState\", (payload)=>{\n            Object.entries(payload.players).forEach(([id, pos])=>{\n                if (id === this.myId) return;\n                this.spawnOther(id, pos.x, pos.y);\n            });\n        });\n        socket.on(\"playerJoined\", ({ id, x, y })=>{\n            if (id === this.myId) return;\n            this.spawnOther(id, x, y);\n        });\n        socket.on(\"playerMoved\", ({ id, x, y })=>{\n            const sprite = this.others.get(id);\n            if (sprite) {\n                sprite.x = x;\n                sprite.y = y;\n            }\n        });\n        socket.on(\"playerLeft\", ({ id })=>{\n            const sprite = this.others.get(id);\n            if (sprite) {\n                sprite.destroy();\n                this.others.delete(id);\n            }\n        });\n        this.events.once(phaser__WEBPACK_IMPORTED_MODULE_0__.Scenes.Events.SHUTDOWN, ()=>{\n            socket.removeAllListeners();\n            socket.disconnect();\n            this.socket = undefined;\n            this.myId = undefined;\n            this.others.forEach((s)=>s.destroy());\n            this.others.clear();\n        });\n    }\n    spawnOther(id, x, y) {\n        const s = this.add.sprite(x, y, \"player\").setTint(0x118ab2);\n        s.setDepth(5);\n        this.others.set(id, s);\n    }\n    // ---- Minimap ----\n    createMiniMap() {\n        // Place top-left inside gameplay area (away from right sidebar)\n        const baseX = 12;\n        const baseY = 12;\n        this.mini = this.add.container(baseX, baseY).setDepth(1000);\n        this.mini.setScrollFactor(0);\n        const bg = this.add.rectangle(0, 0, this.miniW, this.miniH, 0x111111, 0.6).setOrigin(0);\n        this.miniGfx = this.add.graphics();\n        this.miniMarkers = this.add.container(0, 0);\n        this.miniBuildings = this.add.container(0, 0);\n        this.miniHighlight = this.add.graphics();\n        // no grid lines to keep zones invisible\n        const cols = Math.max(1, Math.floor(this.mapWidthTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES));\n        const rows = Math.max(1, Math.floor(this.mapHeightTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES));\n        this.miniGfx.clear();\n        this.miniGfx.lineStyle(1, 0x333333, 0.8);\n        this.miniGfx.strokeRect(0, 0, this.miniW, this.miniH);\n        // clickable zone\n        const hit = this.add.zone(0, 0, this.miniW, this.miniH).setOrigin(0).setInteractive({\n            useHandCursor: true\n        });\n        hit.on('pointerdown', (_pointer, localX, localY)=>{\n            const zc = Math.floor(localX / (this.miniW / cols));\n            const zr = Math.floor(localY / (this.miniH / rows));\n            const cx = (zc * _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES + _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES / 2) * this.tileSizePx;\n            const cy = (zr * _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES + _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES / 2) * this.tileSizePx;\n            const cam = this.cameras.main;\n            cam.stopFollow();\n            cam.pan(cx, cy, 300, 'Sine.easeInOut', true, (camera, progress)=>{\n                if (progress === 1) cam.startFollow(this.player, true, 0.1, 0.1);\n            });\n        });\n        this.mini.add([\n            bg,\n            this.miniGfx,\n            this.miniHighlight,\n            this.miniBuildings,\n            this.miniMarkers,\n            hit\n        ]);\n        this.highlightMiniZone();\n    }\n    highlightMiniZone() {\n        if (!this.miniHighlight) return;\n        const grid = this.spawnManager?.getZoneGrid();\n        const cols = grid?.cols ?? Math.max(1, Math.floor(this.mapWidthTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES));\n        const rows = grid?.rows ?? Math.max(1, Math.floor(this.mapHeightTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES));\n        const cur = this.spawnManager?.getCurrentZone();\n        if (!cur) return;\n        const cw = this.miniW / cols;\n        const ch = this.miniH / rows;\n        this.miniHighlight.clear();\n        this.miniHighlight.lineStyle(2, 0xffff66, 1);\n        this.miniHighlight.strokeRect(cur.col * cw, cur.row * ch, cw, ch);\n    }\n    worldToMini(x, y) {\n        const sx = this.miniW / (this.mapWidthTiles * this.tileSizePx);\n        const sy = this.miniH / (this.mapHeightTiles * this.tileSizePx);\n        return {\n            x: x * sx,\n            y: y * sy\n        };\n    }\n    addMiniMarker(key, wx, wy) {\n        if (!this.miniMarkers) return;\n        const pt = this.worldToMini(wx, wy);\n        const dot = this.add.rectangle(pt.x, pt.y, 4, 4, 0xffffff, 1).setOrigin(0.5);\n        dot.name = key;\n        this.miniMarkers.add(dot);\n    }\n    removeMiniMarker(key) {\n        if (!this.miniMarkers) return;\n        const list = this.miniMarkers.list;\n        const found = list.find((ch)=>ch.name === key);\n        if (found) found.destroy();\n    }\n    getNearestActive(radius) {\n        if (!this.spawnManager) return null;\n        let best = null;\n        let bestD = Number.POSITIVE_INFINITY;\n        this.spawnManager.getActiveSpawns().forEach((rec)=>{\n            const d = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Distance.Between(this.player.x, this.player.y, rec.position.x, rec.position.y);\n            if (d < radius && d < bestD) {\n                bestD = d;\n                best = rec;\n            }\n        });\n        return best;\n    }\n    async startBattleFromKey(key) {\n        if (!this.spawnManager) return;\n        const rec = this.spawnManager.getActiveSpawns().find((r)=>r.key === key);\n        if (!rec) return;\n        if (!this.configData.playerPokemon) {\n            this.statusOnce('You need a Pokémon to battle!', 800);\n            return;\n        }\n        try {\n            const pokeRes = await fetch(`https://pokeapi.co/api/v2/pokemon/${rec.pokeId}`);\n            const pokeData = await pokeRes.json();\n            this.spawnManager.despawn(key);\n            // Transform player Pokemon to match BattleScene expected format\n            const playerPoke = this.configData.playerPokemon;\n            const hpStat = playerPoke.data?.stats?.find((s)=>s.stat.name === 'hp')?.base_stat || 50;\n            const maxHp = Math.floor(hpStat * 1.5 * (playerPoke.level || 1));\n            this.scene.start('BattleScene', {\n                wildPokemon: {\n                    name: rec.name,\n                    pokeId: rec.pokeId,\n                    data: pokeData,\n                    spriteUrl: rec.spriteUrl,\n                    level: rec.level\n                },\n                playerPokemon: {\n                    name: playerPoke.name || playerPoke.displayName,\n                    pokeId: playerPoke.id,\n                    data: playerPoke.data,\n                    spriteUrl: playerPoke.sprite,\n                    level: playerPoke.level || 1,\n                    maxHp: maxHp,\n                    currentHp: maxHp\n                },\n                trainerLevel: this.configData.trainerLevel || 1\n            });\n        } catch  {}\n    }\n    // ---- Structures ----\n    generateStructures() {\n        const cols = Math.max(1, Math.floor(this.mapWidthTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES));\n        const rows = Math.max(1, Math.floor(this.mapHeightTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES));\n        const zones = (0,_mapZones__WEBPACK_IMPORTED_MODULE_3__.generateZones)(cols, rows);\n        const choose = (arr)=>arr[Math.floor(Math.random() * arr.length)];\n        const byBiome = {\n            city: [\n                \"lab\",\n                \"house\"\n            ],\n            mountain: [\n                \"temple\",\n                \"house\"\n            ],\n            forest: [\n                \"house\",\n                \"tower\"\n            ],\n            desert: [\n                \"temple\"\n            ],\n            lake: [\n                \"tower\"\n            ],\n            grassland: [\n                \"house\"\n            ],\n            cave: [\n                \"tower\"\n            ],\n            snowfield: [\n                \"house\",\n                \"temple\"\n            ]\n        };\n        this.structures = [];\n        zones.forEach((z)=>{\n            if (Math.random() > 0.12) return; // ~12% of zones have a building\n            const types = byBiome[z.biome] || [\n                \"house\"\n            ];\n            const type = choose(types);\n            const startX = z.col * _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES * this.tileSizePx;\n            const startY = z.row * _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES * this.tileSizePx;\n            const x = startX + 16 + Math.random() * (_mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES * this.tileSizePx - 32);\n            const y = startY + 16 + Math.random() * (_mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES * this.tileSizePx - 32);\n            const id = `b-${z.id}-${type}-${Math.floor(x)}-${Math.floor(y)}`;\n            this.structures.push({\n                id,\n                type,\n                col: z.col,\n                row: z.row,\n                x,\n                y\n            });\n        });\n        // render\n        this.structures.forEach((s)=>{\n            const color = s.type === \"lab\" ? 0xcfe3ff : s.type === \"tower\" ? 0x6b4e9b : s.type === \"temple\" ? 0xc2b280 : 0xd3d3d3;\n            const building = this.add.rectangle(s.x, s.y, 32, 24, color, 1).setOrigin(0.5).setDepth(15);\n            this.physics.add.existing(building, true);\n            const door = this.add.rectangle(s.x, s.y + 12, 10, 6, 0x000000, 0.8).setDepth(16);\n            this.physics.add.existing(door, true);\n            this.physics.add.overlap(this.player, door, ()=>this.enterStructure(s));\n            // minimap marker\n            if (this.miniBuildings) {\n                const pt = this.worldToMini(s.x, s.y);\n                const sq = this.add.rectangle(pt.x, pt.y, 5, 5, 0xffe066, 1).setOrigin(0.5);\n                this.miniBuildings.add(sq);\n            }\n        });\n    }\n    enterStructure(s) {\n        if (this.insideStructure.active) return;\n        this.insideStructure = {\n            active: true,\n            type: s.type\n        };\n        // override spawn pool based on structure -> use BIOMES mapping\n        const b = s.type === \"tower\" ? _biomes__WEBPACK_IMPORTED_MODULE_4__.BIOMES.tower : s.type === \"lab\" ? _biomes__WEBPACK_IMPORTED_MODULE_4__.BIOMES.lab : _biomes__WEBPACK_IMPORTED_MODULE_4__.BIOMES.temple;\n        this.applyBiome(b.id);\n        this.spawnManager?.setOverrideTypes(b.pokemonPool);\n    }\n    exitStructure() {\n        if (!this.insideStructure.active) return;\n        this.insideStructure = {\n            active: false,\n            type: null\n        };\n        // clear override and re-apply zone biome color\n        this.spawnManager?.setOverrideTypes(null);\n        const cur = this.spawnManager?.getCurrentZone();\n        if (cur) {\n            const zones = (0,_mapZones__WEBPACK_IMPORTED_MODULE_3__.generateZones)(Math.floor(this.mapWidthTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES), Math.floor(this.mapHeightTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES));\n            const meta = zones.find((q)=>q.id === `${cur.col},${cur.row}`);\n            if (meta) this.applyBiome(meta.biome);\n        }\n    }\n    applyBiome(id) {\n        const def = _biomes__WEBPACK_IMPORTED_MODULE_4__.BIOMES[id];\n        if (!def) return;\n        if (this.envOverlay) {\n            const target = def.environmentColor;\n            const from = this.envOverlay.fillColor ?? 0xffffff;\n            const o = {\n                t: 0\n            };\n            this.tweens.add({\n                targets: o,\n                t: 1,\n                duration: 400,\n                onUpdate: ()=>{\n                    const c = phaser__WEBPACK_IMPORTED_MODULE_0__.Display.Color.Interpolate.ColorWithColor(phaser__WEBPACK_IMPORTED_MODULE_0__.Display.Color.IntegerToColor(from), phaser__WEBPACK_IMPORTED_MODULE_0__.Display.Color.IntegerToColor(target), 100, Math.floor(o.t * 100));\n                    const hex = phaser__WEBPACK_IMPORTED_MODULE_0__.Display.Color.GetColor(c.r, c.g, c.b);\n                    this.envOverlay.setFillStyle(hex, 0.08);\n                }\n            });\n        }\n    }\n    pushSpawnsToUI() {\n        if (!this.configData.onSpawnsUpdate || !this.spawnManager) return;\n        const spawns = this.spawnManager.getActiveSpawns().map((r)=>({\n                key: r.key,\n                name: r.name,\n                pokeId: r.pokeId,\n                spriteUrl: r.spriteUrl,\n                position: r.position,\n                level: r.level,\n                rarity: r.rarity,\n                distance: phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Distance.Between(this.player.x, this.player.y, r.position.x, r.position.y)\n            }));\n        this.configData.onSpawnsUpdate(spawns);\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2xpYi9waGFzZXIvR2FtZVNjZW5lLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBaUM7QUFDa0I7QUFFTjtBQUNXO0FBQ2dDO0FBRXhGLFNBQVNNLFdBQVdDLENBQVM7SUFDM0IsT0FBTyxDQUFDQSxLQUFLLEVBQUMsRUFBR0MsTUFBTSxDQUFDLEdBQUdDLFdBQVcsS0FBSyxDQUFDRixLQUFLLEVBQUMsRUFBR0csS0FBSyxDQUFDO0FBQzdEO0FBMEJPLE1BQU1DLGtCQUFrQlgseUNBQVk7SUFxRHpDLGFBQWM7UUFDWixLQUFLLENBQUMsbUJBaERBYSxhQUEwQjtZQUNoQ0MsVUFBVTtZQUNWQyxVQUFVO1lBQ1ZDLFdBQVc7WUFDWEMsYUFBYTtRQUNmLFFBQ1FBLGNBQWMsS0FJdEIsd0JBQXdCO2FBQ2hCQyxnQkFBZ0IsUUFDaEJDLGlCQUFpQixRQUNqQkMsYUFBYSxTQUNiQyxTQUFpRCxJQUFJQyxZQUNyREMsV0FBVyxHQUtuQixtREFBbUQ7YUFDM0NDLGVBQWUsUUFRZkMsUUFBUSxVQUNSQyxRQUFRLEtBVWhCLGFBQWE7YUFDTEMsYUFBNkIsRUFBRSxPQUMvQkMsa0JBQW1FO1lBQUVDLFFBQVE7WUFBT0MsTUFBTTtRQUFLO0lBT3ZHO0lBRUFDLEtBQUtDLElBQTBCLEVBQUU7UUFDL0IsSUFBSSxDQUFDbkIsVUFBVSxHQUFHO1lBQUUsR0FBRyxJQUFJLENBQUNBLFVBQVU7WUFBRSxHQUFHbUIsSUFBSTtRQUFDO1FBQ2hELElBQUksSUFBSSxDQUFDbkIsVUFBVSxDQUFDSSxXQUFXLEVBQzdCLElBQUksQ0FBQ0EsV0FBVyxHQUFHLElBQUksQ0FBQ0osVUFBVSxDQUFDSSxXQUFXO0lBQ2xEO0lBRUFnQixVQUFVO1FBQ1Isc0VBQXNFO1FBQ3RFLE1BQU0sRUFBRW5CLFFBQVEsRUFBRSxHQUFHLElBQUksQ0FBQ0QsVUFBVTtRQUNwQyxNQUFNcUIsUUFBUXBCLFdBQVc7UUFDekIsTUFBTXFCLFNBQVNyQjtRQUVmLG9EQUFvRDtR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eEwsR0FBRztnQkFDVkcsTUFBTXFMLEVBQUVyTCxJQUFJO2dCQUNaRyxRQUFRa0wsRUFBRWxMLE1BQU07Z0JBQ2hCRCxXQUFXbUwsRUFBRW5MLFNBQVM7Z0JBQ3RCSixVQUFVdUwsRUFBRXZMLFFBQVE7Z0JBQ3BCcUYsT0FBT2tHLEVBQUVsRyxLQUFLO2dCQUNkaUssUUFBUS9ELEVBQUUrRCxNQUFNO2dCQUNoQkMsVUFBVXpYLHdDQUFXLENBQUN3VCxRQUFRLENBQUN6TyxPQUFPLENBQUMsSUFBSSxDQUFDTyxNQUFNLENBQUN2QyxDQUFDLEVBQUUsSUFBSSxDQUFDdUMsTUFBTSxDQUFDcEMsQ0FBQyxFQUFFdVEsRUFBRXZMLFFBQVEsQ0FBQ25GLENBQUMsRUFBRTBRLEVBQUV2TCxRQUFRLENBQUNoRixDQUFDO1lBQ2pHO1FBQ0EsSUFBSSxDQUFDckMsVUFBVSxDQUFDeVcsY0FBYyxDQUFDQztJQUNqQztBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFNhaGl0aFxcT25lRHJpdmVcXERlc2t0b3BcXHlva2FpaHVudFxcZnJvbnRlbmRcXGxpYlxccGhhc2VyXFxHYW1lU2NlbmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgaW8sIHR5cGUgU29ja2V0IH0gZnJvbSBcInNvY2tldC5pby1jbGllbnRcIjtcclxuaW1wb3J0IHsgY2F0Y2hQb2tlbW9uIGFzIGFwaUNhdGNoIH0gZnJvbSBcIi4uL2FwaS9hcGlcIjtcclxuaW1wb3J0IHsgU3Bhd25NYW5hZ2VyIH0gZnJvbSBcIi4uL3NwYXduVXRpbHNcIjtcclxuaW1wb3J0IHsgWk9ORV9USUxFUywgZ2VuZXJhdGVab25lcyB9IGZyb20gXCIuLi9tYXBab25lc1wiO1xyXG5pbXBvcnQgeyBCSU9NRVMsIHR5cGUgQmlvbWVJZCwgdHlwZSBTdHJ1Y3R1cmVEZWYsIHR5cGUgU3RydWN0dXJlVHlwZSB9IGZyb20gXCIuLi9iaW9tZXNcIjtcclxuXHJcbmZ1bmN0aW9uIGNhcGl0YWxpemUoczogc3RyaW5nKSB7XHJcbiAgcmV0dXJuIChzIHx8IFwiXCIpLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgKHMgfHwgXCJcIikuc2xpY2UoMSk7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU2NlbmVDb25maWcge1xyXG4gIHRpbGVTaXplOiBudW1iZXI7XHJcbiAgbWFwV2lkdGg6IG51bWJlcjtcclxuICBtYXBIZWlnaHQ6IG51bWJlcjtcclxuICBwbGF5ZXJTcGVlZDogbnVtYmVyO1xyXG4gIGluaXRpYWxYPzogbnVtYmVyO1xyXG4gIGluaXRpYWxZPzogbnVtYmVyO1xyXG4gIG9uUG9rZW1vblNwb3R0ZWQ/OiAocG9rZW1vbjogeyBuYW1lOiBzdHJpbmc7IHNwcml0ZVVybDogc3RyaW5nOyBwb2tlSWQ6IG51bWJlciB9KSA9PiB2b2lkO1xyXG4gIG9uUG9rZW1vbkNsZWFyZWQ/OiAoKSA9PiB2b2lkO1xyXG4gIG9uU3Bhd25zVXBkYXRlPzogKHNwYXduczogeyBrZXk6IHN0cmluZzsgbmFtZTogc3RyaW5nOyBwb2tlSWQ6IG51bWJlcjsgc3ByaXRlVXJsOiBzdHJpbmc7IHBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07IGxldmVsOiBudW1iZXI7IHJhcml0eTogc3RyaW5nIH1bXSkgPT4gdm9pZDtcclxuICBwbGF5ZXJQb2tlbW9uPzogYW55OyAvLyBTZWxlY3RlZCBQb2vDqW1vbiBmb3IgYmF0dGxlXHJcbiAgdHJhaW5lckxldmVsPzogbnVtYmVyOyAvLyBUcmFpbmVyIGxldmVsIGZvciBzcGF3biBiYWxhbmNpbmdcclxufVxyXG5cclxudHlwZSBTcGF3blJlY29yZCA9IHtcclxuICBrZXk6IHN0cmluZztcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgcG9rZUlkOiBudW1iZXI7XHJcbiAgZGF0YTogYW55O1xyXG4gIHNwcml0ZTogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlIHwgbnVsbDtcclxuICBwb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xyXG4gIHNwcml0ZVVybDogc3RyaW5nO1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgcHJpdmF0ZSBjdXJzb3JzPzogUGhhc2VyLlR5cGVzLklucHV0LktleWJvYXJkLkN1cnNvcktleXM7XHJcbiAgcHJpdmF0ZSB3YXNkPzogUmVjb3JkPFwiV1wiIHwgXCJBXCIgfCBcIlNcIiB8IFwiRFwiLCBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5PjtcclxuICBwcml2YXRlIGVudGVyS2V5PzogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICBwcml2YXRlIHBsYXllciE6IFBoYXNlci5UeXBlcy5QaHlzaWNzLkFyY2FkZS5TcHJpdGVXaXRoRHluYW1pY0JvZHk7XHJcbiAgcHJpdmF0ZSBncm91bmRMYXllciE6IFBoYXNlci5UaWxlbWFwcy5UaWxlbWFwTGF5ZXI7XHJcbiAgcHJpdmF0ZSBjb25maWdEYXRhOiBTY2VuZUNvbmZpZyA9IHtcclxuICAgIHRpbGVTaXplOiAzMixcclxuICAgIG1hcFdpZHRoOiA1MCxcclxuICAgIG1hcEhlaWdodDogMzgsXHJcbiAgICBwbGF5ZXJTcGVlZDogMjAwLFxyXG4gIH07XHJcbiAgcHJpdmF0ZSBwbGF5ZXJTcGVlZCA9IDIwMDtcclxuICBwcml2YXRlIHNvY2tldD86IFNvY2tldDtcclxuICBwcml2YXRlIG15SWQ/OiBzdHJpbmc7XHJcblxyXG4gIC8vIENhY2hlZCBtYXAgZGltZW5zaW9uc1xyXG4gIHByaXZhdGUgbWFwV2lkdGhUaWxlcyA9IDA7XHJcbiAgcHJpdmF0ZSBtYXBIZWlnaHRUaWxlcyA9IDA7XHJcbiAgcHJpdmF0ZSB0aWxlU2l6ZVB4ID0gMzI7XHJcbiAgcHJpdmF0ZSBvdGhlcnM6IE1hcDxzdHJpbmcsIFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGU+ID0gbmV3IE1hcCgpO1xyXG4gIHByaXZhdGUgbGFzdFNlbnQgPSAwO1xyXG5cclxuICAvLyBTcGF3bnMgKG1hbmFnZWQgYnkgU3Bhd25NYW5hZ2VyKVxyXG4gIHByaXZhdGUgc3Bhd25NYW5hZ2VyPzogU3Bhd25NYW5hZ2VyO1xyXG5cclxuICAvLyBVSSAoc2lkZWJhcikgLSByZW1vdmVkIGluIGZhdm9yIG9mIFJlYWN0L05leHQgVUlcclxuICBwcml2YXRlIGxhc3RTdGF0dXNBdCA9IDA7XHJcblxyXG4gIC8vIE1pbmltYXBcclxuICBwcml2YXRlIG1pbmk/OiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xyXG4gIHByaXZhdGUgbWluaUdmeD86IFBoYXNlci5HYW1lT2JqZWN0cy5HcmFwaGljcztcclxuICBwcml2YXRlIG1pbmlNYXJrZXJzPzogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcclxuICBwcml2YXRlIG1pbmlIaWdobGlnaHQ/OiBQaGFzZXIuR2FtZU9iamVjdHMuR3JhcGhpY3M7XHJcbiAgcHJpdmF0ZSBtaW5pQnVpbGRpbmdzPzogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcclxuICBwcml2YXRlIG1pbmlXID0gMTYwO1xyXG4gIHByaXZhdGUgbWluaUggPSAxNjA7XHJcblxyXG4vLyBUb2FzdCBub3RpZmljYXRpb25cclxuICBwcml2YXRlIHRvYXN0PzogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XHJcbiAgcHJpdmF0ZSBhdXRvc2F2ZVRpbWVyPzogUGhhc2VyLlRpbWUuVGltZXJFdmVudDtcclxuICBwcml2YXRlIGh1ZD86IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XHJcbiAgcHJpdmF0ZSBodWRUZXh0PzogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XHJcbiAgcHJpdmF0ZSBodWRCYXJCZz86IFBoYXNlci5HYW1lT2JqZWN0cy5SZWN0YW5nbGU7XHJcbiAgcHJpdmF0ZSBodWRCYXJGZz86IFBoYXNlci5HYW1lT2JqZWN0cy5SZWN0YW5nbGU7XHJcblxyXG4gIC8vIFN0cnVjdHVyZXNcclxuICBwcml2YXRlIHN0cnVjdHVyZXM6IFN0cnVjdHVyZURlZltdID0gW107XHJcbiAgcHJpdmF0ZSBpbnNpZGVTdHJ1Y3R1cmU6IHsgYWN0aXZlOiBib29sZWFuOyB0eXBlOiBTdHJ1Y3R1cmVUeXBlIHwgbnVsbCB9ID0geyBhY3RpdmU6IGZhbHNlLCB0eXBlOiBudWxsIH07XHJcblxyXG4gIC8vIEVudmlyb25tZW50IG92ZXJsYXkgKG5vIHBhcnRpY2xlcyB0byBhdm9pZCBydW50aW1lIGluY29tcGF0KVxyXG4gIHByaXZhdGUgZW52T3ZlcmxheT86IFBoYXNlci5HYW1lT2JqZWN0cy5SZWN0YW5nbGU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoXCJHYW1lU2NlbmVcIik7XHJcbiAgfVxyXG5cclxuICBpbml0KGRhdGE6IFBhcnRpYWw8U2NlbmVDb25maWc+KSB7XHJcbiAgICB0aGlzLmNvbmZpZ0RhdGEgPSB7IC4uLnRoaXMuY29uZmlnRGF0YSwgLi4uZGF0YSB9IGFzIFNjZW5lQ29uZmlnO1xyXG4gICAgaWYgKHRoaXMuY29uZmlnRGF0YS5wbGF5ZXJTcGVlZClcclxuICAgICAgdGhpcy5wbGF5ZXJTcGVlZCA9IHRoaXMuY29uZmlnRGF0YS5wbGF5ZXJTcGVlZDtcclxuICB9XHJcblxyXG4gIHByZWxvYWQoKSB7XHJcbiAgICAvLyBHZW5lcmF0ZSBhIHNpbXBsZSAyLXRpbGUgc3ByaXRlc2hlZXQgKGdyYXNzLCB3YWxsKSBwcm9ncmFtbWF0aWNhbGx5XHJcbiAgICBjb25zdCB7IHRpbGVTaXplIH0gPSB0aGlzLmNvbmZpZ0RhdGE7XHJcbiAgICBjb25zdCB3aWR0aCA9IHRpbGVTaXplICogMjtcclxuICAgIGNvbnN0IGhlaWdodCA9IHRpbGVTaXplO1xyXG4gICAgXHJcbiAgICAvLyBDaGVjayBpZiB0ZXh0dXJlIGFscmVhZHkgZXhpc3RzLCBkZXN0cm95IGl0IGZpcnN0XHJcbiAgICBpZiAodGhpcy50ZXh0dXJlcy5leGlzdHMoXCJ0aWxlc2hlZXRcIikpIHtcclxuICAgICAgdGhpcy50ZXh0dXJlcy5yZW1vdmUoXCJ0aWxlc2hlZXRcIik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IHNoZWV0ID0gdGhpcy50ZXh0dXJlcy5jcmVhdGVDYW52YXMoXCJ0aWxlc2hlZXRcIiwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICBpZiAoIXNoZWV0KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgY2FudmFzIHRleHR1cmUgJ3RpbGVzaGVldCdcIik7XHJcbiAgICB9XHJcbiAgICBjb25zdCBjdHggPSBzaGVldC5nZXRDb250ZXh0KCk7XHJcbiAgICBpZiAoIWN0eCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2V0IDJEIHJlbmRlcmluZyBjb250ZXh0IGZyb20gY2FudmFzICd0aWxlc2hlZXQnXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdyYXNzIHRpbGUgKGluZGV4IDApXHJcbiAgICBjdHguZmlsbFN0eWxlID0gXCIjMmQ2YTRmXCI7XHJcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgdGlsZVNpemUsIHRpbGVTaXplKTtcclxuICAgIC8vIHNwcmlua2xlIGRvdHNcclxuICAgIGN0eC5maWxsU3R5bGUgPSBcIiM0MDkxNmNcIjtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzA7IGkrKykge1xyXG4gICAgICBjb25zdCB4ID0gTWF0aC5yYW5kb20oKSAqICh0aWxlU2l6ZSAtIDIpO1xyXG4gICAgICBjb25zdCB5ID0gTWF0aC5yYW5kb20oKSAqICh0aWxlU2l6ZSAtIDIpO1xyXG4gICAgICBjdHguZmlsbFJlY3QoeCwgeSwgMiwgMik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gV2FsbCB0aWxlIChpbmRleCAxKVxyXG4gICAgY3R4LmZpbGxTdHlsZSA9IFwiIzZjNzU3ZFwiO1xyXG4gICAgY3R4LmZpbGxSZWN0KHRpbGVTaXplLCAwLCB0aWxlU2l6ZSwgdGlsZVNpemUpO1xyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gXCIjNDk1MDU3XCI7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRpbGVTaXplOyBpICs9IDQpIHtcclxuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICBjdHgubW92ZVRvKHRpbGVTaXplLCBpICsgMC41KTtcclxuICAgICAgY3R4LmxpbmVUbyh0aWxlU2l6ZSAqIDIsIGkgKyAwLjUpO1xyXG4gICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hlZXQucmVmcmVzaCgpO1xyXG5cclxuICAgIC8vIEdlbmVyYXRlIGEgcGxheWVyIHRleHR1cmUgKGNpcmNsZSlcclxuICAgIGlmICh0aGlzLnRleHR1cmVzLmV4aXN0cyhcInBsYXllclwiKSkge1xyXG4gICAgICB0aGlzLnRleHR1cmVzLnJlbW92ZShcInBsYXllclwiKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGcgPSB0aGlzLm1ha2UuZ3JhcGhpY3MoeyB4OiAwLCB5OiAwIH0pO1xyXG4gICAgZy5maWxsU3R5bGUoMHhmZmQxNjYsIDEpO1xyXG4gICAgZy5maWxsQ2lyY2xlKHRpbGVTaXplIC8gMiwgdGlsZVNpemUgLyAyLCB0aWxlU2l6ZSAqIDAuNCk7XHJcbiAgICBnLmxpbmVTdHlsZSgyLCAweDA3M2I0YywgMSk7XHJcbiAgICBnLnN0cm9rZUNpcmNsZSh0aWxlU2l6ZSAvIDIsIHRpbGVTaXplIC8gMiwgdGlsZVNpemUgKiAwLjQpO1xyXG4gICAgZy5nZW5lcmF0ZVRleHR1cmUoXCJwbGF5ZXJcIiwgdGlsZVNpemUsIHRpbGVTaXplKTtcclxuICAgIGcuZGVzdHJveSgpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlKCkge1xyXG4gICAgY29uc3QgeyB0aWxlU2l6ZSwgbWFwV2lkdGgsIG1hcEhlaWdodCB9ID0gdGhpcy5jb25maWdEYXRhO1xyXG4gICAgdGhpcy50aWxlU2l6ZVB4ID0gdGlsZVNpemU7XHJcbiAgICB0aGlzLm1hcFdpZHRoVGlsZXMgPSBtYXBXaWR0aDtcclxuICAgIHRoaXMubWFwSGVpZ2h0VGlsZXMgPSBtYXBIZWlnaHQ7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGEgYmxhbmsgdGlsZW1hcCBhbmQgYSBkeW5hbWljIGxheWVyIHVzaW5nIG91ciBnZW5lcmF0ZWQgc3ByaXRlc2hlZXRcclxuICAgIGNvbnN0IG1hcCA9IHRoaXMubWFrZS50aWxlbWFwKHtcclxuICAgICAgdGlsZVdpZHRoOiB0aWxlU2l6ZSxcclxuICAgICAgdGlsZUhlaWdodDogdGlsZVNpemUsXHJcbiAgICAgIHdpZHRoOiBtYXBXaWR0aCxcclxuICAgICAgaGVpZ2h0OiBtYXBIZWlnaHQsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHRpbGVzZXQgPSBtYXAuYWRkVGlsZXNldEltYWdlKFxyXG4gICAgICBcInRpbGVzXCIsXHJcbiAgICAgIFwidGlsZXNoZWV0XCIsXHJcbiAgICAgIHRpbGVTaXplLFxyXG4gICAgICB0aWxlU2l6ZSxcclxuICAgICAgMCxcclxuICAgICAgMCxcclxuICAgICk7XHJcbiAgICBpZiAoIXRpbGVzZXQpIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgdGlsZXNldCBmcm9tIHRpbGVzaGVldFwiKTtcclxuICAgIGNvbnN0IGxheWVyID0gbWFwLmNyZWF0ZUJsYW5rTGF5ZXIoXCJncm91bmRcIiwgdGlsZXNldCwgMCwgMCk7XHJcbiAgICBpZiAoIWxheWVyKSB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gY3JlYXRlIGJsYW5rIGdyb3VuZCBsYXllclwiKTtcclxuICAgIHRoaXMuZ3JvdW5kTGF5ZXIgPSBsYXllcjtcclxuXHJcbiAgICAvLyBGaWxsIGdyb3VuZCAoaW5kZXggMCkgYW5kIGNhcnZlIHdhbGxzIChpbmRleCAxKSBhbG9uZyB0aGUgYm9yZGVyICsgYSBmZXcgcmFuZG9tIG9ic3RhY2xlc1xyXG4gICAgdGhpcy5ncm91bmRMYXllci5maWxsKDAsIDAsIDAsIG1hcFdpZHRoLCBtYXBIZWlnaHQpO1xyXG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCBtYXBXaWR0aDsgeCsrKSB7XHJcbiAgICAgIHRoaXMuZ3JvdW5kTGF5ZXIucHV0VGlsZUF0KDEsIHgsIDApO1xyXG4gICAgICB0aGlzLmdyb3VuZExheWVyLnB1dFRpbGVBdCgxLCB4LCBtYXBIZWlnaHQgLSAxKTtcclxuICAgIH1cclxuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgbWFwSGVpZ2h0OyB5KyspIHtcclxuICAgICAgdGhpcy5ncm91bmRMYXllci5wdXRUaWxlQXQoMSwgMCwgeSk7XHJcbiAgICAgIHRoaXMuZ3JvdW5kTGF5ZXIucHV0VGlsZUF0KDEsIG1hcFdpZHRoIC0gMSwgeSk7XHJcbiAgICB9XHJcbiAgICAvLyByYW5kb20gb2JzdGFjbGVzXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1hdGguZmxvb3IobWFwV2lkdGggKiBtYXBIZWlnaHQgKiAwLjA1KTsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHJ4ID0gUGhhc2VyLk1hdGguQmV0d2VlbigxLCBtYXBXaWR0aCAtIDIpO1xyXG4gICAgICBjb25zdCByeSA9IFBoYXNlci5NYXRoLkJldHdlZW4oMSwgbWFwSGVpZ2h0IC0gMik7XHJcbiAgICAgIHRoaXMuZ3JvdW5kTGF5ZXIucHV0VGlsZUF0KDEsIHJ4LCByeSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRW5hYmxlIGNvbGxpc2lvbnMgZm9yIHdhbGwgdGlsZXMgKGluZGV4IDEpXHJcbiAgICB0aGlzLmdyb3VuZExheWVyLnNldENvbGxpc2lvbigxLCB0cnVlKTtcclxuXHJcbiAgICAvLyBQbGF5ZXIgc2V0dXBcclxuICAgIGNvbnN0IHN0YXJ0WCA9IHRoaXMuY29uZmlnRGF0YS5pbml0aWFsWCA/PyB0aWxlU2l6ZSAqIDI7XHJcbiAgICBjb25zdCBzdGFydFkgPSB0aGlzLmNvbmZpZ0RhdGEuaW5pdGlhbFkgPz8gdGlsZVNpemUgKiAyO1xyXG4gICAgdGhpcy5wbGF5ZXIgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZShzdGFydFgsIHN0YXJ0WSwgXCJwbGF5ZXJcIik7XHJcbiAgICB0aGlzLnBsYXllci5zZXREZXB0aCgxMCk7XHJcbiAgICB0aGlzLnBsYXllci5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcblxyXG4gICAgLy8gQ2FtZXJhIGFuZCB3b3JsZCBib3VuZHNcclxuICAgIGNvbnN0IHdvcmxkV2lkdGggPSBtYXBXaWR0aCAqIHRpbGVTaXplO1xyXG4gICAgY29uc3Qgd29ybGRIZWlnaHQgPSBtYXBIZWlnaHQgKiB0aWxlU2l6ZTtcclxuICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEJvdW5kcygwLCAwLCB3b3JsZFdpZHRoLCB3b3JsZEhlaWdodCk7XHJcbiAgICB0aGlzLmNhbWVyYXMubWFpbi5zdGFydEZvbGxvdyh0aGlzLnBsYXllciwgdHJ1ZSwgMC4xLCAwLjEpO1xyXG4gICAgdGhpcy5waHlzaWNzLndvcmxkLnNldEJvdW5kcygwLCAwLCB3b3JsZFdpZHRoLCB3b3JsZEhlaWdodCk7XHJcblxyXG4gICAgLy8gQ29sbGlkZSBwbGF5ZXIgd2l0aCB3YWxsc1xyXG4gICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnBsYXllciwgdGhpcy5ncm91bmRMYXllcik7XHJcblxyXG4gICAgLy8gSW5wdXRcclxuICAgIHRoaXMuY3Vyc29ycyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQ/LmNyZWF0ZUN1cnNvcktleXMoKTtcclxuICAgIHRoaXMud2FzZCA9IHRoaXMuaW5wdXQua2V5Ym9hcmQ/LmFkZEtleXMoe1xyXG4gICAgICBXOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuVyxcclxuICAgICAgQTogUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkEsXHJcbiAgICAgIFM6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5TLFxyXG4gICAgICBEOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRCxcclxuICAgIH0pIGFzIFJlY29yZDxcIldcIiB8IFwiQVwiIHwgXCJTXCIgfCBcIkRcIiwgUGhhc2VyLklucHV0LktleWJvYXJkLktleT4gfCB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLmVudGVyS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZD8uYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FTlRFUik7XHJcblxyXG5cclxuICAgIC8vIE11bHRpcGxheWVyIHNvY2tldCAoa2VwdCBmcm9tIHlvdXIgb3JpZ2luYWwpXHJcbiAgICB0aGlzLmluaXRNdWx0aXBsYXllcigpO1xyXG5cclxuICAgIC8vIEVudmlyb25tZW50IG92ZXJsYXlcclxuICAgIHRoaXMuZW52T3ZlcmxheSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB0aGlzLnNjYWxlLndpZHRoLCB0aGlzLnNjYWxlLmhlaWdodCwgMHhmZmZmZmYsIDAuMDgpLnNldE9yaWdpbigwKS5zZXRTY3JvbGxGYWN0b3IoMCkuc2V0RGVwdGgoOTAwKTtcclxuXHJcbiAgICAvLyBNaW5pbWFwIG92ZXJsYXkgKG5vIGdyaWQgbGluZXMpXHJcbiAgICB0aGlzLmNyZWF0ZU1pbmlNYXAoKTtcclxuXHJcbiAgICAvLyBIVUQgKExldmVsICsgWFApXHJcbiAgICB0aGlzLmNyZWF0ZUhVRCgpO1xyXG5cclxuICAgIC8vIFpvbmUtYXdhcmUgc3Bhd24gbWFuYWdlciB3aXRoIHRyYWluZXIgbGV2ZWxcclxuICAgIGNvbnN0IHRyYWluZXJMZXZlbCA9IHRoaXMuY29uZmlnRGF0YS50cmFpbmVyTGV2ZWwgfHwgMTtcclxuICAgIHRoaXMuc3Bhd25NYW5hZ2VyID0gbmV3IFNwYXduTWFuYWdlcih0aGlzLCB0aWxlU2l6ZSwgbWFwV2lkdGgsIG1hcEhlaWdodCwgdHJhaW5lckxldmVsKTtcclxuICAgIHRoaXMuc3Bhd25NYW5hZ2VyLm9uKFwic3Bhd25lZFwiLCAocmVjOiBhbnkpID0+IHtcclxuICAgICAgdGhpcy5hZGRNaW5pTWFya2VyKHJlYy5rZXksIHJlYy5wb3NpdGlvbi54LCByZWMucG9zaXRpb24ueSk7XHJcbiAgICAgIHRoaXMuc3RhdHVzT25jZShgQSB3aWxkICR7Y2FwaXRhbGl6ZShyZWMubmFtZSl9IGFwcGVhcmVkIG5lYXIgeW91IWAsIDgwMCk7XHJcbiAgICAgIHRoaXMuY29uZmlnRGF0YS5vblBva2Vtb25TcG90dGVkPy4oeyBuYW1lOiByZWMubmFtZSwgc3ByaXRlVXJsOiByZWMuc3ByaXRlVXJsLCBwb2tlSWQ6IHJlYy5wb2tlSWQgfSk7XHJcbiAgICAgIHRoaXMucHVzaFNwYXduc1RvVUkoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5zcGF3bk1hbmFnZXIub24oXCJkZXNwYXduZWRcIiwgKF9rZXk6IHN0cmluZykgPT4ge1xyXG4gICAgICB0aGlzLnJlbW92ZU1pbmlNYXJrZXIoX2tleSk7XHJcbiAgICAgIGlmICh0aGlzLnNwYXduTWFuYWdlciEuZ2V0QWN0aXZlU3Bhd25zKCkubGVuZ3RoID09PSAwKSB0aGlzLmNvbmZpZ0RhdGEub25Qb2tlbW9uQ2xlYXJlZD8uKCk7XHJcbiAgICAgIHRoaXMucHVzaFNwYXduc1RvVUkoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5zcGF3bk1hbmFnZXIub24oXCJzcGF3bkNsaWNrZWRcIiwgYXN5bmMgKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGF3YWl0IHRoaXMuc3RhcnRCYXR0bGVGcm9tS2V5KGtleSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuc3Bhd25NYW5hZ2VyLm9uKFwiem9uZUNoYW5nZWRcIiwgKHo6IGFueSkgPT4ge1xyXG4gICAgICB0aGlzLmhpZ2hsaWdodE1pbmlab25lKCk7XHJcbiAgICAgIGNvbnN0IGN6eCA9ICh6LmNvbCAqIFpPTkVfVElMRVMgKyBaT05FX1RJTEVTIC8gMikgKiB0aWxlU2l6ZTtcclxuICAgICAgY29uc3QgY3p5ID0gKHoucm93ICogWk9ORV9USUxFUyArIFpPTkVfVElMRVMgLyAyKSAqIHRpbGVTaXplO1xyXG4gICAgICBjb25zdCBjYW0gPSB0aGlzLmNhbWVyYXMubWFpbjtcclxuICAgICAgY2FtLnN0b3BGb2xsb3coKTtcclxuICAgICAgY2FtLnBhbihjengsIGN6eSwgMzAwLCBcIlNpbmUuZWFzZUluT3V0XCIsIHRydWUsIChjYW1lcmE6IGFueSwgcHJvZ3Jlc3M6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmIChwcm9ncmVzcyA9PT0gMSkgY2FtLnN0YXJ0Rm9sbG93KHRoaXMucGxheWVyLCB0cnVlLCAwLjEsIDAuMSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICAvLyBhcHBseSBiaW9tZSBlbnZpcm9ubWVudCB0aW50XHJcbiAgICAgIGNvbnN0IHpvbmVzID0gZ2VuZXJhdGVab25lcyhNYXRoLmZsb29yKHRoaXMubWFwV2lkdGhUaWxlcyAvIFpPTkVfVElMRVMpLCBNYXRoLmZsb29yKHRoaXMubWFwSGVpZ2h0VGlsZXMgLyBaT05FX1RJTEVTKSk7XHJcbiAgICAgIGNvbnN0IG1ldGEgPSB6b25lcy5maW5kKChxKSA9PiBxLmlkID09PSBgJHt6LmNvbH0sJHt6LnJvd31gKTtcclxuICAgICAgaWYgKG1ldGEpIHRoaXMuYXBwbHlCaW9tZShtZXRhLmJpb21lIGFzIEJpb21lSWQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmdlbmVyYXRlU3RydWN0dXJlcygpO1xyXG4gICAgdGhpcy5zcGF3bk1hbmFnZXIuc3RhcnQoKTtcclxuXHJcbiAgICAvLyBMb2FkIHRyYWluZXIgZGF0YSBpZiB3YWxsZXQgY29ubmVjdGVkXHJcbiAgICB0aGlzLmluaXRUcmFpbmVyUGVyc2lzdGVuY2UoKTtcclxuXHJcbiAgICAvLyBBdXRvc2F2ZSBldmVyeSB+Mi41IG1pbnV0ZXNcclxuICAgIHRoaXMuYXV0b3NhdmVUaW1lciA9IHRoaXMudGltZS5hZGRFdmVudCh7IGRlbGF5OiAxNTAwMDAsIGxvb3A6IHRydWUsIGNhbGxiYWNrOiAoKSA9PiB0aGlzLmF1dG9zYXZlKFwiaW50ZXJ2YWxcIikgfSk7XHJcblxyXG4gICAgLy8gU2F2ZSBvbiB1bmxvYWRcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBjb25zdCBoYW5kbGVyID0gKCkgPT4geyB0aGlzLmF1dG9zYXZlKFwidW5sb2FkXCIpOyB9O1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgaGFuZGxlcik7XHJcbiAgICAgIHRoaXMuZXZlbnRzLm9uY2UoUGhhc2VyLlNjZW5lcy5FdmVudHMuU0hVVERPV04sICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBoYW5kbGVyKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoKSB7XHJcbiAgICBpZiAoIXRoaXMucGxheWVyIHx8ICF0aGlzLnBsYXllci5ib2R5KSByZXR1cm47XHJcblxyXG4gICAgY29uc3Qgc3BlZWQ6IG51bWJlciA9IHRoaXMucGxheWVyU3BlZWQ7XHJcbiAgICBsZXQgdnggPSAwO1xyXG4gICAgbGV0IHZ5ID0gMDtcclxuXHJcbiAgICAvLyBBcnJvdyBrZXlzXHJcbiAgICBpZiAodGhpcy5jdXJzb3JzPy5sZWZ0Py5pc0Rvd24pIHZ4IC09IDE7XHJcbiAgICBpZiAodGhpcy5jdXJzb3JzPy5yaWdodD8uaXNEb3duKSB2eCArPSAxO1xyXG4gICAgaWYgKHRoaXMuY3Vyc29ycz8udXA/LmlzRG93bikgdnkgLT0gMTtcclxuICAgIGlmICh0aGlzLmN1cnNvcnM/LmRvd24/LmlzRG93bikgdnkgKz0gMTtcclxuXHJcbiAgICAvLyBXQVNEXHJcbiAgICBpZiAodGhpcy53YXNkPy5BPy5pc0Rvd24pIHZ4IC09IDE7XHJcbiAgICBpZiAodGhpcy53YXNkPy5EPy5pc0Rvd24pIHZ4ICs9IDE7XHJcbiAgICBpZiAodGhpcy53YXNkPy5XPy5pc0Rvd24pIHZ5IC09IDE7XHJcbiAgICBpZiAodGhpcy53YXNkPy5TPy5pc0Rvd24pIHZ5ICs9IDE7XHJcblxyXG4gICAgY29uc3QgYm9keSA9IHRoaXMucGxheWVyLmJvZHkgYXMgUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHk7XHJcblxyXG4gICAgaWYgKHZ4ID09PSAwICYmIHZ5ID09PSAwKSB7XHJcbiAgICAgIGJvZHkuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBsZW4gPSBNYXRoLmh5cG90KHZ4LCB2eSkgfHwgMTtcclxuICAgICAgYm9keS5zZXRWZWxvY2l0eSgodnggLyBsZW4pICogc3BlZWQsICh2eSAvIGxlbikgKiBzcGVlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gS2VlcCBVSSArIG1pbmltYXAgcGlubmVkXHJcbiAgICBpZiAodGhpcy5taW5pKSB0aGlzLm1pbmkuc2V0U2Nyb2xsRmFjdG9yKDApO1xyXG5cclxuICAgIC8vIFRocm90dGxlZCBwb3NpdGlvbiBzeW5jIChtdWx0aXBsYXllcilcclxuICAgIGNvbnN0IG5vdyA9IHRoaXMudGltZS5ub3c7XHJcbiAgICBpZiAodGhpcy5zb2NrZXQgJiYgbm93IC0gdGhpcy5sYXN0U2VudCA+IDEwMCkge1xyXG4gICAgICB0aGlzLnNvY2tldC5lbWl0KFwibW92ZVwiLCB7IHg6IHRoaXMucGxheWVyLngsIHk6IHRoaXMucGxheWVyLnkgfSk7XHJcbiAgICAgIHRoaXMubGFzdFNlbnQgPSBub3c7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIHpvbmUgdHJhY2tpbmcgZm9yIHNwYXducy9taW5pbWFwXHJcbiAgICB0aGlzLnNwYXduTWFuYWdlcj8udXBkYXRlUGxheWVyUG9zKHRoaXMucGxheWVyLngsIHRoaXMucGxheWVyLnkpO1xyXG5cclxuICAgIC8vIEJhdHRsZSB3aGVuIG5lYXIgYW5kIEVudGVyIHByZXNzZWQgKGNvbXBhdClcclxuICAgIGlmICh0aGlzLmVudGVyS2V5ICYmIFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bih0aGlzLmVudGVyS2V5KSkge1xyXG4gICAgICBjb25zdCBuZWFyZXN0ID0gdGhpcy5nZXROZWFyZXN0QWN0aXZlKDY0KTtcclxuICAgICAgaWYgKG5lYXJlc3QpIHRoaXMuc3RhcnRCYXR0bGVGcm9tS2V5KG5lYXJlc3Qua2V5KTtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICAvLyAtLS0tIFVJIGhlbHBlcnMgLS0tLVxyXG5cclxuICBwcml2YXRlIHN0YXR1c09uY2UoX3RleHQ6IHN0cmluZywgY29vbGRvd25NcyA9IDgwMCkge1xyXG4gICAgY29uc3Qgbm93ID0gdGhpcy50aW1lLm5vdztcclxuICAgIGlmIChub3cgLSB0aGlzLmxhc3RTdGF0dXNBdCA8IGNvb2xkb3duTXMpIHJldHVybjtcclxuICAgIHRoaXMubGFzdFN0YXR1c0F0ID0gbm93O1xyXG4gICAgLy8gUmVhY3Qgc2lkZWJhciBub3cgaGFuZGxlcyBtZXNzYWdpbmdcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlSFVEKCkge1xyXG4gICAgY29uc3QgdyA9IDIyMDsgY29uc3QgaCA9IDE0O1xyXG4gICAgLy8gUGxhY2UgSFVEIGJlbG93IG1pbmltYXAgdG8gYXZvaWQgb3ZlcmxhcFxyXG4gICAgY29uc3QgeSA9ICh0aGlzLm1pbmlIIHx8IDE2MCkgKyAyMDtcclxuICAgIHRoaXMuaHVkID0gdGhpcy5hZGQuY29udGFpbmVyKDEyLCB5KS5zZXRTY3JvbGxGYWN0b3IoMCkuc2V0RGVwdGgoMjAwMCk7XHJcbiAgICBjb25zdCBiZyA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3LCBoICsgMTYsIDB4MDAwMDAwLCAwLjUpLnNldE9yaWdpbigwKTtcclxuICAgIHRoaXMuaHVkQmFyQmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTAsIDgsIHcgLSAyMCwgaCwgMHgzMzMzMzMsIDEpLnNldE9yaWdpbigwKTtcclxuICAgIHRoaXMuaHVkQmFyRmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTAsIDgsIDAsIGgsIDB4MmVjYzcxLCAxKS5zZXRPcmlnaW4oMCk7XHJcbiAgICB0aGlzLmh1ZFRleHQgPSB0aGlzLmFkZC50ZXh0KDEyLCAtOCwgJ0x2LjEgMC8xMDAgWFAnLCB7IGZvbnRTaXplOiAnMTJweCcsIGNvbG9yOiAnI2ZmZicgfSk7XHJcbiAgICB0aGlzLmh1ZC5hZGQoW2JnLCB0aGlzLmh1ZEJhckJnLCB0aGlzLmh1ZEJhckZnLCB0aGlzLmh1ZFRleHQhXSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVwZGF0ZUhVRChsZXZlbDogbnVtYmVyLCBjdXJyZW50WFA6IG51bWJlciwgbmV4dExldmVsWFA6IG51bWJlcikge1xyXG4gICAgY29uc3QgdyA9ICh0aGlzLmh1ZEJhckJnPy53aWR0aCB8fCAyMDApO1xyXG4gICAgY29uc3QgcGN0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgKG5leHRMZXZlbFhQID8gY3VycmVudFhQIC8gbmV4dExldmVsWFAgOiAwKSkpO1xyXG4gICAgaWYgKHRoaXMuaHVkQmFyRmcpIHRoaXMuaHVkQmFyRmcud2lkdGggPSBNYXRoLmZsb29yKHcgKiBwY3QpO1xyXG4gICAgaWYgKHRoaXMuaHVkVGV4dCkgdGhpcy5odWRUZXh0LnNldFRleHQoYEx2LiR7bGV2ZWx9ICR7Y3VycmVudFhQfS8ke25leHRMZXZlbFhQfSBYUGApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBpbml0VHJhaW5lclBlcnNpc3RlbmNlKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgd2FsbGV0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWxnb3JhbmRfd2FsbGV0X2FkZHJlc3MnKSA6IG51bGw7XHJcbiAgICAgIGlmICghd2FsbGV0KSByZXR1cm47XHJcbiAgICAgIGNvbnN0IHsgbG9hZFRyYWluZXIsIGF1dG9zYXZlVHJhaW5lciB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi9zcmMvc2VydmljZXMvdHJhaW5lcicpO1xyXG4gICAgICBjb25zdCB7IGZsdXNoUXVldWUgfSA9IGF3YWl0IGltcG9ydCgnLi4vLi4vc3JjL3NlcnZpY2VzL3NhdmVRdWV1ZScpO1xyXG4gICAgICAvLyB0cnkgdG8gZmx1c2ggYW55IHF1ZXVlZCBzYXZlcyBmaXJzdFxyXG4gICAgICB0cnkgeyBhd2FpdCBmbHVzaFF1ZXVlKCk7IH0gY2F0Y2gge31cclxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgbG9hZFRyYWluZXIod2FsbGV0KS5jYXRjaCgoKSA9PiBudWxsKTtcclxuICAgICAgaWYgKHJlcz8udHJhaW5lcikge1xyXG4gICAgICAgIGNvbnN0IHQgPSByZXMudHJhaW5lcjtcclxuICAgICAgICBpZiAodD8ubG9jYXRpb24pIHtcclxuICAgICAgICAgIHRoaXMucGxheWVyLnNldFBvc2l0aW9uKHQubG9jYXRpb24ueCB8fCB0aGlzLnBsYXllci54LCB0LmxvY2F0aW9uLnkgfHwgdGhpcy5wbGF5ZXIueSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgdC5sZXZlbCA9PT0gJ251bWJlcicpIHRoaXMuY29uZmlnRGF0YS50cmFpbmVyTGV2ZWwgPSB0LmxldmVsO1xyXG4gICAgICAgIHRoaXMudXBkYXRlSFVEKHQubGV2ZWwgfHwgMSwgdC5jdXJyZW50WFAgfHwgMCwgdC5uZXh0TGV2ZWxYUCB8fCAxMDApO1xyXG4gICAgICAgIHRoaXMuc2hvd1NhdmVkVG9hc3QoJ1RyYWluZXIgZGF0YSBsb2FkZWQgc3VjY2Vzc2Z1bGx5IScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGNyZWF0ZSBpbml0aWFsIHNuYXBzaG90XHJcbiAgICAgICAgYXdhaXQgYXV0b3NhdmVUcmFpbmVyKHsgd2FsbGV0QWRkcmVzczogd2FsbGV0LCBsZXZlbDogMSwgeHA6IDAsIGxvY2F0aW9uOiB7IHg6IHRoaXMucGxheWVyLngsIHk6IHRoaXMucGxheWVyLnksIGJpb21lOiAnZ3Jhc3NsYW5kJyB9IH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIHt9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIGF1dG9zYXZlKHJlYXNvbjogc3RyaW5nKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB3YWxsZXQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhbGdvcmFuZF93YWxsZXRfYWRkcmVzcycpIDogbnVsbDtcclxuICAgICAgaWYgKCF3YWxsZXQpIHJldHVybjtcclxuICAgICAgY29uc3QgeyBhdXRvc2F2ZVRyYWluZXIgfSA9IGF3YWl0IGltcG9ydCgnLi4vLi4vc3JjL3NlcnZpY2VzL3RyYWluZXInKTtcclxuICAgICAgY29uc3QgeHAgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0cmFpbmVyX2V4cCcpIHx8ICcwJywgMTApIDogMDtcclxuICAgICAgYXdhaXQgYXV0b3NhdmVUcmFpbmVyKHsgd2FsbGV0QWRkcmVzczogd2FsbGV0LCB4cCwgbGV2ZWw6IHRoaXMuY29uZmlnRGF0YS50cmFpbmVyTGV2ZWwgfHwgMSwgbG9jYXRpb246IHsgeDogdGhpcy5wbGF5ZXIueCwgeTogdGhpcy5wbGF5ZXIueSB9IH0pO1xyXG4gICAgICB0aGlzLnNob3dTYXZlZFRvYXN0KCdQcm9ncmVzcyBTYXZlZCcpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAvLyBlbnF1ZXVlIG9mZmxpbmUgc2F2ZVxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGJhc2UgPSAocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMCcpICsgJy9hcGkvYXV0b3NhdmUnO1xyXG4gICAgICAgIGNvbnN0IHsgZW5xdWV1ZVNhdmUgfSA9IGF3YWl0IGltcG9ydCgnLi4vLi4vc3JjL3NlcnZpY2VzL3NhdmVRdWV1ZScpO1xyXG4gICAgICAgIGNvbnN0IHdhbGxldCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FsZ29yYW5kX3dhbGxldF9hZGRyZXNzJykgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgYXdhaXQgZW5xdWV1ZVNhdmUoeyB1cmw6IGJhc2UsIG1ldGhvZDogJ1BPU1QnLCBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsIC4uLih3YWxsZXQgPyB7ICd4LXdhbGxldC1hZGRyZXNzJzogd2FsbGV0IH0gOiB7fSkgfSwgYm9keTogeyB3YWxsZXRBZGRyZXNzOiB3YWxsZXQsIGxldmVsOiB0aGlzLmNvbmZpZ0RhdGEudHJhaW5lckxldmVsIHx8IDEsIGxvY2F0aW9uOiB7IHg6IHRoaXMucGxheWVyLngsIHk6IHRoaXMucGxheWVyLnkgfSB9IH0pO1xyXG4gICAgICB9IGNhdGNoIHt9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNob3dTYXZlZFRvYXN0KHRleHQ6IHN0cmluZykge1xyXG4gICAgaWYgKHRoaXMudG9hc3QpIHsgdGhpcy50b2FzdC5kZXN0cm95KCk7IHRoaXMudG9hc3QgPSB1bmRlZmluZWQ7IH1cclxuICAgIGNvbnN0IHQgPSB0aGlzLmFkZC50ZXh0KDEyLCB0aGlzLnNjYWxlLmhlaWdodCAtIDI4LCBg8J+SviAke3RleHR9YCwgeyBmb250U2l6ZTogJzE0cHgnLCBjb2xvcjogJyMwZjAnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwJywgcGFkZGluZzogeyB4OiA4LCB5OiA0IH0gfSlcclxuICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAuc2V0RGVwdGgoMjAwMCk7XHJcbiAgICB0aGlzLnRvYXN0ID0gdDtcclxuICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgxNjAwLCAoKSA9PiB7IGlmICh0LnNjZW5lKSB0LmRlc3Ryb3koKTsgaWYgKHRoaXMudG9hc3QgPT09IHQpIHRoaXMudG9hc3QgPSB1bmRlZmluZWQ7IH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tLSBNdWx0aXBsYXllciAoa2VwdCkgLS0tLVxyXG4gIHByaXZhdGUgaW5pdE11bHRpcGxheWVyKCkge1xyXG4gICAgaWYgKHRoaXMuc29ja2V0KSByZXR1cm47IC8vIGFscmVhZHkgY29ubmVjdGVkXHJcblxyXG4gICAgY29uc3Qgc29ja2V0ID0gaW8oXCJodHRwOi8vbG9jYWxob3N0OjQwMDBcIiwge1xyXG4gICAgICB0cmFuc3BvcnRzOiBbXCJ3ZWJzb2NrZXRcIl0sXHJcbiAgICAgIGF1dG9Db25uZWN0OiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgICB0aGlzLnNvY2tldCA9IHNvY2tldDtcclxuXHJcbiAgICBzb2NrZXQub24oXCJjb25uZWN0XCIsICgpID0+IHtcclxuICAgICAgdGhpcy5teUlkID0gc29ja2V0LmlkO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc29ja2V0Lm9uKFxyXG4gICAgICBcImluaXRTdGF0ZVwiLFxyXG4gICAgICAocGF5bG9hZDogeyBwbGF5ZXJzOiBSZWNvcmQ8c3RyaW5nLCB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0+IH0pID0+IHtcclxuICAgICAgICBPYmplY3QuZW50cmllcyhwYXlsb2FkLnBsYXllcnMpLmZvckVhY2goKFtpZCwgcG9zXSkgPT4ge1xyXG4gICAgICAgICAgaWYgKGlkID09PSB0aGlzLm15SWQpIHJldHVybjtcclxuICAgICAgICAgIHRoaXMuc3Bhd25PdGhlcihpZCwgcG9zLngsIHBvcy55KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgICk7XHJcblxyXG4gICAgc29ja2V0Lm9uKFxyXG4gICAgICBcInBsYXllckpvaW5lZFwiLFxyXG4gICAgICAoeyBpZCwgeCwgeSB9OiB7IGlkOiBzdHJpbmc7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0pID0+IHtcclxuICAgICAgICBpZiAoaWQgPT09IHRoaXMubXlJZCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuc3Bhd25PdGhlcihpZCwgeCwgeSk7XHJcbiAgICAgIH0sXHJcbiAgICApO1xyXG5cclxuICAgIHNvY2tldC5vbihcclxuICAgICAgXCJwbGF5ZXJNb3ZlZFwiLFxyXG4gICAgICAoeyBpZCwgeCwgeSB9OiB7IGlkOiBzdHJpbmc7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0pID0+IHtcclxuICAgICAgICBjb25zdCBzcHJpdGUgPSB0aGlzLm90aGVycy5nZXQoaWQpO1xyXG4gICAgICAgIGlmIChzcHJpdGUpIHtcclxuICAgICAgICAgIHNwcml0ZS54ID0geDtcclxuICAgICAgICAgIHNwcml0ZS55ID0geTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICApO1xyXG5cclxuICAgIHNvY2tldC5vbihcInBsYXllckxlZnRcIiwgKHsgaWQgfTogeyBpZDogc3RyaW5nIH0pID0+IHtcclxuICAgICAgY29uc3Qgc3ByaXRlID0gdGhpcy5vdGhlcnMuZ2V0KGlkKTtcclxuICAgICAgaWYgKHNwcml0ZSkge1xyXG4gICAgICAgIHNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5vdGhlcnMuZGVsZXRlKGlkKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5ldmVudHMub25jZShQaGFzZXIuU2NlbmVzLkV2ZW50cy5TSFVURE9XTiwgKCkgPT4ge1xyXG4gICAgICBzb2NrZXQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XHJcbiAgICAgIHNvY2tldC5kaXNjb25uZWN0KCk7XHJcbiAgICAgIHRoaXMuc29ja2V0ID0gdW5kZWZpbmVkO1xyXG4gICAgICB0aGlzLm15SWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgIHRoaXMub3RoZXJzLmZvckVhY2goKHMpID0+IHMuZGVzdHJveSgpKTtcclxuICAgICAgdGhpcy5vdGhlcnMuY2xlYXIoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzcGF3bk90aGVyKGlkOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBzID0gdGhpcy5hZGQuc3ByaXRlKHgsIHksIFwicGxheWVyXCIpLnNldFRpbnQoMHgxMThhYjIpO1xyXG4gICAgcy5zZXREZXB0aCg1KTtcclxuICAgIHRoaXMub3RoZXJzLnNldChpZCwgcyk7XHJcbiAgfVxyXG5cclxuICAvLyAtLS0tIE1pbmltYXAgLS0tLVxyXG4gIHByaXZhdGUgY3JlYXRlTWluaU1hcCgpIHtcclxuICAgIC8vIFBsYWNlIHRvcC1sZWZ0IGluc2lkZSBnYW1lcGxheSBhcmVhIChhd2F5IGZyb20gcmlnaHQgc2lkZWJhcilcclxuICAgIGNvbnN0IGJhc2VYID0gMTI7XHJcbiAgICBjb25zdCBiYXNlWSA9IDEyO1xyXG4gICAgdGhpcy5taW5pID0gdGhpcy5hZGQuY29udGFpbmVyKGJhc2VYLCBiYXNlWSkuc2V0RGVwdGgoMTAwMCk7XHJcbiAgICB0aGlzLm1pbmkuc2V0U2Nyb2xsRmFjdG9yKDApO1xyXG5cclxuICAgIGNvbnN0IGJnID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHRoaXMubWluaVcsIHRoaXMubWluaUgsIDB4MTExMTExLCAwLjYpLnNldE9yaWdpbigwKTtcclxuICAgIHRoaXMubWluaUdmeCA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XHJcbiAgICB0aGlzLm1pbmlNYXJrZXJzID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApO1xyXG4gICAgdGhpcy5taW5pQnVpbGRpbmdzID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApO1xyXG4gICAgdGhpcy5taW5pSGlnaGxpZ2h0ID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcclxuXHJcbiAgICAvLyBubyBncmlkIGxpbmVzIHRvIGtlZXAgem9uZXMgaW52aXNpYmxlXHJcbiAgICBjb25zdCBjb2xzID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcih0aGlzLm1hcFdpZHRoVGlsZXMgLyBaT05FX1RJTEVTKSk7XHJcbiAgICBjb25zdCByb3dzID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcih0aGlzLm1hcEhlaWdodFRpbGVzIC8gWk9ORV9USUxFUykpO1xyXG4gICAgdGhpcy5taW5pR2Z4LmNsZWFyKCk7XHJcbiAgICB0aGlzLm1pbmlHZngubGluZVN0eWxlKDEsIDB4MzMzMzMzLCAwLjgpO1xyXG4gICAgdGhpcy5taW5pR2Z4LnN0cm9rZVJlY3QoMCwgMCwgdGhpcy5taW5pVywgdGhpcy5taW5pSCk7XHJcblxyXG4gICAgLy8gY2xpY2thYmxlIHpvbmVcclxuICAgIGNvbnN0IGhpdCA9IHRoaXMuYWRkLnpvbmUoMCwgMCwgdGhpcy5taW5pVywgdGhpcy5taW5pSCkuc2V0T3JpZ2luKDApLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgIGhpdC5vbigncG9pbnRlcmRvd24nLCAoX3BvaW50ZXI6IGFueSwgbG9jYWxYOiBudW1iZXIsIGxvY2FsWTogbnVtYmVyKSA9PiB7XHJcbiAgICAgIGNvbnN0IHpjID0gTWF0aC5mbG9vcihsb2NhbFggLyAodGhpcy5taW5pVyAvIGNvbHMpKTtcclxuICAgICAgY29uc3QgenIgPSBNYXRoLmZsb29yKGxvY2FsWSAvICh0aGlzLm1pbmlIIC8gcm93cykpO1xyXG4gICAgICBjb25zdCBjeCA9ICh6YyAqIFpPTkVfVElMRVMgKyBaT05FX1RJTEVTIC8gMikgKiB0aGlzLnRpbGVTaXplUHg7XHJcbiAgICAgIGNvbnN0IGN5ID0gKHpyICogWk9ORV9USUxFUyArIFpPTkVfVElMRVMgLyAyKSAqIHRoaXMudGlsZVNpemVQeDtcclxuICAgICAgY29uc3QgY2FtID0gdGhpcy5jYW1lcmFzLm1haW47XHJcbiAgICAgIGNhbS5zdG9wRm9sbG93KCk7XHJcbiAgICAgIGNhbS5wYW4oY3gsIGN5LCAzMDAsICdTaW5lLmVhc2VJbk91dCcsIHRydWUsIChjYW1lcmE6IGFueSwgcHJvZ3Jlc3M6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmIChwcm9ncmVzcyA9PT0gMSkgY2FtLnN0YXJ0Rm9sbG93KHRoaXMucGxheWVyLCB0cnVlLCAwLjEsIDAuMSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5taW5pLmFkZChbYmcsIHRoaXMubWluaUdmeCwgdGhpcy5taW5pSGlnaGxpZ2h0LCB0aGlzLm1pbmlCdWlsZGluZ3MsIHRoaXMubWluaU1hcmtlcnMsIGhpdF0pO1xyXG4gICAgdGhpcy5oaWdobGlnaHRNaW5pWm9uZSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoaWdobGlnaHRNaW5pWm9uZSgpIHtcclxuICAgIGlmICghdGhpcy5taW5pSGlnaGxpZ2h0KSByZXR1cm47XHJcbiAgICBjb25zdCBncmlkID0gdGhpcy5zcGF3bk1hbmFnZXI/LmdldFpvbmVHcmlkKCk7XHJcbiAgICBjb25zdCBjb2xzID0gZ3JpZD8uY29scyA/PyBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHRoaXMubWFwV2lkdGhUaWxlcyAvIFpPTkVfVElMRVMpKTtcclxuICAgIGNvbnN0IHJvd3MgPSBncmlkPy5yb3dzID8/IE1hdGgubWF4KDEsIE1hdGguZmxvb3IodGhpcy5tYXBIZWlnaHRUaWxlcyAvIFpPTkVfVElMRVMpKTtcclxuICAgIGNvbnN0IGN1ciA9IHRoaXMuc3Bhd25NYW5hZ2VyPy5nZXRDdXJyZW50Wm9uZSgpO1xyXG4gICAgaWYgKCFjdXIpIHJldHVybjtcclxuICAgIGNvbnN0IGN3ID0gdGhpcy5taW5pVyAvIGNvbHM7XHJcbiAgICBjb25zdCBjaCA9IHRoaXMubWluaUggLyByb3dzO1xyXG4gICAgdGhpcy5taW5pSGlnaGxpZ2h0LmNsZWFyKCk7XHJcbiAgICB0aGlzLm1pbmlIaWdobGlnaHQubGluZVN0eWxlKDIsIDB4ZmZmZjY2LCAxKTtcclxuICAgIHRoaXMubWluaUhpZ2hsaWdodC5zdHJva2VSZWN0KGN1ci5jb2wgKiBjdywgY3VyLnJvdyAqIGNoLCBjdywgY2gpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB3b3JsZFRvTWluaSh4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgY29uc3Qgc3ggPSB0aGlzLm1pbmlXIC8gKHRoaXMubWFwV2lkdGhUaWxlcyAqIHRoaXMudGlsZVNpemVQeCk7XHJcbiAgICBjb25zdCBzeSA9IHRoaXMubWluaUggLyAodGhpcy5tYXBIZWlnaHRUaWxlcyAqIHRoaXMudGlsZVNpemVQeCk7XHJcbiAgICByZXR1cm4geyB4OiB4ICogc3gsIHk6IHkgKiBzeSB9O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGRNaW5pTWFya2VyKGtleTogc3RyaW5nLCB3eDogbnVtYmVyLCB3eTogbnVtYmVyKSB7XHJcbiAgICBpZiAoIXRoaXMubWluaU1hcmtlcnMpIHJldHVybjtcclxuICAgIGNvbnN0IHB0ID0gdGhpcy53b3JsZFRvTWluaSh3eCwgd3kpO1xyXG4gICAgY29uc3QgZG90ID0gdGhpcy5hZGQucmVjdGFuZ2xlKHB0LngsIHB0LnksIDQsIDQsIDB4ZmZmZmZmLCAxKS5zZXRPcmlnaW4oMC41KTtcclxuICAgIChkb3QgYXMgYW55KS5uYW1lID0ga2V5O1xyXG4gICAgdGhpcy5taW5pTWFya2Vycy5hZGQoZG90KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVtb3ZlTWluaU1hcmtlcihrZXk6IHN0cmluZykge1xyXG4gICAgaWYgKCF0aGlzLm1pbmlNYXJrZXJzKSByZXR1cm47XHJcbiAgICBjb25zdCBsaXN0ID0gKHRoaXMubWluaU1hcmtlcnMgYXMgYW55KS5saXN0IGFzIFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0W107XHJcbiAgICBjb25zdCBmb3VuZCA9IGxpc3QuZmluZCgoY2g6IGFueSkgPT4gY2gubmFtZSA9PT0ga2V5KTtcclxuICAgIGlmIChmb3VuZCkgZm91bmQuZGVzdHJveSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXROZWFyZXN0QWN0aXZlKHJhZGl1czogbnVtYmVyKTogYW55IHwgbnVsbCB7XHJcbiAgICBpZiAoIXRoaXMuc3Bhd25NYW5hZ2VyKSByZXR1cm4gbnVsbDtcclxuICAgIGxldCBiZXN0OiBhbnkgPSBudWxsO1xyXG4gICAgbGV0IGJlc3REID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xyXG4gICAgdGhpcy5zcGF3bk1hbmFnZXIuZ2V0QWN0aXZlU3Bhd25zKCkuZm9yRWFjaCgocmVjOiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgZCA9IFBoYXNlci5NYXRoLkRpc3RhbmNlLkJldHdlZW4odGhpcy5wbGF5ZXIueCwgdGhpcy5wbGF5ZXIueSwgcmVjLnBvc2l0aW9uLngsIHJlYy5wb3NpdGlvbi55KTtcclxuICAgICAgaWYgKGQgPCByYWRpdXMgJiYgZCA8IGJlc3REKSB7IGJlc3REID0gZDsgYmVzdCA9IHJlYzsgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gYmVzdDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgc3RhcnRCYXR0bGVGcm9tS2V5KGtleTogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXRoaXMuc3Bhd25NYW5hZ2VyKSByZXR1cm47XHJcbiAgICBjb25zdCByZWMgPSB0aGlzLnNwYXduTWFuYWdlci5nZXRBY3RpdmVTcGF3bnMoKS5maW5kKHIgPT4gci5rZXkgPT09IGtleSk7XHJcbiAgICBpZiAoIXJlYykgcmV0dXJuO1xyXG4gICAgaWYgKCF0aGlzLmNvbmZpZ0RhdGEucGxheWVyUG9rZW1vbikge1xyXG4gICAgICB0aGlzLnN0YXR1c09uY2UoJ1lvdSBuZWVkIGEgUG9rw6ltb24gdG8gYmF0dGxlIScsIDgwMCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHBva2VSZXMgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9wb2tlYXBpLmNvL2FwaS92Mi9wb2tlbW9uLyR7cmVjLnBva2VJZH1gKTtcclxuICAgICAgY29uc3QgcG9rZURhdGEgPSBhd2FpdCBwb2tlUmVzLmpzb24oKTtcclxuICAgICAgdGhpcy5zcGF3bk1hbmFnZXIuZGVzcGF3bihrZXkpO1xyXG4gICAgICBcclxuICAgICAgLy8gVHJhbnNmb3JtIHBsYXllciBQb2tlbW9uIHRvIG1hdGNoIEJhdHRsZVNjZW5lIGV4cGVjdGVkIGZvcm1hdFxyXG4gICAgICBjb25zdCBwbGF5ZXJQb2tlID0gdGhpcy5jb25maWdEYXRhLnBsYXllclBva2Vtb247XHJcbiAgICAgIGNvbnN0IGhwU3RhdCA9IHBsYXllclBva2UuZGF0YT8uc3RhdHM/LmZpbmQoKHM6IGFueSkgPT4gcy5zdGF0Lm5hbWUgPT09ICdocCcpPy5iYXNlX3N0YXQgfHwgNTA7XHJcbiAgICAgIGNvbnN0IG1heEhwID0gTWF0aC5mbG9vcihocFN0YXQgKiAxLjUgKiAocGxheWVyUG9rZS5sZXZlbCB8fCAxKSk7XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdCYXR0bGVTY2VuZScsIHtcclxuICAgICAgICB3aWxkUG9rZW1vbjoge1xyXG4gICAgICAgICAgbmFtZTogcmVjLm5hbWUsXHJcbiAgICAgICAgICBwb2tlSWQ6IHJlYy5wb2tlSWQsXHJcbiAgICAgICAgICBkYXRhOiBwb2tlRGF0YSxcclxuICAgICAgICAgIHNwcml0ZVVybDogcmVjLnNwcml0ZVVybCxcclxuICAgICAgICAgIGxldmVsOiByZWMubGV2ZWwsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwbGF5ZXJQb2tlbW9uOiB7XHJcbiAgICAgICAgICBuYW1lOiBwbGF5ZXJQb2tlLm5hbWUgfHwgcGxheWVyUG9rZS5kaXNwbGF5TmFtZSxcclxuICAgICAgICAgIHBva2VJZDogcGxheWVyUG9rZS5pZCxcclxuICAgICAgICAgIGRhdGE6IHBsYXllclBva2UuZGF0YSxcclxuICAgICAgICAgIHNwcml0ZVVybDogcGxheWVyUG9rZS5zcHJpdGUsXHJcbiAgICAgICAgICBsZXZlbDogcGxheWVyUG9rZS5sZXZlbCB8fCAxLFxyXG4gICAgICAgICAgbWF4SHA6IG1heEhwLFxyXG4gICAgICAgICAgY3VycmVudEhwOiBtYXhIcCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRyYWluZXJMZXZlbDogdGhpcy5jb25maWdEYXRhLnRyYWluZXJMZXZlbCB8fCAxLFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2gge31cclxuICB9XHJcblxyXG4gIC8vIC0tLS0gU3RydWN0dXJlcyAtLS0tXHJcbiAgcHJpdmF0ZSBnZW5lcmF0ZVN0cnVjdHVyZXMoKSB7XHJcbiAgICBjb25zdCBjb2xzID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcih0aGlzLm1hcFdpZHRoVGlsZXMgLyBaT05FX1RJTEVTKSk7XHJcbiAgICBjb25zdCByb3dzID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcih0aGlzLm1hcEhlaWdodFRpbGVzIC8gWk9ORV9USUxFUykpO1xyXG4gICAgY29uc3Qgem9uZXMgPSBnZW5lcmF0ZVpvbmVzKGNvbHMsIHJvd3MpO1xyXG4gICAgY29uc3QgY2hvb3NlID0gPFQsPihhcnI6IFRbXSkgPT4gYXJyW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFyci5sZW5ndGgpXTtcclxuICAgIGNvbnN0IGJ5QmlvbWU6IFJlY29yZDxzdHJpbmcsIFN0cnVjdHVyZVR5cGVbXT4gPSB7XHJcbiAgICAgIGNpdHk6IFtcImxhYlwiLCBcImhvdXNlXCJdLFxyXG4gICAgICBtb3VudGFpbjogW1widGVtcGxlXCIsIFwiaG91c2VcIl0sXHJcbiAgICAgIGZvcmVzdDogW1wiaG91c2VcIiwgXCJ0b3dlclwiXSxcclxuICAgICAgZGVzZXJ0OiBbXCJ0ZW1wbGVcIl0sXHJcbiAgICAgIGxha2U6IFtcInRvd2VyXCJdLFxyXG4gICAgICBncmFzc2xhbmQ6IFtcImhvdXNlXCJdLFxyXG4gICAgICBjYXZlOiBbXCJ0b3dlclwiXSxcclxuICAgICAgc25vd2ZpZWxkOiBbXCJob3VzZVwiLCBcInRlbXBsZVwiXSxcclxuICAgIH0gYXMgYW55O1xyXG5cclxuICAgIHRoaXMuc3RydWN0dXJlcyA9IFtdO1xyXG4gICAgem9uZXMuZm9yRWFjaCgoeikgPT4ge1xyXG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuMTIpIHJldHVybjsgLy8gfjEyJSBvZiB6b25lcyBoYXZlIGEgYnVpbGRpbmdcclxuICAgICAgY29uc3QgdHlwZXMgPSBieUJpb21lW3ouYmlvbWVdIHx8IFtcImhvdXNlXCJdO1xyXG4gICAgICBjb25zdCB0eXBlID0gY2hvb3NlKHR5cGVzKTtcclxuICAgICAgY29uc3Qgc3RhcnRYID0gei5jb2wgKiBaT05FX1RJTEVTICogdGhpcy50aWxlU2l6ZVB4O1xyXG4gICAgICBjb25zdCBzdGFydFkgPSB6LnJvdyAqIFpPTkVfVElMRVMgKiB0aGlzLnRpbGVTaXplUHg7XHJcbiAgICAgIGNvbnN0IHggPSBzdGFydFggKyAxNiArIE1hdGgucmFuZG9tKCkgKiAoWk9ORV9USUxFUyAqIHRoaXMudGlsZVNpemVQeCAtIDMyKTtcclxuICAgICAgY29uc3QgeSA9IHN0YXJ0WSArIDE2ICsgTWF0aC5yYW5kb20oKSAqIChaT05FX1RJTEVTICogdGhpcy50aWxlU2l6ZVB4IC0gMzIpO1xyXG4gICAgICBjb25zdCBpZCA9IGBiLSR7ei5pZH0tJHt0eXBlfS0ke01hdGguZmxvb3IoeCl9LSR7TWF0aC5mbG9vcih5KX1gO1xyXG4gICAgICB0aGlzLnN0cnVjdHVyZXMucHVzaCh7IGlkLCB0eXBlLCBjb2w6IHouY29sLCByb3c6IHoucm93LCB4LCB5IH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gcmVuZGVyXHJcbiAgICB0aGlzLnN0cnVjdHVyZXMuZm9yRWFjaCgocykgPT4ge1xyXG4gICAgICBjb25zdCBjb2xvciA9IHMudHlwZSA9PT0gXCJsYWJcIiA/IDB4Y2ZlM2ZmIDogcy50eXBlID09PSBcInRvd2VyXCIgPyAweDZiNGU5YiA6IHMudHlwZSA9PT0gXCJ0ZW1wbGVcIiA/IDB4YzJiMjgwIDogMHhkM2QzZDM7XHJcbiAgICAgIGNvbnN0IGJ1aWxkaW5nID0gdGhpcy5hZGQucmVjdGFuZ2xlKHMueCwgcy55LCAzMiwgMjQsIGNvbG9yLCAxKS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgxNSk7XHJcbiAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcoYnVpbGRpbmcsIHRydWUpO1xyXG4gICAgICBjb25zdCBkb29yID0gdGhpcy5hZGQucmVjdGFuZ2xlKHMueCwgcy55ICsgMTIsIDEwLCA2LCAweDAwMDAwMCwgMC44KS5zZXREZXB0aCgxNik7XHJcbiAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcoZG9vciwgdHJ1ZSk7XHJcbiAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllciwgZG9vciwgKCkgPT4gdGhpcy5lbnRlclN0cnVjdHVyZShzKSk7XHJcbiAgICAgIC8vIG1pbmltYXAgbWFya2VyXHJcbiAgICAgIGlmICh0aGlzLm1pbmlCdWlsZGluZ3MpIHtcclxuICAgICAgICBjb25zdCBwdCA9IHRoaXMud29ybGRUb01pbmkocy54LCBzLnkpO1xyXG4gICAgICAgIGNvbnN0IHNxID0gdGhpcy5hZGQucmVjdGFuZ2xlKHB0LngsIHB0LnksIDUsIDUsIDB4ZmZlMDY2LCAxKS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLm1pbmlCdWlsZGluZ3MuYWRkKHNxKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGVudGVyU3RydWN0dXJlKHM6IFN0cnVjdHVyZURlZikge1xyXG4gICAgaWYgKHRoaXMuaW5zaWRlU3RydWN0dXJlLmFjdGl2ZSkgcmV0dXJuO1xyXG4gICAgdGhpcy5pbnNpZGVTdHJ1Y3R1cmUgPSB7IGFjdGl2ZTogdHJ1ZSwgdHlwZTogcy50eXBlIH0gYXMgYW55O1xyXG4gICAgLy8gb3ZlcnJpZGUgc3Bhd24gcG9vbCBiYXNlZCBvbiBzdHJ1Y3R1cmUgLT4gdXNlIEJJT01FUyBtYXBwaW5nXHJcbiAgICBjb25zdCBiID0gcy50eXBlID09PSBcInRvd2VyXCIgPyBCSU9NRVMudG93ZXIgOiBzLnR5cGUgPT09IFwibGFiXCIgPyBCSU9NRVMubGFiIDogQklPTUVTLnRlbXBsZTtcclxuICAgIHRoaXMuYXBwbHlCaW9tZShiLmlkKTtcclxuICAgIHRoaXMuc3Bhd25NYW5hZ2VyPy5zZXRPdmVycmlkZVR5cGVzKGIucG9rZW1vblBvb2wpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBleGl0U3RydWN0dXJlKCkge1xyXG4gICAgaWYgKCF0aGlzLmluc2lkZVN0cnVjdHVyZS5hY3RpdmUpIHJldHVybjtcclxuICAgIHRoaXMuaW5zaWRlU3RydWN0dXJlID0geyBhY3RpdmU6IGZhbHNlLCB0eXBlOiBudWxsIH0gYXMgYW55O1xyXG4gICAgLy8gY2xlYXIgb3ZlcnJpZGUgYW5kIHJlLWFwcGx5IHpvbmUgYmlvbWUgY29sb3JcclxuICAgIHRoaXMuc3Bhd25NYW5hZ2VyPy5zZXRPdmVycmlkZVR5cGVzKG51bGwpO1xyXG4gICAgY29uc3QgY3VyID0gdGhpcy5zcGF3bk1hbmFnZXI/LmdldEN1cnJlbnRab25lKCk7XHJcbiAgICBpZiAoY3VyKSB7XHJcbiAgICAgIGNvbnN0IHpvbmVzID0gZ2VuZXJhdGVab25lcyhNYXRoLmZsb29yKHRoaXMubWFwV2lkdGhUaWxlcyAvIFpPTkVfVElMRVMpLCBNYXRoLmZsb29yKHRoaXMubWFwSGVpZ2h0VGlsZXMgLyBaT05FX1RJTEVTKSk7XHJcbiAgICAgIGNvbnN0IG1ldGEgPSB6b25lcy5maW5kKChxKSA9PiBxLmlkID09PSBgJHtjdXIuY29sfSwke2N1ci5yb3d9YCk7XHJcbiAgICAgIGlmIChtZXRhKSB0aGlzLmFwcGx5QmlvbWUobWV0YS5iaW9tZSBhcyBCaW9tZUlkKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXBwbHlCaW9tZShpZDogQmlvbWVJZCkge1xyXG4gICAgY29uc3QgZGVmID0gQklPTUVTW2lkXTtcclxuICAgIGlmICghZGVmKSByZXR1cm47XHJcbiAgICBpZiAodGhpcy5lbnZPdmVybGF5KSB7XHJcbiAgICAgIGNvbnN0IHRhcmdldCA9IGRlZi5lbnZpcm9ubWVudENvbG9yO1xyXG4gICAgICBjb25zdCBmcm9tID0gKHRoaXMuZW52T3ZlcmxheS5maWxsQ29sb3IgPz8gMHhmZmZmZmYpIGFzIG51bWJlcjtcclxuICAgICAgY29uc3QgbyA9IHsgdDogMCB9IGFzIGFueTtcclxuICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogbywgdDogMSwgZHVyYXRpb246IDQwMCwgb25VcGRhdGU6ICgpID0+IHtcclxuICAgICAgICBjb25zdCBjID0gUGhhc2VyLkRpc3BsYXkuQ29sb3IuSW50ZXJwb2xhdGUuQ29sb3JXaXRoQ29sb3IoXHJcbiAgICAgICAgICBQaGFzZXIuRGlzcGxheS5Db2xvci5JbnRlZ2VyVG9Db2xvcihmcm9tKSxcclxuICAgICAgICAgIFBoYXNlci5EaXNwbGF5LkNvbG9yLkludGVnZXJUb0NvbG9yKHRhcmdldCksXHJcbiAgICAgICAgICAxMDAsXHJcbiAgICAgICAgICBNYXRoLmZsb29yKG8udCAqIDEwMClcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IGhleCA9IFBoYXNlci5EaXNwbGF5LkNvbG9yLkdldENvbG9yKGMuciwgYy5nLCBjLmIpO1xyXG4gICAgICAgIHRoaXMuZW52T3ZlcmxheSEuc2V0RmlsbFN0eWxlKGhleCwgMC4wOCk7XHJcbiAgICAgIH19KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgcHVzaFNwYXduc1RvVUkoKSB7XHJcbiAgICBpZiAoIXRoaXMuY29uZmlnRGF0YS5vblNwYXduc1VwZGF0ZSB8fCAhdGhpcy5zcGF3bk1hbmFnZXIpIHJldHVybjtcclxuICAgIGNvbnN0IHNwYXducyA9IHRoaXMuc3Bhd25NYW5hZ2VyLmdldEFjdGl2ZVNwYXducygpLm1hcCgocjogYW55KSA9PiAoe1xyXG4gICAgICBrZXk6IHIua2V5LFxyXG4gICAgICBuYW1lOiByLm5hbWUsXHJcbiAgICAgIHBva2VJZDogci5wb2tlSWQsXHJcbiAgICAgIHNwcml0ZVVybDogci5zcHJpdGVVcmwsXHJcbiAgICAgIHBvc2l0aW9uOiByLnBvc2l0aW9uLFxyXG4gICAgICBsZXZlbDogci5sZXZlbCxcclxuICAgICAgcmFyaXR5OiByLnJhcml0eSxcclxuICAgICAgZGlzdGFuY2U6IFBoYXNlci5NYXRoLkRpc3RhbmNlLkJldHdlZW4odGhpcy5wbGF5ZXIueCwgdGhpcy5wbGF5ZXIueSwgci5wb3NpdGlvbi54LCByLnBvc2l0aW9uLnkpLFxyXG4gICAgfSkpO1xyXG4gICAgdGhpcy5jb25maWdEYXRhLm9uU3Bhd25zVXBkYXRlKHNwYXducyk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJQaGFzZXIiLCJpbyIsIlNwYXduTWFuYWdlciIsIlpPTkVfVElMRVMiLCJnZW5lcmF0ZVpvbmVzIiwiQklPTUVTIiwiY2FwaXRhbGl6ZSIsInMiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiR2FtZVNjZW5lIiwiU2NlbmUiLCJjb25maWdEYXRhIiwidGlsZVNpemUiLCJtYXBXaWR0aCIsIm1hcEhlaWdodCIsInBsYXllclNwZWVkIiwibWFwV2lkdGhUaWxlcyIsIm1hcEhlaWdodFRpbGVzIiwidGlsZVNpemVQeCIsIm90aGVycyIsIk1hcCIsImxhc3RTZW50IiwibGFzdFN0YXR1c0F0IiwibWluaVciLCJtaW5pSCIsInN0cnVjdHVyZXMiLCJpbnNpZGVTdHJ1Y3R1cmUiLCJhY3RpdmUiLCJ0eXBlIiwiaW5pdCIsImRhdGEiLCJwcmVsb2FkIiwid2lkdGgiLCJoZWlnaHQiLCJ0ZXh0dXJlcyIsImV4aXN0cyIsInJlbW92ZSIsInNoZWV0IiwiY3JlYXRlQ2FudmFzIiwiRXJyb3IiLCJjdHgiLCJnZXRDb250ZXh0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJpIiwieCIsIk1hdGgiLCJyYW5kb20iLCJ5Iiwic3Ryb2tlU3R5bGUiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJyZWZyZXNoIiwiZyIsIm1ha2UiLCJncmFwaGljcyIsImZpbGxDaXJjbGUiLCJsaW5lU3R5bGUiLCJzdHJva2VDaXJjbGUiLCJnZW5lcmF0ZVRleHR1cmUiLCJkZXN0cm95IiwiY3JlYXRlIiwibWFwIiwidGlsZW1hcCIsInRpbGVXaWR0aCIsInRpbGVIZWlnaHQiLCJ0aWxlc2V0IiwiYWRkVGlsZXNldEltYWdlIiwibGF5ZXIiLCJjcmVhdGVCbGFua0xheWVyIiwiZ3JvdW5kTGF5ZXIiLCJmaWxsIiwicHV0VGlsZUF0IiwiZmxvb3IiLCJyeCIsIkJldHdlZW4iLCJyeSIsInNldENvbGxpc2lvbiIsInN0YXJ0WCIsImluaXRpYWxYIiwic3RhcnRZIiwiaW5pdGlhbFkiLCJwbGF5ZXIiLCJwaHlzaWNzIiwiYWRkIiwic3ByaXRlIiwic2V0RGVwdGgiLCJzZXRDb2xsaWRlV29ybGRCb3VuZHMiLCJ3b3JsZFdpZHRoIiwid29ybGRIZWlnaHQiLCJjYW1lcmFzIiwibWFpbiIsInNldEJvdW5kcyIsInN0YXJ0Rm9sbG93Iiwid29ybGQiLCJjb2xsaWRlciIsImN1cnNvcnMiLCJpbnB1dCIsImtleWJvYXJkIiwiY3JlYXRlQ3Vyc29yS2V5cyIsIndhc2QiLCJhZGRLZXlzIiwiVyIsIklucHV0IiwiS2V5Ym9hcmQiLCJLZXlDb2RlcyIsIkEiLCJTIiwiRCIsImVudGVyS2V5IiwiYWRkS2V5IiwiRU5URVIiLCJpbml0TXVsdGlwbGF5ZXIiLCJlbnZPdmVybGF5IiwicmVjdGFuZ2xlIiwic2NhbGUiLCJzZXRPcmlnaW4iLCJzZXRTY3JvbGxGYWN0b3IiLCJjcmVhdGVNaW5pTWFwIiwiY3JlYXRlSFVEIiwidHJhaW5lckxldmVsIiwic3Bhd25NYW5hZ2VyIiwib24iLCJyZWMiLCJhZGRNaW5pTWFya2VyIiwia2V5IiwicG9zaXRpb24iLCJzdGF0dXNPbmNlIiwibmFtZSIsIm9uUG9rZW1vblNwb3R0ZWQiLCJzcHJpdGVVcmwiLCJwb2tlSWQiLCJwdXNoU3Bhd25zVG9VSSIsIl9rZXkiLCJyZW1vdmVNaW5pTWFya2VyIiwiZ2V0QWN0aXZlU3Bhd25zIiwibGVuZ3RoIiwib25Qb2tlbW9uQ2xlYXJlZCIsInN0YXJ0QmF0dGxlRnJvbUtleSIsInoiLCJoaWdobGlnaHRNaW5pWm9uZSIsImN6eCIsImNvbCIsImN6eSIsInJvdyIsImNhbSIsInN0b3BGb2xsb3ciLCJwYW4iLCJjYW1lcmEiLCJwcm9ncmVzcyIsInpvbmVzIiwibWV0YSIsImZpbmQiLCJxIiwiaWQiLCJhcHBseUJpb21lIiwiYmlvbWUiLCJnZW5lcmF0ZVN0cnVjdHVyZXMiLCJzdGFydCIsImluaXRUcmFpbmVyUGVyc2lzdGVuY2UiLCJhdXRvc2F2ZVRpbWVyIiwidGltZSIsImFkZEV2ZW50IiwiZGVsYXkiLCJsb29wIiwiY2FsbGJhY2siLCJhdXRvc2F2ZSIsImhhbmRsZXIiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnRzIiwib25jZSIsIlNjZW5lcyIsIkV2ZW50cyIsIlNIVVRET1dOIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInVwZGF0ZSIsImJvZHkiLCJzcGVlZCIsInZ4IiwidnkiLCJsZWZ0IiwiaXNEb3duIiwicmlnaHQiLCJ1cCIsImRvd24iLCJzZXRWZWxvY2l0eSIsImxlbiIsImh5cG90IiwibWluaSIsIm5vdyIsInNvY2tldCIsImVtaXQiLCJ1cGRhdGVQbGF5ZXJQb3MiLCJKdXN0RG93biIsIm5lYXJlc3QiLCJnZXROZWFyZXN0QWN0aXZlIiwiX3RleHQiLCJjb29sZG93bk1zIiwidyIsImgiLCJodWQiLCJjb250YWluZXIiLCJiZyIsImh1ZEJhckJnIiwiaHVkQmFyRmciLCJodWRUZXh0IiwidGV4dCIsImZvbnRTaXplIiwiY29sb3IiLCJ1cGRhdGVIVUQiLCJsZXZlbCIsImN1cnJlbnRYUCIsIm5leHRMZXZlbFhQIiwicGN0IiwibWF4IiwibWluIiwic2V0VGV4dCIsIndhbGxldCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJsb2FkVHJhaW5lciIsImF1dG9zYXZlVHJhaW5lciIsImZsdXNoUXVldWUiLCJyZXMiLCJjYXRjaCIsInRyYWluZXIiLCJ0IiwibG9jYXRpb24iLCJzZXRQb3NpdGlvbiIsInNob3dTYXZlZFRvYXN0Iiwid2FsbGV0QWRkcmVzcyIsInhwIiwicmVhc29uIiwicGFyc2VJbnQiLCJlIiwiYmFzZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19CQUNLRU5EX1VSTCIsImVucXVldWVTYXZlIiwidW5kZWZpbmVkIiwidXJsIiwibWV0aG9kIiwiaGVhZGVycyIsInRvYXN0IiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsImRlbGF5ZWRDYWxsIiwic2NlbmUiLCJ0cmFuc3BvcnRzIiwiYXV0b0Nvbm5lY3QiLCJteUlkIiwicGF5bG9hZCIsIk9iamVjdCIsImVudHJpZXMiLCJwbGF5ZXJzIiwiZm9yRWFjaCIsInBvcyIsInNwYXduT3RoZXIiLCJnZXQiLCJkZWxldGUiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJkaXNjb25uZWN0IiwiY2xlYXIiLCJzZXRUaW50Iiwic2V0IiwiYmFzZVgiLCJiYXNlWSIsIm1pbmlHZngiLCJtaW5pTWFya2VycyIsIm1pbmlCdWlsZGluZ3MiLCJtaW5pSGlnaGxpZ2h0IiwiY29scyIsInJvd3MiLCJzdHJva2VSZWN0IiwiaGl0Iiwiem9uZSIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsIl9wb2ludGVyIiwibG9jYWxYIiwibG9jYWxZIiwiemMiLCJ6ciIsImN4IiwiY3kiLCJncmlkIiwiZ2V0Wm9uZUdyaWQiLCJjdXIiLCJnZXRDdXJyZW50Wm9uZSIsImN3IiwiY2giLCJ3b3JsZFRvTWluaSIsInN4Iiwic3kiLCJ3eCIsInd5IiwicHQiLCJkb3QiLCJsaXN0IiwiZm91bmQiLCJyYWRpdXMiLCJiZXN0IiwiYmVzdEQiLCJOdW1iZXIiLCJQT1NJVElWRV9JTkZJTklUWSIsImQiLCJEaXN0YW5jZSIsInIiLCJwbGF5ZXJQb2tlbW9uIiwicG9rZVJlcyIsImZldGNoIiwicG9rZURhdGEiLCJqc29uIiwiZGVzcGF3biIsInBsYXllclBva2UiLCJocFN0YXQiLCJzdGF0cyIsInN0YXQiLCJiYXNlX3N0YXQiLCJtYXhIcCIsIndpbGRQb2tlbW9uIiwiZGlzcGxheU5hbWUiLCJjdXJyZW50SHAiLCJjaG9vc2UiLCJhcnIiLCJieUJpb21lIiwiY2l0eSIsIm1vdW50YWluIiwiZm9yZXN0IiwiZGVzZXJ0IiwibGFrZSIsImdyYXNzbGFuZCIsImNhdmUiLCJzbm93ZmllbGQiLCJ0eXBlcyIsInB1c2giLCJidWlsZGluZyIsImV4aXN0aW5nIiwiZG9vciIsIm92ZXJsYXAiLCJlbnRlclN0cnVjdHVyZSIsInNxIiwiYiIsInRvd2VyIiwibGFiIiwidGVtcGxlIiwic2V0T3ZlcnJpZGVUeXBlcyIsInBva2Vtb25Qb29sIiwiZXhpdFN0cnVjdHVyZSIsImRlZiIsInRhcmdldCIsImVudmlyb25tZW50Q29sb3IiLCJmcm9tIiwiZmlsbENvbG9yIiwibyIsInR3ZWVucyIsInRhcmdldHMiLCJkdXJhdGlvbiIsIm9uVXBkYXRlIiwiYyIsIkRpc3BsYXkiLCJDb2xvciIsIkludGVycG9sYXRlIiwiQ29sb3JXaXRoQ29sb3IiLCJJbnRlZ2VyVG9Db2xvciIsImhleCIsIkdldENvbG9yIiwic2V0RmlsbFN0eWxlIiwib25TcGF3bnNVcGRhdGUiLCJzcGF3bnMiLCJyYXJpdHkiLCJkaXN0YW5jZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./lib/phaser/GameScene.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./lib/spawnUtils.ts":
/*!***************************!*\
  !*** ./lib/spawnUtils.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SpawnManager: () => (/* binding */ SpawnManager)\n/* harmony export */ });\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mapZones__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapZones */ \"(pages-dir-node)/./lib/mapZones.ts\");\n\n\nconst MAX_ACTIVE = 8; // 7-8 active Pokemon per 10x10 grid area\n// Weighted rarity distribution (as per requirements)\nconst RARITY_WEIGHTS = {\n    common: 0.60,\n    uncommon: 0.25,\n    rare: 0.10,\n    epic: 0.04,\n    legendary: 0.01\n};\n// Legendary Pokemon IDs (require level >= 20)\nconst LEGENDARY_IDS = [\n    // Gen 1\n    144,\n    145,\n    146,\n    150,\n    151,\n    // Gen 2\n    243,\n    244,\n    245,\n    249,\n    250,\n    251,\n    // Gen 3\n    377,\n    378,\n    379,\n    380,\n    381,\n    382,\n    383,\n    384,\n    385,\n    386,\n    // Gen 4\n    480,\n    481,\n    482,\n    483,\n    484,\n    487,\n    488,\n    489,\n    490,\n    491\n];\n// Mythical Pokemon (also require level >= 20)\nconst MYTHICAL_IDS = [\n    151,\n    251,\n    385,\n    386,\n    489,\n    490,\n    491,\n    492,\n    493,\n    494\n];\n// Common Pokemon by type - Complete list from all generations\nconst COMMON_POKEMON_BY_TYPE = {\n    // Normal type - Common across all generations\n    normal: [\n        16,\n        19,\n        161,\n        163,\n        263,\n        396,\n        399,\n        504,\n        506,\n        519,\n        659,\n        734,\n        819\n    ],\n    // Grass type - Common starters and wild Pokemon\n    grass: [\n        1,\n        43,\n        69,\n        102,\n        152,\n        187,\n        252,\n        285,\n        387,\n        495,\n        548,\n        650,\n        672,\n        722,\n        810\n    ],\n    // Bug type - Most common type in Pokemon games\n    bug: [\n        10,\n        11,\n        13,\n        14,\n        165,\n        167,\n        265,\n        266,\n        268,\n        290,\n        412,\n        540,\n        595,\n        664,\n        736,\n        824\n    ],\n    // Flying type - Birds and common flyers\n    flying: [\n        16,\n        21,\n        41,\n        163,\n        276,\n        278,\n        396,\n        519,\n        521,\n        661,\n        714,\n        731,\n        821\n    ],\n    // Water type - Common water Pokemon\n    water: [\n        7,\n        54,\n        60,\n        72,\n        116,\n        118,\n        129,\n        158,\n        183,\n        258,\n        318,\n        393,\n        456,\n        501,\n        550,\n        656,\n        728,\n        771,\n        816\n    ],\n    // Fire type - Common fire Pokemon\n    fire: [\n        4,\n        37,\n        58,\n        77,\n        155,\n        218,\n        255,\n        322,\n        390,\n        498,\n        513,\n        653,\n        725,\n        813\n    ],\n    // Electric type - Common electric Pokemon\n    electric: [\n        25,\n        81,\n        100,\n        172,\n        179,\n        309,\n        311,\n        312,\n        403,\n        417,\n        522,\n        587,\n        702,\n        777,\n        835\n    ],\n    // Rock type - Common rock Pokemon\n    rock: [\n        74,\n        95,\n        138,\n        140,\n        213,\n        299,\n        304,\n        408,\n        410,\n        524,\n        557,\n        688,\n        696,\n        744,\n        837\n    ],\n    // Ground type - Common ground Pokemon\n    ground: [\n        27,\n        50,\n        104,\n        207,\n        231,\n        328,\n        449,\n        529,\n        551,\n        659,\n        749,\n        843\n    ],\n    // Poison type - Common poison Pokemon\n    poison: [\n        23,\n        29,\n        32,\n        41,\n        88,\n        109,\n        316,\n        336,\n        451,\n        453,\n        543,\n        568,\n        757,\n        848\n    ],\n    // Fighting type - Common fighting Pokemon\n    fighting: [\n        56,\n        66,\n        236,\n        296,\n        307,\n        447,\n        532,\n        538,\n        539,\n        674,\n        739,\n        759\n    ],\n    // Psychic type - Common psychic Pokemon\n    psychic: [\n        63,\n        96,\n        122,\n        177,\n        280,\n        307,\n        433,\n        517,\n        527,\n        605,\n        677,\n        765,\n        856\n    ],\n    // Ice type - Common ice Pokemon\n    ice: [\n        86,\n        215,\n        220,\n        361,\n        363,\n        459,\n        582,\n        613,\n        712,\n        872\n    ],\n    // Ghost type - Common ghost Pokemon\n    ghost: [\n        92,\n        200,\n        353,\n        355,\n        425,\n        562,\n        607,\n        708,\n        710,\n        778,\n        854\n    ],\n    // Dragon type - Less common but still available\n    dragon: [\n        147,\n        371,\n        443,\n        610,\n        633,\n        704,\n        780,\n        782,\n        884\n    ],\n    // Dark type - Common dark Pokemon\n    dark: [\n        198,\n        228,\n        261,\n        302,\n        434,\n        509,\n        624,\n        629,\n        686,\n        827,\n        859\n    ],\n    // Steel type - Common steel Pokemon\n    steel: [\n        81,\n        95,\n        304,\n        436,\n        597,\n        599,\n        707,\n        808,\n        878\n    ],\n    // Fairy type - Common fairy Pokemon (Gen 6+)\n    fairy: [\n        35,\n        39,\n        174,\n        183,\n        280,\n        439,\n        546,\n        682,\n        684,\n        702,\n        868\n    ]\n};\n// Get common IDs for type\nfunction getCommonIdsForType(type) {\n    return COMMON_POKEMON_BY_TYPE[type] || [\n        16,\n        19,\n        43\n    ]; // Default to Pidgey, Rattata, Caterpie\n}\n/**\r\n * Pick rarity based on weighted distribution and trainer level\r\n */ function pickRarity(trainerLevel) {\n    const r = Math.random();\n    let cumulative = 0;\n    // Legendary/Mythic require trainer level >= 20\n    const canSpawnLegendary = trainerLevel >= 20;\n    // Adjust weights if legendary not available\n    const weights = {\n        ...RARITY_WEIGHTS\n    };\n    if (!canSpawnLegendary) {\n        // Redistribute legendary weight to other rarities\n        const redistribution = weights.legendary / 4;\n        weights.common += redistribution;\n        weights.uncommon += redistribution;\n        weights.rare += redistribution;\n        weights.epic += redistribution;\n        weights.legendary = 0;\n    }\n    // Slightly increase better spawn chances with level\n    const levelBonus = Math.min(trainerLevel * 0.005, 0.1); // Max 10% bonus at level 20\n    weights.rare += levelBonus;\n    weights.epic += levelBonus / 2;\n    weights.common -= levelBonus * 1.5; // Reduce common spawns\n    for (const [rarity, weight] of Object.entries(weights)){\n        cumulative += weight;\n        if (r < cumulative) return rarity;\n    }\n    return \"common\";\n}\nasync function fetchPokemon(pokeId) {\n    const res = await fetch(`https://pokeapi.co/api/v2/pokemon/${pokeId}`);\n    const data = await res.json();\n    const types = data.types?.map((t)=>t.type.name) || [];\n    const spriteUrl = data?.sprites?.front_default || data?.sprites?.other?.[\"official-artwork\"]?.front_default;\n    return {\n        data,\n        types,\n        spriteUrl,\n        name: data.name\n    };\n}\nasync function fetchSpecies(pokeId) {\n    const res = await fetch(`https://pokeapi.co/api/v2/pokemon-species/${pokeId}`);\n    return res.json();\n}\n// Heuristic rarity tiering based on species flags and capture_rate\nfunction classifyRarity(species, pokeId) {\n    // Check if legendary or mythical\n    if (LEGENDARY_IDS.includes(pokeId) || MYTHICAL_IDS.includes(pokeId)) return \"legendary\";\n    if (species?.is_legendary || species?.is_mythical) return \"legendary\";\n    const rate = species?.capture_rate ?? 45; // 0-255 higher = easier\n    // Classify based on capture rate\n    if (rate >= 200) return \"common\"; // Very easy\n    if (rate >= 120) return \"uncommon\"; // Easy\n    if (rate >= 75) return \"rare\"; // Moderate\n    if (rate >= 45) return \"epic\"; // Hard\n    return \"legendary\"; // Very hard\n}\nclass SpawnManager extends phaser__WEBPACK_IMPORTED_MODULE_0__.Events.EventEmitter {\n    constructor(scene, tileSize, mapWidthTiles, mapHeightTiles, trainerLevel = 1){\n        super(), this.zones = [], this.zoneCols = 0, this.zoneRows = 0, this.active = new Map(), this.currentZone = {\n            col: 0,\n            row: 0,\n            id: \"0,0\"\n        }, this.overrideTypes = null, this.trainerLevel = 1 // Trainer level for spawn balancing\n        ;\n        this.scene = scene;\n        this.tileSize = tileSize;\n        this.mapWidthTiles = mapWidthTiles;\n        this.mapHeightTiles = mapHeightTiles;\n        this.trainerLevel = trainerLevel;\n        this.zoneCols = Math.max(1, Math.floor(mapWidthTiles / _mapZones__WEBPACK_IMPORTED_MODULE_1__.ZONE_TILES));\n        this.zoneRows = Math.max(1, Math.floor(mapHeightTiles / _mapZones__WEBPACK_IMPORTED_MODULE_1__.ZONE_TILES));\n        this.zones = (0,_mapZones__WEBPACK_IMPORTED_MODULE_1__.generateZones)(this.zoneCols, this.zoneRows);\n    }\n    getActiveSpawns() {\n        return Array.from(this.active.values());\n    }\n    getZoneGrid() {\n        return {\n            cols: this.zoneCols,\n            rows: this.zoneRows,\n            zones: this.zones\n        };\n    }\n    getCurrentZone() {\n        return this.currentZone;\n    }\n    setOverrideTypes(types) {\n        this.overrideTypes = types;\n        this.topUpSpawns(true);\n    }\n    setTrainerLevel(level) {\n        this.trainerLevel = level;\n    }\n    updatePlayerPos(x, y) {\n        const tx = Math.floor(x / this.tileSize);\n        const ty = Math.floor(y / this.tileSize);\n        const z = (0,_mapZones__WEBPACK_IMPORTED_MODULE_1__.getZoneForTile)(tx, ty, this.zoneCols, this.zoneRows);\n        if (z.id !== this.currentZone.id) {\n            this.currentZone = z;\n            this.emit(\"zoneChanged\", z);\n            // on zone change, try to top up spawns immediately\n            this.topUpSpawns(true);\n        }\n    }\n    start() {\n        this.topUpSpawns(true);\n        this.spawnTimer?.remove(false);\n        const scheduleNext = ()=>{\n            const delay = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Between(20000, 40000);\n            this.spawnTimer = this.scene.time.addEvent({\n                delay,\n                loop: false,\n                callback: ()=>{\n                    this.topUpSpawns(false);\n                    scheduleNext();\n                }\n            });\n        };\n        scheduleNext();\n    }\n    stop() {\n        this.spawnTimer?.remove(false);\n        this.active.forEach((r)=>this.despawn(r.key));\n        this.active.clear();\n    }\n    async topUpSpawns(immediate) {\n        if (this.active.size >= MAX_ACTIVE) return;\n        const need = Math.min(MAX_ACTIVE - this.active.size, 2); // spawn up to 2 at a time\n        for(let i = 0; i < need; i++){\n            try {\n                await this.spawnOne();\n            } catch  {}\n            if (!immediate) break;\n        }\n    }\n    getCandidateZones() {\n        const around = (0,_mapZones__WEBPACK_IMPORTED_MODULE_1__.getAdjacentZoneCoords)(this.currentZone.col, this.currentZone.row, this.zoneCols, this.zoneRows, 1);\n        return around;\n    }\n    pickZoneArea(zone) {\n        const startX = zone.col * _mapZones__WEBPACK_IMPORTED_MODULE_1__.ZONE_TILES * this.tileSize;\n        const startY = zone.row * _mapZones__WEBPACK_IMPORTED_MODULE_1__.ZONE_TILES * this.tileSize;\n        const endX = startX + _mapZones__WEBPACK_IMPORTED_MODULE_1__.ZONE_TILES * this.tileSize;\n        const endY = startY + _mapZones__WEBPACK_IMPORTED_MODULE_1__.ZONE_TILES * this.tileSize;\n        return {\n            startX,\n            startY,\n            endX,\n            endY\n        };\n    }\n    async spawnOne() {\n        const zones = this.getCandidateZones();\n        const picked = phaser__WEBPACK_IMPORTED_MODULE_0__.Utils.Array.GetRandom(zones);\n        const zoneMeta = this.zones.find((z)=>z.id === picked.id);\n        const biome = zoneMeta.biome;\n        const types = this.overrideTypes || _mapZones__WEBPACK_IMPORTED_MODULE_1__.BIOME_TYPE_POOLS[biome];\n        // Pick rarity target based on trainer level\n        const target = pickRarity(this.trainerLevel);\n        // For common spawns, prioritize common Pokemon IDs\n        let chosen = null;\n        if (target === \"common\") {\n            // Try to spawn common Pokemon first\n            const typeToUse = phaser__WEBPACK_IMPORTED_MODULE_0__.Utils.Array.GetRandom(types);\n            const commonIds = getCommonIdsForType(typeToUse);\n            const id = phaser__WEBPACK_IMPORTED_MODULE_0__.Utils.Array.GetRandom(commonIds);\n            try {\n                const p = await fetchPokemon(id);\n                if (p.spriteUrl) {\n                    const species = await fetchSpecies(id);\n                    const rarity = classifyRarity(species, id);\n                    chosen = {\n                        id,\n                        name: p.name,\n                        spriteUrl: p.spriteUrl,\n                        types: p.types,\n                        rarity\n                    };\n                }\n            } catch  {}\n        }\n        // If common failed or targeting other rarity, use random search\n        if (!chosen) {\n            for(let tries = 0; tries < 15; tries++){\n                let id = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Between(1, 898);\n                // For legendary target, only check legendary IDs if trainer level allows\n                if (target === \"legendary\" && this.trainerLevel >= 20) {\n                    id = phaser__WEBPACK_IMPORTED_MODULE_0__.Utils.Array.GetRandom([\n                        ...LEGENDARY_IDS,\n                        ...MYTHICAL_IDS\n                    ]);\n                }\n                const p = await fetchPokemon(id);\n                if (!p.spriteUrl) continue;\n                if (!p.types.some((t)=>types.includes(t))) continue; // not matching biome\n                const species = await fetchSpecies(id);\n                const r = classifyRarity(species, id);\n                // Allow some flexibility in rarity matching\n                if (r !== target && Math.random() > 0.3) continue;\n                chosen = {\n                    id,\n                    name: p.name,\n                    spriteUrl: p.spriteUrl,\n                    types: p.types,\n                    rarity: r\n                };\n                break;\n            }\n        }\n        if (!chosen) return;\n        const area = this.pickZoneArea(picked);\n        const x = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Between(area.startX + 12, area.endX - 12);\n        const y = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Between(area.startY + 12, area.endY - 12);\n        // Calculate Pokemon level based on trainer level and rarity\n        const baseLevel = Math.max(1, this.trainerLevel - 2 + phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Between(-1, 3));\n        const rarityBonus = chosen.rarity === \"legendary\" ? 5 : chosen.rarity === \"epic\" ? 3 : chosen.rarity === \"rare\" ? 2 : 0;\n        const pokemonLevel = Math.max(1, baseLevel + rarityBonus);\n        const key = `spawn-${chosen.id}-${Date.now()}`;\n        const sprite = this.scene.add.image(x, y, `pkmn-${chosen.id}`).setVisible(false);\n        if (!this.scene.textures.exists(`pkmn-${chosen.id}`)) {\n            await new Promise((resolve)=>{\n                this.scene.load.once(phaser__WEBPACK_IMPORTED_MODULE_0__.Loader.Events.COMPLETE, ()=>resolve());\n                this.scene.load.image(`pkmn-${chosen.id}`, chosen.spriteUrl);\n                this.scene.load.start();\n            });\n            sprite.setTexture(`pkmn-${chosen.id}`);\n        }\n        sprite.setDepth(20).setInteractive({\n            useHandCursor: true\n        });\n        sprite.setScale(0.1).setAlpha(0);\n        sprite.on(\"pointerdown\", ()=>this.emit(\"spawnClicked\", key));\n        // emerge animation - vary by rarity\n        sprite.setVisible(true);\n        const scaleFactor = chosen.rarity === \"legendary\" ? 1.5 : chosen.rarity === \"epic\" ? 1.3 : 1.2;\n        this.scene.tweens.add({\n            targets: sprite,\n            alpha: 1,\n            scale: scaleFactor,\n            duration: 300,\n            yoyo: true,\n            ease: \"sine.out\",\n            onComplete: ()=>sprite.setScale(chosen.rarity === \"legendary\" ? 1.2 : 1)\n        });\n        const rec = {\n            key,\n            name: chosen.name,\n            pokeId: chosen.id,\n            types: chosen.types,\n            spriteUrl: chosen.spriteUrl,\n            position: {\n                x,\n                y\n            },\n            zone: picked,\n            sprite,\n            level: pokemonLevel,\n            rarity: chosen.rarity\n        };\n        // despawn after time based on rarity (legendary lasts longer)\n        const despawnTime = chosen.rarity === \"legendary\" ? 90000 : chosen.rarity === \"epic\" ? 75000 : 60000;\n        rec.timeout = this.scene.time.delayedCall(despawnTime, ()=>this.despawn(key));\n        this.active.set(key, rec);\n        this.emit(\"spawned\", rec);\n    }\n    despawn(key) {\n        const rec = this.active.get(key);\n        if (!rec) return;\n        if (rec.timeout) rec.timeout.remove(false);\n        if (rec.sprite) {\n            this.scene.tweens.add({\n                targets: rec.sprite,\n                alpha: 0,\n                duration: 400,\n                onComplete: ()=>rec.sprite?.destroy()\n            });\n        }\n        this.emit(\"despawned\", key);\n        this.active.delete(key);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBQzNCOEgsVUFBVTtnQkFBRWxGO2dCQUFHQztZQUFFO1lBQ2pCNEIsTUFBTUs7WUFDTm1CO1lBQ0F2RCxPQUFPb0Q7WUFDUDVHLFFBQVFtRyxPQUFPbkcsTUFBTTtRQUN2QjtRQUVBLDhEQUE4RDtRQUM5RCxNQUFNNkksY0FBYzFDLE9BQU9uRyxNQUFNLEtBQUssY0FBYyxRQUFRbUcsT0FBT25HLE1BQU0sS0FBSyxTQUFTLFFBQVE7UUFDL0YySSxJQUFJRyxPQUFPLEdBQUcsSUFBSSxDQUFDakgsS0FBSyxDQUFDeUMsSUFBSSxDQUFDeUUsV0FBVyxDQUFDRixhQUFhLElBQU0sSUFBSSxDQUFDakUsT0FBTyxDQUFDQztRQUUxRSxJQUFJLENBQUN6QyxNQUFNLENBQUM0RyxHQUFHLENBQUNuRSxLQUFLOEQ7UUFDckIsSUFBSSxDQUFDNUUsSUFBSSxDQUFDLFdBQVc0RTtJQUN2QjtJQUVBL0QsUUFBUUMsR0FBVyxFQUFFO1FBQ25CLE1BQU04RCxNQUFNLElBQUksQ0FBQ3ZHLE1BQU0sQ0FBQzZHLEdBQUcsQ0FBQ3BFO1FBQzVCLElBQUksQ0FBQzhELEtBQUs7UUFDVixJQUFJQSxJQUFJRyxPQUFPLEVBQUVILElBQUlHLE9BQU8sQ0FBQzVFLE1BQU0sQ0FBQztRQUNwQyxJQUFJeUUsSUFBSTVCLE1BQU0sRUFBRTtZQUNkLElBQUksQ0FBQ2xGLEtBQUssQ0FBQ3NHLE1BQU0sQ0FBQ25CLEdBQUcsQ0FBQztnQkFBRW9CLFNBQVNPLElBQUk1QixNQUFNO2dCQUFFc0IsT0FBTztnQkFBR0UsVUFBVTtnQkFBS0csWUFBWSxJQUFNQyxJQUFJNUIsTUFBTSxFQUFFbUM7WUFBVTtRQUNoSDtRQUNBLElBQUksQ0FBQ25GLElBQUksQ0FBQyxhQUFhYztRQUN2QixJQUFJLENBQUN6QyxNQUFNLENBQUMrRyxNQUFNLENBQUN0RTtJQUNyQjtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFNhaGl0aFxcT25lRHJpdmVcXERlc2t0b3BcXHlva2FpaHVudFxcZnJvbnRlbmRcXGxpYlxcc3Bhd25VdGlscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBCSU9NRV9UWVBFX1BPT0xTLCBaT05FX1RJTEVTLCBnZW5lcmF0ZVpvbmVzLCBnZXRBZGphY2VudFpvbmVDb29yZHMsIGdldFpvbmVGb3JUaWxlLCB0eXBlIEJpb21lIH0gZnJvbSBcIi4vbWFwWm9uZXNcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFNwYXduUmFyaXR5ID0gXCJjb21tb25cIiB8IFwidW5jb21tb25cIiB8IFwicmFyZVwiIHwgXCJlcGljXCIgfCBcImxlZ2VuZGFyeVwiO1xyXG5cclxuZXhwb3J0IHR5cGUgU3Bhd25SZWNvcmQgPSB7XHJcbiAga2V5OiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHBva2VJZDogbnVtYmVyO1xyXG4gIHR5cGVzOiBzdHJpbmdbXTtcclxuICBzcHJpdGVVcmw6IHN0cmluZztcclxuICBwb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xyXG4gIHpvbmU6IHsgY29sOiBudW1iZXI7IHJvdzogbnVtYmVyOyBpZDogc3RyaW5nIH07XHJcbiAgc3ByaXRlPzogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlO1xyXG4gIHRpbWVvdXQ/OiBQaGFzZXIuVGltZS5UaW1lckV2ZW50O1xyXG4gIG1hcmtlcj86IFBoYXNlci5HYW1lT2JqZWN0cy5TaGFwZTsgLy8gbWluaW1hcCBtYXJrZXJcclxuICBsZXZlbDogbnVtYmVyO1xyXG4gIHJhcml0eTogU3Bhd25SYXJpdHk7XHJcbn07XHJcblxyXG5jb25zdCBNQVhfQUNUSVZFID0gODsgLy8gNy04IGFjdGl2ZSBQb2tlbW9uIHBlciAxMHgxMCBncmlkIGFyZWFcclxuXHJcbi8vIFdlaWdodGVkIHJhcml0eSBkaXN0cmlidXRpb24gKGFzIHBlciByZXF1aXJlbWVudHMpXHJcbmNvbnN0IFJBUklUWV9XRUlHSFRTOiBSZWNvcmQ8U3Bhd25SYXJpdHksIG51bWJlcj4gPSB7XHJcbiAgY29tbW9uOiAwLjYwLCAgICAgIC8vIDYwJVxyXG4gIHVuY29tbW9uOiAwLjI1LCAgICAvLyAyNSVcclxuICByYXJlOiAwLjEwLCAgICAgICAgLy8gMTAlXHJcbiAgZXBpYzogMC4wNCwgICAgICAgIC8vIDQlXHJcbiAgbGVnZW5kYXJ5OiAwLjAxLCAgIC8vIDElXHJcbn07XHJcblxyXG4vLyBMZWdlbmRhcnkgUG9rZW1vbiBJRHMgKHJlcXVpcmUgbGV2ZWwgPj0gMjApXHJcbmNvbnN0IExFR0VOREFSWV9JRFMgPSBbXHJcbiAgLy8gR2VuIDFcclxuICAxNDQsIDE0NSwgMTQ2LCAvLyBBcnRpY3VubywgWmFwZG9zLCBNb2x0cmVzXHJcbiAgMTUwLCAxNTEsIC8vIE1ld3R3bywgTWV3XHJcbiAgLy8gR2VuIDJcclxuICAyNDMsIDI0NCwgMjQ1LCAvLyBSYWlrb3UsIEVudGVpLCBTdWljdW5lXHJcbiAgMjQ5LCAyNTAsIDI1MSwgLy8gTHVnaWEsIEhvLU9oLCBDZWxlYmlcclxuICAvLyBHZW4gM1xyXG4gIDM3NywgMzc4LCAzNzksIC8vIFJlZ2lyb2NrLCBSZWdpY2UsIFJlZ2lzdGVlbFxyXG4gIDM4MCwgMzgxLCAzODIsIDM4MywgMzg0LCAvLyBMYXRpYXMsIExhdGlvcywgS3lvZ3JlLCBHcm91ZG9uLCBSYXlxdWF6YVxyXG4gIDM4NSwgMzg2LCAvLyBKaXJhY2hpLCBEZW94eXNcclxuICAvLyBHZW4gNFxyXG4gIDQ4MCwgNDgxLCA0ODIsIC8vIFV4aWUsIE1lc3ByaXQsIEF6ZWxmXHJcbiAgNDgzLCA0ODQsIDQ4NywgNDg4LCA0ODksIDQ5MCwgNDkxLCAvLyBEaWFsZ2EsIFBhbGtpYSwgR2lyYXRpbmEsIENyZXNzZWxpYSwgUGhpb25lLCBNYW5hcGh5LCBEYXJrcmFpXHJcbl07XHJcblxyXG4vLyBNeXRoaWNhbCBQb2tlbW9uIChhbHNvIHJlcXVpcmUgbGV2ZWwgPj0gMjApXHJcbmNvbnN0IE1ZVEhJQ0FMX0lEUyA9IFsxNTEsIDI1MSwgMzg1LCAzODYsIDQ4OSwgNDkwLCA0OTEsIDQ5MiwgNDkzLCA0OTRdO1xyXG5cclxuLy8gQ29tbW9uIFBva2Vtb24gYnkgdHlwZSAtIENvbXBsZXRlIGxpc3QgZnJvbSBhbGwgZ2VuZXJhdGlvbnNcclxuY29uc3QgQ09NTU9OX1BPS0VNT05fQllfVFlQRTogUmVjb3JkPHN0cmluZywgbnVtYmVyW10+ID0ge1xyXG4gIC8vIE5vcm1hbCB0eXBlIC0gQ29tbW9uIGFjcm9zcyBhbGwgZ2VuZXJhdGlvbnNcclxuICBub3JtYWw6IFtcclxuICAgIDE2LCAgIC8vIFBpZGdleSAoR2VuIDEpXHJcbiAgICAxOSwgICAvLyBSYXR0YXRhIChHZW4gMSlcclxuICAgIDE2MSwgIC8vIFNlbnRyZXQgKEdlbiAyKVxyXG4gICAgMTYzLCAgLy8gSG9vdGhvb3QgKEdlbiAyKVxyXG4gICAgMjYzLCAgLy8gWmlnemFnb29uIChHZW4gMylcclxuICAgIDM5NiwgIC8vIFN0YXJseSAoR2VuIDQpXHJcbiAgICAzOTksICAvLyBCaWRvb2YgKEdlbiA0KVxyXG4gICAgNTA0LCAgLy8gUGF0cmF0IChHZW4gNSlcclxuICAgIDUwNiwgIC8vIExpbGxpcHVwIChHZW4gNSlcclxuICAgIDUxOSwgIC8vIFBpZG92ZSAoR2VuIDUpXHJcbiAgICA2NTksICAvLyBCdW5uZWxieSAoR2VuIDYpXHJcbiAgICA3MzQsICAvLyBZdW5nb29zIChHZW4gNylcclxuICAgIDgxOSwgIC8vIFNrd292ZXQgKEdlbiA4KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gR3Jhc3MgdHlwZSAtIENvbW1vbiBzdGFydGVycyBhbmQgd2lsZCBQb2tlbW9uXHJcbiAgZ3Jhc3M6IFtcclxuICAgIDEsICAgIC8vIEJ1bGJhc2F1ciAoR2VuIDEpXHJcbiAgICA0MywgICAvLyBPZGRpc2ggKEdlbiAxKVxyXG4gICAgNjksICAgLy8gQmVsbHNwcm91dCAoR2VuIDEpXHJcbiAgICAxMDIsICAvLyBFeGVnZ2N1dGUgKEdlbiAxKVxyXG4gICAgMTUyLCAgLy8gQ2hpa29yaXRhIChHZW4gMilcclxuICAgIDE4NywgIC8vIEhvcHBpcCAoR2VuIDIpXHJcbiAgICAyNTIsICAvLyBUcmVlY2tvIChHZW4gMylcclxuICAgIDI4NSwgIC8vIFNocm9vbWlzaCAoR2VuIDMpXHJcbiAgICAzODcsICAvLyBUdXJ0d2lnIChHZW4gNClcclxuICAgIDQ5NSwgIC8vIFNuaXZ5IChHZW4gNSlcclxuICAgIDU0OCwgIC8vIFBldGlsaWwgKEdlbiA1KVxyXG4gICAgNjUwLCAgLy8gQ2hlc3BpbiAoR2VuIDYpXHJcbiAgICA2NzIsICAvLyBTa2lkZG8gKEdlbiA2KVxyXG4gICAgNzIyLCAgLy8gUm93bGV0IChHZW4gNylcclxuICAgIDgxMCwgIC8vIEdyb29rZXkgKEdlbiA4KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gQnVnIHR5cGUgLSBNb3N0IGNvbW1vbiB0eXBlIGluIFBva2Vtb24gZ2FtZXNcclxuICBidWc6IFtcclxuICAgIDEwLCAgIC8vIENhdGVycGllIChHZW4gMSlcclxuICAgIDExLCAgIC8vIE1ldGFwb2QgKEdlbiAxKVxyXG4gICAgMTMsICAgLy8gV2VlZGxlIChHZW4gMSlcclxuICAgIDE0LCAgIC8vIEtha3VuYSAoR2VuIDEpXHJcbiAgICAxNjUsICAvLyBMZWR5YmEgKEdlbiAyKVxyXG4gICAgMTY3LCAgLy8gU3BpbmFyYWsgKEdlbiAyKVxyXG4gICAgMjY1LCAgLy8gV3VybXBsZSAoR2VuIDMpXHJcbiAgICAyNjYsICAvLyBTaWxjb29uIChHZW4gMylcclxuICAgIDI2OCwgIC8vIENhc2Nvb24gKEdlbiAzKVxyXG4gICAgMjkwLCAgLy8gTmluY2FkYSAoR2VuIDMpXHJcbiAgICA0MTIsICAvLyBCdXJteSAoR2VuIDQpXHJcbiAgICA1NDAsICAvLyBTZXdhZGRsZSAoR2VuIDUpXHJcbiAgICA1OTUsICAvLyBKb2x0aWsgKEdlbiA1KVxyXG4gICAgNjY0LCAgLy8gU2NhdHRlcmJ1ZyAoR2VuIDYpXHJcbiAgICA3MzYsICAvLyBHcnViYmluIChHZW4gNylcclxuICAgIDgyNCwgIC8vIEJsaXBidWcgKEdlbiA4KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gRmx5aW5nIHR5cGUgLSBCaXJkcyBhbmQgY29tbW9uIGZseWVyc1xyXG4gIGZseWluZzogW1xyXG4gICAgMTYsICAgLy8gUGlkZ2V5IChHZW4gMSlcclxuICAgIDIxLCAgIC8vIFNwZWFyb3cgKEdlbiAxKVxyXG4gICAgNDEsICAgLy8gWnViYXQgKEdlbiAxKVxyXG4gICAgMTYzLCAgLy8gSG9vdGhvb3QgKEdlbiAyKVxyXG4gICAgMjc2LCAgLy8gVGFpbGxvdyAoR2VuIDMpXHJcbiAgICAyNzgsICAvLyBXaW5ndWxsIChHZW4gMylcclxuICAgIDM5NiwgIC8vIFN0YXJseSAoR2VuIDQpXHJcbiAgICA1MTksICAvLyBQaWRvdmUgKEdlbiA1KVxyXG4gICAgNTIxLCAgLy8gVW5mZXphbnQgKEdlbiA1KVxyXG4gICAgNjYxLCAgLy8gRmxldGNobGluZyAoR2VuIDYpXHJcbiAgICA3MTQsICAvLyBOb2liYXQgKEdlbiA2KVxyXG4gICAgNzMxLCAgLy8gUGlraXBlayAoR2VuIDcpXHJcbiAgICA4MjEsICAvLyBSb29raWRlZSAoR2VuIDgpXHJcbiAgXSxcclxuICBcclxuICAvLyBXYXRlciB0eXBlIC0gQ29tbW9uIHdhdGVyIFBva2Vtb25cclxuICB3YXRlcjogW1xyXG4gICAgNywgICAgLy8gU3F1aXJ0bGUgKEdlbiAxKVxyXG4gICAgNTQsICAgLy8gUHN5ZHVjayAoR2VuIDEpXHJcbiAgICA2MCwgICAvLyBQb2xpd2FnIChHZW4gMSlcclxuICAgIDcyLCAgIC8vIFRlbnRhY29vbCAoR2VuIDEpXHJcbiAgICAxMTYsICAvLyBIb3JzZWEgKEdlbiAxKVxyXG4gICAgMTE4LCAgLy8gR29sZGVlbiAoR2VuIDEpXHJcbiAgICAxMjksICAvLyBNYWdpa2FycCAoR2VuIDEpXHJcbiAgICAxNTgsICAvLyBUb3RvZGlsZSAoR2VuIDIpXHJcbiAgICAxODMsICAvLyBNYXJpbGwgKEdlbiAyKVxyXG4gICAgMjU4LCAgLy8gTXVka2lwIChHZW4gMylcclxuICAgIDMxOCwgIC8vIENhcnZhbmhhIChHZW4gMylcclxuICAgIDM5MywgIC8vIFBpcGx1cCAoR2VuIDQpXHJcbiAgICA0NTYsICAvLyBGaW5uZW9uIChHZW4gNClcclxuICAgIDUwMSwgIC8vIE9zaGF3b3R0IChHZW4gNSlcclxuICAgIDU1MCwgIC8vIEJhc2N1bGluIChHZW4gNSlcclxuICAgIDY1NiwgIC8vIEZyb2FraWUgKEdlbiA2KVxyXG4gICAgNzI4LCAgLy8gUG9wcGxpbyAoR2VuIDcpXHJcbiAgICA3NzEsICAvLyBQeXVrdW11a3UgKEdlbiA3KVxyXG4gICAgODE2LCAgLy8gU29iYmxlIChHZW4gOClcclxuICBdLFxyXG4gIFxyXG4gIC8vIEZpcmUgdHlwZSAtIENvbW1vbiBmaXJlIFBva2Vtb25cclxuICBmaXJlOiBbXHJcbiAgICA0LCAgICAvLyBDaGFybWFuZGVyIChHZW4gMSlcclxuICAgIDM3LCAgIC8vIFZ1bHBpeCAoR2VuIDEpXHJcbiAgICA1OCwgICAvLyBHcm93bGl0aGUgKEdlbiAxKVxyXG4gICAgNzcsICAgLy8gUG9ueXRhIChHZW4gMSlcclxuICAgIDE1NSwgIC8vIEN5bmRhcXVpbCAoR2VuIDIpXHJcbiAgICAyMTgsICAvLyBTbHVnbWEgKEdlbiAyKVxyXG4gICAgMjU1LCAgLy8gVG9yY2hpYyAoR2VuIDMpXHJcbiAgICAzMjIsICAvLyBOdW1lbCAoR2VuIDMpXHJcbiAgICAzOTAsICAvLyBDaGltY2hhciAoR2VuIDQpXHJcbiAgICA0OTgsICAvLyBUZXBpZyAoR2VuIDUpXHJcbiAgICA1MTMsICAvLyBQYW5zZWFyIChHZW4gNSlcclxuICAgIDY1MywgIC8vIEZlbm5la2luIChHZW4gNilcclxuICAgIDcyNSwgIC8vIExpdHRlbiAoR2VuIDcpXHJcbiAgICA4MTMsICAvLyBTY29yYnVubnkgKEdlbiA4KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gRWxlY3RyaWMgdHlwZSAtIENvbW1vbiBlbGVjdHJpYyBQb2tlbW9uXHJcbiAgZWxlY3RyaWM6IFtcclxuICAgIDI1LCAgIC8vIFBpa2FjaHUgKEdlbiAxKVxyXG4gICAgODEsICAgLy8gTWFnbmVtaXRlIChHZW4gMSlcclxuICAgIDEwMCwgIC8vIFZvbHRvcmIgKEdlbiAxKVxyXG4gICAgMTcyLCAgLy8gUGljaHUgKEdlbiAyKVxyXG4gICAgMTc5LCAgLy8gTWFyZWVwIChHZW4gMilcclxuICAgIDMwOSwgIC8vIEVsZWN0cmlrZSAoR2VuIDMpXHJcbiAgICAzMTEsICAvLyBQbHVzbGUgKEdlbiAzKVxyXG4gICAgMzEyLCAgLy8gTWludW4gKEdlbiAzKVxyXG4gICAgNDAzLCAgLy8gU2hpbnggKEdlbiA0KVxyXG4gICAgNDE3LCAgLy8gUGFjaGlyaXN1IChHZW4gNClcclxuICAgIDUyMiwgIC8vIEJsaXR6bGUgKEdlbiA1KVxyXG4gICAgNTg3LCAgLy8gRW1vbGdhIChHZW4gNSlcclxuICAgIDcwMiwgIC8vIERlZGVubmUgKEdlbiA2KVxyXG4gICAgNzc3LCAgLy8gVG9nZWRlbWFydSAoR2VuIDcpXHJcbiAgICA4MzUsICAvLyBZYW1wZXIgKEdlbiA4KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gUm9jayB0eXBlIC0gQ29tbW9uIHJvY2sgUG9rZW1vblxyXG4gIHJvY2s6IFtcclxuICAgIDc0LCAgIC8vIEdlb2R1ZGUgKEdlbiAxKVxyXG4gICAgOTUsICAgLy8gT25peCAoR2VuIDEpXHJcbiAgICAxMzgsICAvLyBPbWFueXRlIChHZW4gMSlcclxuICAgIDE0MCwgIC8vIEthYnV0byAoR2VuIDEpXHJcbiAgICAyMTMsICAvLyBTaHVja2xlIChHZW4gMilcclxuICAgIDI5OSwgIC8vIE5vc2VwYXNzIChHZW4gMylcclxuICAgIDMwNCwgIC8vIEFyb24gKEdlbiAzKVxyXG4gICAgNDA4LCAgLy8gQ3Jhbmlkb3MgKEdlbiA0KVxyXG4gICAgNDEwLCAgLy8gU2hpZWxkb24gKEdlbiA0KVxyXG4gICAgNTI0LCAgLy8gUm9nZ2Vucm9sYSAoR2VuIDUpXHJcbiAgICA1NTcsICAvLyBEd2ViYmxlIChHZW4gNSlcclxuICAgIDY4OCwgIC8vIEJpbmFjbGUgKEdlbiA2KVxyXG4gICAgNjk2LCAgLy8gVHlydW50IChHZW4gNilcclxuICAgIDc0NCwgIC8vIFJvY2tydWZmIChHZW4gNylcclxuICAgIDgzNywgIC8vIFJvbHljb2x5IChHZW4gOClcclxuICBdLFxyXG4gIFxyXG4gIC8vIEdyb3VuZCB0eXBlIC0gQ29tbW9uIGdyb3VuZCBQb2tlbW9uXHJcbiAgZ3JvdW5kOiBbXHJcbiAgICAyNywgICAvLyBTYW5kc2hyZXcgKEdlbiAxKVxyXG4gICAgNTAsICAgLy8gRGlnbGV0dCAoR2VuIDEpXHJcbiAgICAxMDQsICAvLyBDdWJvbmUgKEdlbiAxKVxyXG4gICAgMjA3LCAgLy8gR2xpZ2FyIChHZW4gMilcclxuICAgIDIzMSwgIC8vIFBoYW5weSAoR2VuIDIpXHJcbiAgICAzMjgsICAvLyBUcmFwaW5jaCAoR2VuIDMpXHJcbiAgICA0NDksICAvLyBIaXBwb3BvdGFzIChHZW4gNClcclxuICAgIDUyOSwgIC8vIERyaWxidXIgKEdlbiA1KVxyXG4gICAgNTUxLCAgLy8gU2FuZGlsZSAoR2VuIDUpXHJcbiAgICA2NTksICAvLyBCdW5uZWxieSAoR2VuIDYpXHJcbiAgICA3NDksICAvLyBNdWRicmF5IChHZW4gNylcclxuICAgIDg0MywgIC8vIFNpbGljb2JyYSAoR2VuIDgpXHJcbiAgXSxcclxuICBcclxuICAvLyBQb2lzb24gdHlwZSAtIENvbW1vbiBwb2lzb24gUG9rZW1vblxyXG4gIHBvaXNvbjogW1xyXG4gICAgMjMsICAgLy8gRWthbnMgKEdlbiAxKVxyXG4gICAgMjksICAgLy8gTmlkb3JhbuKZgCAoR2VuIDEpXHJcbiAgICAzMiwgICAvLyBOaWRvcmFu4pmCIChHZW4gMSlcclxuICAgIDQxLCAgIC8vIFp1YmF0IChHZW4gMSlcclxuICAgIDg4LCAgIC8vIEdyaW1lciAoR2VuIDEpXHJcbiAgICAxMDksICAvLyBLb2ZmaW5nIChHZW4gMSlcclxuICAgIDMxNiwgIC8vIEd1bHBpbiAoR2VuIDMpXHJcbiAgICAzMzYsICAvLyBTZXZpcGVyIChHZW4gMylcclxuICAgIDQ1MSwgIC8vIFNrb3J1cGkgKEdlbiA0KVxyXG4gICAgNDUzLCAgLy8gQ3JvYWd1bmsgKEdlbiA0KVxyXG4gICAgNTQzLCAgLy8gVmVuaXBlZGUgKEdlbiA1KVxyXG4gICAgNTY4LCAgLy8gVHJ1YmJpc2ggKEdlbiA1KVxyXG4gICAgNzU3LCAgLy8gU2FsYW5kaXQgKEdlbiA3KVxyXG4gICAgODQ4LCAgLy8gVG94ZWwgKEdlbiA4KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gRmlnaHRpbmcgdHlwZSAtIENvbW1vbiBmaWdodGluZyBQb2tlbW9uXHJcbiAgZmlnaHRpbmc6IFtcclxuICAgIDU2LCAgIC8vIE1hbmtleSAoR2VuIDEpXHJcbiAgICA2NiwgICAvLyBNYWNob3AgKEdlbiAxKVxyXG4gICAgMjM2LCAgLy8gVHlyb2d1ZSAoR2VuIDIpXHJcbiAgICAyOTYsICAvLyBNYWt1aGl0YSAoR2VuIDMpXHJcbiAgICAzMDcsICAvLyBNZWRpdGl0ZSAoR2VuIDMpXHJcbiAgICA0NDcsICAvLyBSaW9sdSAoR2VuIDQpXHJcbiAgICA1MzIsICAvLyBUaW1idXJyIChHZW4gNSlcclxuICAgIDUzOCwgIC8vIFRocm9oIChHZW4gNSlcclxuICAgIDUzOSwgIC8vIFNhd2sgKEdlbiA1KVxyXG4gICAgNjc0LCAgLy8gUGFuY2hhbSAoR2VuIDYpXHJcbiAgICA3MzksICAvLyBDcmFicmF3bGVyIChHZW4gNylcclxuICAgIDc1OSwgIC8vIFN0dWZmdWwgKEdlbiA3KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gUHN5Y2hpYyB0eXBlIC0gQ29tbW9uIHBzeWNoaWMgUG9rZW1vblxyXG4gIHBzeWNoaWM6IFtcclxuICAgIDYzLCAgIC8vIEFicmEgKEdlbiAxKVxyXG4gICAgOTYsICAgLy8gRHJvd3plZSAoR2VuIDEpXHJcbiAgICAxMjIsICAvLyBNci4gTWltZSAoR2VuIDEpXHJcbiAgICAxNzcsICAvLyBOYXR1IChHZW4gMilcclxuICAgIDI4MCwgIC8vIFJhbHRzIChHZW4gMylcclxuICAgIDMwNywgIC8vIE1lZGl0aXRlIChHZW4gMylcclxuICAgIDQzMywgIC8vIENoaW5nbGluZyAoR2VuIDQpXHJcbiAgICA1MTcsICAvLyBNdW5uYSAoR2VuIDUpXHJcbiAgICA1MjcsICAvLyBXb29iYXQgKEdlbiA1KVxyXG4gICAgNjA1LCAgLy8gRWxneWVtIChHZW4gNSlcclxuICAgIDY3NywgIC8vIEVzcHVyciAoR2VuIDYpXHJcbiAgICA3NjUsICAvLyBPcmFuZ3VydSAoR2VuIDcpXHJcbiAgICA4NTYsICAvLyBIYXRlbm5hIChHZW4gOClcclxuICBdLFxyXG4gIFxyXG4gIC8vIEljZSB0eXBlIC0gQ29tbW9uIGljZSBQb2tlbW9uXHJcbiAgaWNlOiBbXHJcbiAgICA4NiwgICAvLyBTZWVsIChHZW4gMSlcclxuICAgIDIxNSwgIC8vIFNuZWFzZWwgKEdlbiAyKVxyXG4gICAgMjIwLCAgLy8gU3dpbnViIChHZW4gMilcclxuICAgIDM2MSwgIC8vIFNub3J1bnQgKEdlbiAzKVxyXG4gICAgMzYzLCAgLy8gU3BoZWFsIChHZW4gMylcclxuICAgIDQ1OSwgIC8vIFNub3ZlciAoR2VuIDQpXHJcbiAgICA1ODIsICAvLyBWYW5pbGxpdGUgKEdlbiA1KVxyXG4gICAgNjEzLCAgLy8gQ3ViY2hvbyAoR2VuIDUpXHJcbiAgICA3MTIsICAvLyBCZXJnbWl0ZSAoR2VuIDYpXHJcbiAgICA4NzIsICAvLyBTbm9tIChHZW4gOClcclxuICBdLFxyXG4gIFxyXG4gIC8vIEdob3N0IHR5cGUgLSBDb21tb24gZ2hvc3QgUG9rZW1vblxyXG4gIGdob3N0OiBbXHJcbiAgICA5MiwgICAvLyBHYXN0bHkgKEdlbiAxKVxyXG4gICAgMjAwLCAgLy8gTWlzZHJlYXZ1cyAoR2VuIDIpXHJcbiAgICAzNTMsICAvLyBTaHVwcGV0IChHZW4gMylcclxuICAgIDM1NSwgIC8vIER1c2t1bGwgKEdlbiAzKVxyXG4gICAgNDI1LCAgLy8gRHJpZmxvb24gKEdlbiA0KVxyXG4gICAgNTYyLCAgLy8gWWFtYXNrIChHZW4gNSlcclxuICAgIDYwNywgIC8vIExpdHdpY2sgKEdlbiA1KVxyXG4gICAgNzA4LCAgLy8gUGhhbnR1bXAgKEdlbiA2KVxyXG4gICAgNzEwLCAgLy8gUHVtcGthYm9vIChHZW4gNilcclxuICAgIDc3OCwgIC8vIE1pbWlreXUgKEdlbiA3KVxyXG4gICAgODU0LCAgLy8gU2luaXN0ZWEgKEdlbiA4KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gRHJhZ29uIHR5cGUgLSBMZXNzIGNvbW1vbiBidXQgc3RpbGwgYXZhaWxhYmxlXHJcbiAgZHJhZ29uOiBbXHJcbiAgICAxNDcsICAvLyBEcmF0aW5pIChHZW4gMSlcclxuICAgIDM3MSwgIC8vIEJhZ29uIChHZW4gMylcclxuICAgIDQ0MywgIC8vIEdpYmxlIChHZW4gNClcclxuICAgIDYxMCwgIC8vIEF4ZXcgKEdlbiA1KVxyXG4gICAgNjMzLCAgLy8gRGVpbm8gKEdlbiA1KVxyXG4gICAgNzA0LCAgLy8gR29vbXkgKEdlbiA2KVxyXG4gICAgNzgwLCAgLy8gRHJhbXBhIChHZW4gNylcclxuICAgIDc4MiwgIC8vIEphbmdtby1vIChHZW4gNylcclxuICAgIDg4NCwgIC8vIER1cmFsdWRvbiAoR2VuIDgpXHJcbiAgXSxcclxuICBcclxuICAvLyBEYXJrIHR5cGUgLSBDb21tb24gZGFyayBQb2tlbW9uXHJcbiAgZGFyazogW1xyXG4gICAgMTk4LCAgLy8gTXVya3JvdyAoR2VuIDIpXHJcbiAgICAyMjgsICAvLyBIb3VuZG91ciAoR2VuIDIpXHJcbiAgICAyNjEsICAvLyBQb29jaHllbmEgKEdlbiAzKVxyXG4gICAgMzAyLCAgLy8gU2FibGV5ZSAoR2VuIDMpXHJcbiAgICA0MzQsICAvLyBTdHVua3kgKEdlbiA0KVxyXG4gICAgNTA5LCAgLy8gUHVycmxvaW4gKEdlbiA1KVxyXG4gICAgNjI0LCAgLy8gUGF3bmlhcmQgKEdlbiA1KVxyXG4gICAgNjI5LCAgLy8gVnVsbGFieSAoR2VuIDUpXHJcbiAgICA2ODYsICAvLyBJbmtheSAoR2VuIDYpXHJcbiAgICA4MjcsICAvLyBOaWNraXQgKEdlbiA4KVxyXG4gICAgODU5LCAgLy8gSW1waWRpbXAgKEdlbiA4KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gU3RlZWwgdHlwZSAtIENvbW1vbiBzdGVlbCBQb2tlbW9uXHJcbiAgc3RlZWw6IFtcclxuICAgIDgxLCAgIC8vIE1hZ25lbWl0ZSAoR2VuIDEpXHJcbiAgICA5NSwgICAvLyBPbml4IChHZW4gMSlcclxuICAgIDMwNCwgIC8vIEFyb24gKEdlbiAzKVxyXG4gICAgNDM2LCAgLy8gQnJvbnpvciAoR2VuIDQpXHJcbiAgICA1OTcsICAvLyBGZXJyb3NlZWQgKEdlbiA1KVxyXG4gICAgNTk5LCAgLy8gS2xpbmsgKEdlbiA1KVxyXG4gICAgNzA3LCAgLy8gS2xlZmtpIChHZW4gNilcclxuICAgIDgwOCwgIC8vIE1lbHRhbiAoR2VuIDcpXHJcbiAgICA4NzgsICAvLyBDdWZhbnQgKEdlbiA4KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gRmFpcnkgdHlwZSAtIENvbW1vbiBmYWlyeSBQb2tlbW9uIChHZW4gNispXHJcbiAgZmFpcnk6IFtcclxuICAgIDM1LCAgIC8vIENsZWZhaXJ5IChHZW4gMSlcclxuICAgIDM5LCAgIC8vIEppZ2dseXB1ZmYgKEdlbiAxKVxyXG4gICAgMTc0LCAgLy8gSWdnbHlidWZmIChHZW4gMilcclxuICAgIDE4MywgIC8vIE1hcmlsbCAoR2VuIDIpXHJcbiAgICAyODAsICAvLyBSYWx0cyAoR2VuIDMpXHJcbiAgICA0MzksICAvLyBNaW1lIEpyLiAoR2VuIDQpXHJcbiAgICA1NDYsICAvLyBDb3R0b25lZSAoR2VuIDUpXHJcbiAgICA2ODIsICAvLyBTcHJpdHplZSAoR2VuIDYpXHJcbiAgICA2ODQsICAvLyBTd2lybGl4IChHZW4gNilcclxuICAgIDcwMiwgIC8vIERlZGVubmUgKEdlbiA2KVxyXG4gICAgODY4LCAgLy8gTWlsY2VyeSAoR2VuIDgpXHJcbiAgXSxcclxufTtcclxuXHJcbi8vIEdldCBjb21tb24gSURzIGZvciB0eXBlXHJcbmZ1bmN0aW9uIGdldENvbW1vbklkc0ZvclR5cGUodHlwZTogc3RyaW5nKTogbnVtYmVyW10ge1xyXG4gIHJldHVybiBDT01NT05fUE9LRU1PTl9CWV9UWVBFW3R5cGVdIHx8IFsxNiwgMTksIDQzXTsgLy8gRGVmYXVsdCB0byBQaWRnZXksIFJhdHRhdGEsIENhdGVycGllXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQaWNrIHJhcml0eSBiYXNlZCBvbiB3ZWlnaHRlZCBkaXN0cmlidXRpb24gYW5kIHRyYWluZXIgbGV2ZWxcclxuICovXHJcbmZ1bmN0aW9uIHBpY2tSYXJpdHkodHJhaW5lckxldmVsOiBudW1iZXIpOiBTcGF3blJhcml0eSB7XHJcbiAgY29uc3QgciA9IE1hdGgucmFuZG9tKCk7XHJcbiAgbGV0IGN1bXVsYXRpdmUgPSAwO1xyXG4gIFxyXG4gIC8vIExlZ2VuZGFyeS9NeXRoaWMgcmVxdWlyZSB0cmFpbmVyIGxldmVsID49IDIwXHJcbiAgY29uc3QgY2FuU3Bhd25MZWdlbmRhcnkgPSB0cmFpbmVyTGV2ZWwgPj0gMjA7XHJcbiAgXHJcbiAgLy8gQWRqdXN0IHdlaWdodHMgaWYgbGVnZW5kYXJ5IG5vdCBhdmFpbGFibGVcclxuICBjb25zdCB3ZWlnaHRzID0geyAuLi5SQVJJVFlfV0VJR0hUUyB9O1xyXG4gIGlmICghY2FuU3Bhd25MZWdlbmRhcnkpIHtcclxuICAgIC8vIFJlZGlzdHJpYnV0ZSBsZWdlbmRhcnkgd2VpZ2h0IHRvIG90aGVyIHJhcml0aWVzXHJcbiAgICBjb25zdCByZWRpc3RyaWJ1dGlvbiA9IHdlaWdodHMubGVnZW5kYXJ5IC8gNDtcclxuICAgIHdlaWdodHMuY29tbW9uICs9IHJlZGlzdHJpYnV0aW9uO1xyXG4gICAgd2VpZ2h0cy51bmNvbW1vbiArPSByZWRpc3RyaWJ1dGlvbjtcclxuICAgIHdlaWdodHMucmFyZSArPSByZWRpc3RyaWJ1dGlvbjtcclxuICAgIHdlaWdodHMuZXBpYyArPSByZWRpc3RyaWJ1dGlvbjtcclxuICAgIHdlaWdodHMubGVnZW5kYXJ5ID0gMDtcclxuICB9XHJcbiAgXHJcbiAgLy8gU2xpZ2h0bHkgaW5jcmVhc2UgYmV0dGVyIHNwYXduIGNoYW5jZXMgd2l0aCBsZXZlbFxyXG4gIGNvbnN0IGxldmVsQm9udXMgPSBNYXRoLm1pbih0cmFpbmVyTGV2ZWwgKiAwLjAwNSwgMC4xKTsgLy8gTWF4IDEwJSBib251cyBhdCBsZXZlbCAyMFxyXG4gIHdlaWdodHMucmFyZSArPSBsZXZlbEJvbnVzO1xyXG4gIHdlaWdodHMuZXBpYyArPSBsZXZlbEJvbnVzIC8gMjtcclxuICB3ZWlnaHRzLmNvbW1vbiAtPSBsZXZlbEJvbnVzICogMS41OyAvLyBSZWR1Y2UgY29tbW9uIHNwYXduc1xyXG4gIFxyXG4gIGZvciAoY29uc3QgW3Jhcml0eSwgd2VpZ2h0XSBvZiBPYmplY3QuZW50cmllcyh3ZWlnaHRzKSBhcyBbU3Bhd25SYXJpdHksIG51bWJlcl1bXSkge1xyXG4gICAgY3VtdWxhdGl2ZSArPSB3ZWlnaHQ7XHJcbiAgICBpZiAociA8IGN1bXVsYXRpdmUpIHJldHVybiByYXJpdHk7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBcImNvbW1vblwiO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBmZXRjaFBva2Vtb24ocG9rZUlkOiBudW1iZXIpIHtcclxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9wb2tlYXBpLmNvL2FwaS92Mi9wb2tlbW9uLyR7cG9rZUlkfWApO1xyXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xyXG4gIGNvbnN0IHR5cGVzOiBzdHJpbmdbXSA9IGRhdGEudHlwZXM/Lm1hcCgodDogYW55KSA9PiB0LnR5cGUubmFtZSkgfHwgW107XHJcbiAgY29uc3Qgc3ByaXRlVXJsID0gZGF0YT8uc3ByaXRlcz8uZnJvbnRfZGVmYXVsdCB8fCBkYXRhPy5zcHJpdGVzPy5vdGhlcj8uW1wib2ZmaWNpYWwtYXJ0d29ya1wiXT8uZnJvbnRfZGVmYXVsdDtcclxuICByZXR1cm4geyBkYXRhLCB0eXBlcywgc3ByaXRlVXJsLCBuYW1lOiBkYXRhLm5hbWUgfTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hTcGVjaWVzKHBva2VJZDogbnVtYmVyKSB7XHJcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vcG9rZWFwaS5jby9hcGkvdjIvcG9rZW1vbi1zcGVjaWVzLyR7cG9rZUlkfWApO1xyXG4gIHJldHVybiByZXMuanNvbigpO1xyXG59XHJcblxyXG4vLyBIZXVyaXN0aWMgcmFyaXR5IHRpZXJpbmcgYmFzZWQgb24gc3BlY2llcyBmbGFncyBhbmQgY2FwdHVyZV9yYXRlXHJcbmZ1bmN0aW9uIGNsYXNzaWZ5UmFyaXR5KHNwZWNpZXM6IGFueSwgcG9rZUlkOiBudW1iZXIpOiBTcGF3blJhcml0eSB7XHJcbiAgLy8gQ2hlY2sgaWYgbGVnZW5kYXJ5IG9yIG15dGhpY2FsXHJcbiAgaWYgKExFR0VOREFSWV9JRFMuaW5jbHVkZXMocG9rZUlkKSB8fCBNWVRISUNBTF9JRFMuaW5jbHVkZXMocG9rZUlkKSkgcmV0dXJuIFwibGVnZW5kYXJ5XCI7XHJcbiAgaWYgKHNwZWNpZXM/LmlzX2xlZ2VuZGFyeSB8fCBzcGVjaWVzPy5pc19teXRoaWNhbCkgcmV0dXJuIFwibGVnZW5kYXJ5XCI7XHJcbiAgXHJcbiAgY29uc3QgcmF0ZSA9IHNwZWNpZXM/LmNhcHR1cmVfcmF0ZSA/PyA0NTsgLy8gMC0yNTUgaGlnaGVyID0gZWFzaWVyXHJcbiAgXHJcbiAgLy8gQ2xhc3NpZnkgYmFzZWQgb24gY2FwdHVyZSByYXRlXHJcbiAgaWYgKHJhdGUgPj0gMjAwKSByZXR1cm4gXCJjb21tb25cIjsgICAgIC8vIFZlcnkgZWFzeVxyXG4gIGlmIChyYXRlID49IDEyMCkgcmV0dXJuIFwidW5jb21tb25cIjsgICAvLyBFYXN5XHJcbiAgaWYgKHJhdGUgPj0gNzUpIHJldHVybiBcInJhcmVcIjsgICAgICAgIC8vIE1vZGVyYXRlXHJcbiAgaWYgKHJhdGUgPj0gNDUpIHJldHVybiBcImVwaWNcIjsgICAgICAgIC8vIEhhcmRcclxuICByZXR1cm4gXCJsZWdlbmRhcnlcIjsgICAgICAgICAgICAgICAgICAgLy8gVmVyeSBoYXJkXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTcGF3bk1hbmFnZXIgZXh0ZW5kcyBQaGFzZXIuRXZlbnRzLkV2ZW50RW1pdHRlciB7XHJcbiAgcHJpdmF0ZSBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gIHByaXZhdGUgdGlsZVNpemU6IG51bWJlcjtcclxuICBwcml2YXRlIG1hcFdpZHRoVGlsZXM6IG51bWJlcjtcclxuICBwcml2YXRlIG1hcEhlaWdodFRpbGVzOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSB6b25lczogUmV0dXJuVHlwZTx0eXBlb2YgZ2VuZXJhdGVab25lcz4gPSBbXTtcclxuICBwcml2YXRlIHpvbmVDb2xzID0gMDtcclxuICBwcml2YXRlIHpvbmVSb3dzID0gMDtcclxuICBwcml2YXRlIGFjdGl2ZTogTWFwPHN0cmluZywgU3Bhd25SZWNvcmQ+ID0gbmV3IE1hcCgpO1xyXG4gIHByaXZhdGUgY3VycmVudFpvbmUgPSB7IGNvbDogMCwgcm93OiAwLCBpZDogXCIwLDBcIiB9O1xyXG4gIHByaXZhdGUgc3Bhd25UaW1lcj86IFBoYXNlci5UaW1lLlRpbWVyRXZlbnQ7XHJcbiAgcHJpdmF0ZSBvdmVycmlkZVR5cGVzOiBzdHJpbmdbXSB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgdHJhaW5lckxldmVsOiBudW1iZXIgPSAxOyAvLyBUcmFpbmVyIGxldmVsIGZvciBzcGF3biBiYWxhbmNpbmdcclxuXHJcbiAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSwgdGlsZVNpemU6IG51bWJlciwgbWFwV2lkdGhUaWxlczogbnVtYmVyLCBtYXBIZWlnaHRUaWxlczogbnVtYmVyLCB0cmFpbmVyTGV2ZWw6IG51bWJlciA9IDEpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICB0aGlzLnRpbGVTaXplID0gdGlsZVNpemU7XHJcbiAgICB0aGlzLm1hcFdpZHRoVGlsZXMgPSBtYXBXaWR0aFRpbGVzO1xyXG4gICAgdGhpcy5tYXBIZWlnaHRUaWxlcyA9IG1hcEhlaWdodFRpbGVzO1xyXG4gICAgdGhpcy50cmFpbmVyTGV2ZWwgPSB0cmFpbmVyTGV2ZWw7XHJcblxyXG4gICAgdGhpcy56b25lQ29scyA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IobWFwV2lkdGhUaWxlcyAvIFpPTkVfVElMRVMpKTtcclxuICAgIHRoaXMuem9uZVJvd3MgPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKG1hcEhlaWdodFRpbGVzIC8gWk9ORV9USUxFUykpO1xyXG4gICAgdGhpcy56b25lcyA9IGdlbmVyYXRlWm9uZXModGhpcy56b25lQ29scywgdGhpcy56b25lUm93cyk7XHJcbiAgfVxyXG5cclxuICBnZXRBY3RpdmVTcGF3bnMoKSB7IHJldHVybiBBcnJheS5mcm9tKHRoaXMuYWN0aXZlLnZhbHVlcygpKTsgfVxyXG4gIGdldFpvbmVHcmlkKCkgeyByZXR1cm4geyBjb2xzOiB0aGlzLnpvbmVDb2xzLCByb3dzOiB0aGlzLnpvbmVSb3dzLCB6b25lczogdGhpcy56b25lcyB9OyB9XHJcbiAgZ2V0Q3VycmVudFpvbmUoKSB7IHJldHVybiB0aGlzLmN1cnJlbnRab25lOyB9XHJcbiAgc2V0T3ZlcnJpZGVUeXBlcyh0eXBlczogc3RyaW5nW10gfCBudWxsKSB7IHRoaXMub3ZlcnJpZGVUeXBlcyA9IHR5cGVzOyB0aGlzLnRvcFVwU3Bhd25zKHRydWUpOyB9XHJcbiAgc2V0VHJhaW5lckxldmVsKGxldmVsOiBudW1iZXIpIHsgdGhpcy50cmFpbmVyTGV2ZWwgPSBsZXZlbDsgfVxyXG5cclxuICB1cGRhdGVQbGF5ZXJQb3MoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IHR4ID0gTWF0aC5mbG9vcih4IC8gdGhpcy50aWxlU2l6ZSk7XHJcbiAgICBjb25zdCB0eSA9IE1hdGguZmxvb3IoeSAvIHRoaXMudGlsZVNpemUpO1xyXG4gICAgY29uc3QgeiA9IGdldFpvbmVGb3JUaWxlKHR4LCB0eSwgdGhpcy56b25lQ29scywgdGhpcy56b25lUm93cyk7XHJcbiAgICBpZiAoei5pZCAhPT0gdGhpcy5jdXJyZW50Wm9uZS5pZCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRab25lID0gejtcclxuICAgICAgdGhpcy5lbWl0KFwiem9uZUNoYW5nZWRcIiwgeik7XHJcbiAgICAgIC8vIG9uIHpvbmUgY2hhbmdlLCB0cnkgdG8gdG9wIHVwIHNwYXducyBpbW1lZGlhdGVseVxyXG4gICAgICB0aGlzLnRvcFVwU3Bhd25zKHRydWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhcnQoKSB7XHJcbiAgICB0aGlzLnRvcFVwU3Bhd25zKHRydWUpO1xyXG4gICAgdGhpcy5zcGF3blRpbWVyPy5yZW1vdmUoZmFsc2UpO1xyXG4gICAgY29uc3Qgc2NoZWR1bGVOZXh0ID0gKCkgPT4ge1xyXG4gICAgICBjb25zdCBkZWxheSA9IFBoYXNlci5NYXRoLkJldHdlZW4oMjAwMDAsIDQwMDAwKTtcclxuICAgICAgdGhpcy5zcGF3blRpbWVyID0gdGhpcy5zY2VuZS50aW1lLmFkZEV2ZW50KHsgZGVsYXksIGxvb3A6IGZhbHNlLCBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudG9wVXBTcGF3bnMoZmFsc2UpO1xyXG4gICAgICAgIHNjaGVkdWxlTmV4dCgpO1xyXG4gICAgICB9fSk7XHJcbiAgICB9O1xyXG4gICAgc2NoZWR1bGVOZXh0KCk7XHJcbiAgfVxyXG5cclxuICBzdG9wKCkge1xyXG4gICAgdGhpcy5zcGF3blRpbWVyPy5yZW1vdmUoZmFsc2UpO1xyXG4gICAgdGhpcy5hY3RpdmUuZm9yRWFjaChyID0+IHRoaXMuZGVzcGF3bihyLmtleSkpO1xyXG4gICAgdGhpcy5hY3RpdmUuY2xlYXIoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgdG9wVXBTcGF3bnMoaW1tZWRpYXRlOiBib29sZWFuKSB7XHJcbiAgICBpZiAodGhpcy5hY3RpdmUuc2l6ZSA+PSBNQVhfQUNUSVZFKSByZXR1cm47XHJcbiAgICBjb25zdCBuZWVkID0gTWF0aC5taW4oTUFYX0FDVElWRSAtIHRoaXMuYWN0aXZlLnNpemUsIDIpOyAvLyBzcGF3biB1cCB0byAyIGF0IGEgdGltZVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWVkOyBpKyspIHtcclxuICAgICAgdHJ5IHsgYXdhaXQgdGhpcy5zcGF3bk9uZSgpOyB9IGNhdGNoIHsgLyogaWdub3JlIHRyYW5zaWVudCAqLyB9XHJcbiAgICAgIGlmICghaW1tZWRpYXRlKSBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0Q2FuZGlkYXRlWm9uZXMoKSB7XHJcbiAgICBjb25zdCBhcm91bmQgPSBnZXRBZGphY2VudFpvbmVDb29yZHModGhpcy5jdXJyZW50Wm9uZS5jb2wsIHRoaXMuY3VycmVudFpvbmUucm93LCB0aGlzLnpvbmVDb2xzLCB0aGlzLnpvbmVSb3dzLCAxKTtcclxuICAgIHJldHVybiBhcm91bmQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHBpY2tab25lQXJlYSh6b25lOiB7IGNvbDogbnVtYmVyOyByb3c6IG51bWJlciB9KSB7XHJcbiAgICBjb25zdCBzdGFydFggPSB6b25lLmNvbCAqIFpPTkVfVElMRVMgKiB0aGlzLnRpbGVTaXplO1xyXG4gICAgY29uc3Qgc3RhcnRZID0gem9uZS5yb3cgKiBaT05FX1RJTEVTICogdGhpcy50aWxlU2l6ZTtcclxuICAgIGNvbnN0IGVuZFggPSBzdGFydFggKyBaT05FX1RJTEVTICogdGhpcy50aWxlU2l6ZTtcclxuICAgIGNvbnN0IGVuZFkgPSBzdGFydFkgKyBaT05FX1RJTEVTICogdGhpcy50aWxlU2l6ZTtcclxuICAgIHJldHVybiB7IHN0YXJ0WCwgc3RhcnRZLCBlbmRYLCBlbmRZIH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIHNwYXduT25lKCkge1xyXG4gICAgY29uc3Qgem9uZXMgPSB0aGlzLmdldENhbmRpZGF0ZVpvbmVzKCk7XHJcbiAgICBjb25zdCBwaWNrZWQgPSBQaGFzZXIuVXRpbHMuQXJyYXkuR2V0UmFuZG9tKHpvbmVzKTtcclxuICAgIGNvbnN0IHpvbmVNZXRhID0gdGhpcy56b25lcy5maW5kKHogPT4gei5pZCA9PT0gcGlja2VkLmlkKSE7XHJcbiAgICBjb25zdCBiaW9tZTogQmlvbWUgPSB6b25lTWV0YS5iaW9tZSBhcyBhbnk7XHJcbiAgICBjb25zdCB0eXBlcyA9IHRoaXMub3ZlcnJpZGVUeXBlcyB8fCBCSU9NRV9UWVBFX1BPT0xTW2Jpb21lXTtcclxuXHJcbiAgICAvLyBQaWNrIHJhcml0eSB0YXJnZXQgYmFzZWQgb24gdHJhaW5lciBsZXZlbFxyXG4gICAgY29uc3QgdGFyZ2V0ID0gcGlja1Jhcml0eSh0aGlzLnRyYWluZXJMZXZlbCk7XHJcblxyXG4gICAgLy8gRm9yIGNvbW1vbiBzcGF3bnMsIHByaW9yaXRpemUgY29tbW9uIFBva2Vtb24gSURzXHJcbiAgICBsZXQgY2hvc2VuOiB7IGlkOiBudW1iZXI7IG5hbWU6IHN0cmluZzsgc3ByaXRlVXJsOiBzdHJpbmc7IHR5cGVzOiBzdHJpbmdbXTsgcmFyaXR5OiBTcGF3blJhcml0eSB9IHwgbnVsbCA9IG51bGw7XHJcbiAgICBcclxuICAgIGlmICh0YXJnZXQgPT09IFwiY29tbW9uXCIpIHtcclxuICAgICAgLy8gVHJ5IHRvIHNwYXduIGNvbW1vbiBQb2tlbW9uIGZpcnN0XHJcbiAgICAgIGNvbnN0IHR5cGVUb1VzZSA9IFBoYXNlci5VdGlscy5BcnJheS5HZXRSYW5kb20odHlwZXMpO1xyXG4gICAgICBjb25zdCBjb21tb25JZHMgPSBnZXRDb21tb25JZHNGb3JUeXBlKHR5cGVUb1VzZSk7XHJcbiAgICAgIGNvbnN0IGlkID0gUGhhc2VyLlV0aWxzLkFycmF5LkdldFJhbmRvbShjb21tb25JZHMpO1xyXG4gICAgICBcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwID0gYXdhaXQgZmV0Y2hQb2tlbW9uKGlkKTtcclxuICAgICAgICBpZiAocC5zcHJpdGVVcmwpIHtcclxuICAgICAgICAgIGNvbnN0IHNwZWNpZXMgPSBhd2FpdCBmZXRjaFNwZWNpZXMoaWQpO1xyXG4gICAgICAgICAgY29uc3QgcmFyaXR5ID0gY2xhc3NpZnlSYXJpdHkoc3BlY2llcywgaWQpO1xyXG4gICAgICAgICAgY2hvc2VuID0geyBpZCwgbmFtZTogcC5uYW1lLCBzcHJpdGVVcmw6IHAuc3ByaXRlVXJsLCB0eXBlczogcC50eXBlcywgcmFyaXR5IH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIHt9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIElmIGNvbW1vbiBmYWlsZWQgb3IgdGFyZ2V0aW5nIG90aGVyIHJhcml0eSwgdXNlIHJhbmRvbSBzZWFyY2hcclxuICAgIGlmICghY2hvc2VuKSB7XHJcbiAgICAgIGZvciAobGV0IHRyaWVzID0gMDsgdHJpZXMgPCAxNTsgdHJpZXMrKykge1xyXG4gICAgICAgIGxldCBpZCA9IFBoYXNlci5NYXRoLkJldHdlZW4oMSwgODk4KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBGb3IgbGVnZW5kYXJ5IHRhcmdldCwgb25seSBjaGVjayBsZWdlbmRhcnkgSURzIGlmIHRyYWluZXIgbGV2ZWwgYWxsb3dzXHJcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gXCJsZWdlbmRhcnlcIiAmJiB0aGlzLnRyYWluZXJMZXZlbCA+PSAyMCkge1xyXG4gICAgICAgICAgaWQgPSBQaGFzZXIuVXRpbHMuQXJyYXkuR2V0UmFuZG9tKFsuLi5MRUdFTkRBUllfSURTLCAuLi5NWVRISUNBTF9JRFNdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgcCA9IGF3YWl0IGZldGNoUG9rZW1vbihpZCk7XHJcbiAgICAgICAgaWYgKCFwLnNwcml0ZVVybCkgY29udGludWU7XHJcbiAgICAgICAgaWYgKCFwLnR5cGVzLnNvbWUodCA9PiB0eXBlcy5pbmNsdWRlcyh0KSkpIGNvbnRpbnVlOyAvLyBub3QgbWF0Y2hpbmcgYmlvbWVcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBzcGVjaWVzID0gYXdhaXQgZmV0Y2hTcGVjaWVzKGlkKTtcclxuICAgICAgICBjb25zdCByID0gY2xhc3NpZnlSYXJpdHkoc3BlY2llcywgaWQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFsbG93IHNvbWUgZmxleGliaWxpdHkgaW4gcmFyaXR5IG1hdGNoaW5nXHJcbiAgICAgICAgaWYgKHIgIT09IHRhcmdldCAmJiBNYXRoLnJhbmRvbSgpID4gMC4zKSBjb250aW51ZTtcclxuICAgICAgICBcclxuICAgICAgICBjaG9zZW4gPSB7IGlkLCBuYW1lOiBwLm5hbWUsIHNwcml0ZVVybDogcC5zcHJpdGVVcmwsIHR5cGVzOiBwLnR5cGVzLCByYXJpdHk6IHIgfTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFjaG9zZW4pIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBhcmVhID0gdGhpcy5waWNrWm9uZUFyZWEocGlja2VkKTtcclxuICAgIGNvbnN0IHggPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKGFyZWEuc3RhcnRYICsgMTIsIGFyZWEuZW5kWCAtIDEyKTtcclxuICAgIGNvbnN0IHkgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKGFyZWEuc3RhcnRZICsgMTIsIGFyZWEuZW5kWSAtIDEyKTtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgUG9rZW1vbiBsZXZlbCBiYXNlZCBvbiB0cmFpbmVyIGxldmVsIGFuZCByYXJpdHlcclxuICAgIGNvbnN0IGJhc2VMZXZlbCA9IE1hdGgubWF4KDEsIHRoaXMudHJhaW5lckxldmVsIC0gMiArIFBoYXNlci5NYXRoLkJldHdlZW4oLTEsIDMpKTtcclxuICAgIGNvbnN0IHJhcml0eUJvbnVzID0gY2hvc2VuLnJhcml0eSA9PT0gXCJsZWdlbmRhcnlcIiA/IDUgOiBjaG9zZW4ucmFyaXR5ID09PSBcImVwaWNcIiA/IDMgOiBjaG9zZW4ucmFyaXR5ID09PSBcInJhcmVcIiA/IDIgOiAwO1xyXG4gICAgY29uc3QgcG9rZW1vbkxldmVsID0gTWF0aC5tYXgoMSwgYmFzZUxldmVsICsgcmFyaXR5Qm9udXMpO1xyXG5cclxuICAgIGNvbnN0IGtleSA9IGBzcGF3bi0ke2Nob3Nlbi5pZH0tJHtEYXRlLm5vdygpfWA7XHJcbiAgICBjb25zdCBzcHJpdGUgPSB0aGlzLnNjZW5lLmFkZC5pbWFnZSh4LCB5LCBgcGttbi0ke2Nob3Nlbi5pZH1gKS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIGlmICghdGhpcy5zY2VuZS50ZXh0dXJlcy5leGlzdHMoYHBrbW4tJHtjaG9zZW4uaWR9YCkpIHtcclxuICAgICAgYXdhaXQgbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcclxuICAgICAgICB0aGlzLnNjZW5lLmxvYWQub25jZShQaGFzZXIuTG9hZGVyLkV2ZW50cy5DT01QTEVURSwgKCkgPT4gcmVzb2x2ZSgpKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmxvYWQuaW1hZ2UoYHBrbW4tJHtjaG9zZW4uaWR9YCwgY2hvc2VuIS5zcHJpdGVVcmwpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUubG9hZC5zdGFydCgpO1xyXG4gICAgICB9KTtcclxuICAgICAgc3ByaXRlLnNldFRleHR1cmUoYHBrbW4tJHtjaG9zZW4uaWR9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3ByaXRlLnNldERlcHRoKDIwKS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICBzcHJpdGUuc2V0U2NhbGUoMC4xKS5zZXRBbHBoYSgwKTtcclxuICAgIHNwcml0ZS5vbihcInBvaW50ZXJkb3duXCIsICgpID0+IHRoaXMuZW1pdChcInNwYXduQ2xpY2tlZFwiLCBrZXkpKTtcclxuXHJcbiAgICAvLyBlbWVyZ2UgYW5pbWF0aW9uIC0gdmFyeSBieSByYXJpdHlcclxuICAgIHNwcml0ZS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgY29uc3Qgc2NhbGVGYWN0b3IgPSBjaG9zZW4ucmFyaXR5ID09PSBcImxlZ2VuZGFyeVwiID8gMS41IDogY2hvc2VuLnJhcml0eSA9PT0gXCJlcGljXCIgPyAxLjMgOiAxLjI7XHJcbiAgICB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoeyBcclxuICAgICAgdGFyZ2V0czogc3ByaXRlLCBcclxuICAgICAgYWxwaGE6IDEsIFxyXG4gICAgICBzY2FsZTogc2NhbGVGYWN0b3IsIFxyXG4gICAgICBkdXJhdGlvbjogMzAwLCBcclxuICAgICAgeW95bzogdHJ1ZSwgXHJcbiAgICAgIGVhc2U6IFwic2luZS5vdXRcIiwgXHJcbiAgICAgIG9uQ29tcGxldGU6ICgpID0+IHNwcml0ZS5zZXRTY2FsZShjaG9zZW4ucmFyaXR5ID09PSBcImxlZ2VuZGFyeVwiID8gMS4yIDogMSkgXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCByZWM6IFNwYXduUmVjb3JkID0ge1xyXG4gICAgICBrZXksXHJcbiAgICAgIG5hbWU6IGNob3Nlbi5uYW1lLFxyXG4gICAgICBwb2tlSWQ6IGNob3Nlbi5pZCxcclxuICAgICAgdHlwZXM6IGNob3Nlbi50eXBlcyxcclxuICAgICAgc3ByaXRlVXJsOiBjaG9zZW4uc3ByaXRlVXJsLFxyXG4gICAgICBwb3NpdGlvbjogeyB4LCB5IH0sXHJcbiAgICAgIHpvbmU6IHBpY2tlZCxcclxuICAgICAgc3ByaXRlLFxyXG4gICAgICBsZXZlbDogcG9rZW1vbkxldmVsLFxyXG4gICAgICByYXJpdHk6IGNob3Nlbi5yYXJpdHksXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGRlc3Bhd24gYWZ0ZXIgdGltZSBiYXNlZCBvbiByYXJpdHkgKGxlZ2VuZGFyeSBsYXN0cyBsb25nZXIpXHJcbiAgICBjb25zdCBkZXNwYXduVGltZSA9IGNob3Nlbi5yYXJpdHkgPT09IFwibGVnZW5kYXJ5XCIgPyA5MDAwMCA6IGNob3Nlbi5yYXJpdHkgPT09IFwiZXBpY1wiID8gNzUwMDAgOiA2MDAwMDtcclxuICAgIHJlYy50aW1lb3V0ID0gdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKGRlc3Bhd25UaW1lLCAoKSA9PiB0aGlzLmRlc3Bhd24oa2V5KSk7XHJcblxyXG4gICAgdGhpcy5hY3RpdmUuc2V0KGtleSwgcmVjKTtcclxuICAgIHRoaXMuZW1pdChcInNwYXduZWRcIiwgcmVjKTtcclxuICB9XHJcblxyXG4gIGRlc3Bhd24oa2V5OiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHJlYyA9IHRoaXMuYWN0aXZlLmdldChrZXkpO1xyXG4gICAgaWYgKCFyZWMpIHJldHVybjtcclxuICAgIGlmIChyZWMudGltZW91dCkgcmVjLnRpbWVvdXQucmVtb3ZlKGZhbHNlKTtcclxuICAgIGlmIChyZWMuc3ByaXRlKSB7XHJcbiAgICAgIHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7IHRhcmdldHM6IHJlYy5zcHJpdGUsIGFscGhhOiAwLCBkdXJhdGlvbjogNDAwLCBvbkNvbXBsZXRlOiAoKSA9PiByZWMuc3ByaXRlPy5kZXN0cm95KCkgfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmVtaXQoXCJkZXNwYXduZWRcIiwga2V5KTtcclxuICAgIHRoaXMuYWN0aXZlLmRlbGV0ZShrZXkpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiUGhhc2VyIiwiQklPTUVfVFlQRV9QT09MUyIsIlpPTkVfVElMRVMiLCJnZW5lcmF0ZVpvbmVzIiwiZ2V0QWRqYWNlbnRab25lQ29vcmRzIiwiZ2V0Wm9uZUZvclRpbGUiLCJNQVhfQUNUSVZFIiwiUkFSSVRZX1dFSUdIVFMiLCJjb21tb24iLCJ1bmNvbW1vbiIsInJhcmUiLCJlcGljIiwibGVnZW5kYXJ5IiwiTEVHRU5EQVJZX0lEUyIsIk1ZVEhJQ0FMX0lEUyIsIkNPTU1PTl9QT0tFTU9OX0JZX1RZUEUiLCJub3JtYWwiLCJncmFzcyIsImJ1ZyIsImZseWluZyIsIndhdGVyIiwiZmlyZSIsImVsZWN0cmljIiwicm9jayIsImdyb3VuZCIsInBvaXNvbiIsImZpZ2h0aW5nIiwicHN5Y2hpYyIsImljZSIsImdob3N0IiwiZHJhZ29uIiwiZGFyayIsInN0ZWVsIiwiZmFpcnkiLCJnZXRDb21tb25JZHNGb3JUeXBlIiwidHlwZSIsInBpY2tSYXJpdHkiLCJ0cmFpbmVyTGV2ZWwiLCJyIiwiTWF0aCIsInJhbmRvbSIsImN1bXVsYXRpdmUiLCJjYW5TcGF3bkxlZ2VuZGFyeSIsIndlaWdodHMiLCJyZWRpc3RyaWJ1dGlvbiIsImxldmVsQm9udXMiLCJtaW4iLCJyYXJpdHkiLCJ3ZWlnaHQiLCJPYmplY3QiLCJlbnRyaWVzIiwiZmV0Y2hQb2tlbW9uIiwicG9rZUlkIiwicmVzIiwiZmV0Y2giLCJkYXRhIiwianNvbiIsInR5cGVzIiwibWFwIiwidCIsIm5hbWUiLCJzcHJpdGVVcmwiLCJzcHJpdGVzIiwiZnJvbnRfZGVmYXVsdCIsIm90aGVyIiwiZmV0Y2hTcGVjaWVzIiwiY2xhc3NpZnlSYXJpdHkiLCJzcGVjaWVzIiwiaW5jbHVkZXMiLCJpc19sZWdlbmRhcnkiLCJpc19teXRoaWNhbCIsInJhdGUiLCJjYXB0dXJlX3JhdGUiLCJTcGF3bk1hbmFnZXIiLCJFdmVudHMiLCJFdmVudEVtaXR0ZXIiLCJzY2VuZSIsInRpbGVTaXplIiwibWFwV2lkdGhUaWxlcyIsIm1hcEhlaWdodFRpbGVzIiwiem9uZXMiLCJ6b25lQ29scyIsInpvbmVSb3dzIiwiYWN0aXZlIiwiTWFwIiwiY3VycmVudFpvbmUiLCJjb2wiLCJyb3ciLCJpZCIsIm92ZXJyaWRlVHlwZXMiLCJtYXgiLCJmbG9vciIsImdldEFjdGl2ZVNwYXducyIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsImdldFpvbmVHcmlkIiwiY29scyIsInJvd3MiLCJnZXRDdXJyZW50Wm9uZSIsInNldE92ZXJyaWRlVHlwZXMiLCJ0b3BVcFNwYXducyIsInNldFRyYWluZXJMZXZlbCIsImxldmVsIiwidXBkYXRlUGxheWVyUG9zIiwieCIsInkiLCJ0eCIsInR5IiwieiIsImVtaXQiLCJzdGFydCIsInNwYXduVGltZXIiLCJyZW1vdmUiLCJzY2hlZHVsZU5leHQiLCJkZWxheSIsIkJldHdlZW4iLCJ0aW1lIiwiYWRkRXZlbnQiLCJsb29wIiwiY2FsbGJhY2siLCJzdG9wIiwiZm9yRWFjaCIsImRlc3Bhd24iLCJrZXkiLCJjbGVhciIsImltbWVkaWF0ZSIsInNpemUiLCJuZWVkIiwiaSIsInNwYXduT25lIiwiZ2V0Q2FuZGlkYXRlWm9uZXMiLCJhcm91bmQiLCJwaWNrWm9uZUFyZWEiLCJ6b25lIiwic3RhcnRYIiwic3RhcnRZIiwiZW5kWCIsImVuZFkiLCJwaWNrZWQiLCJVdGlscyIsIkdldFJhbmRvbSIsInpvbmVNZXRhIiwiZmluZCIsImJpb21lIiwidGFyZ2V0IiwiY2hvc2VuIiwidHlwZVRvVXNlIiwiY29tbW9uSWRzIiwicCIsInRyaWVzIiwic29tZSIsImFyZWEiLCJiYXNlTGV2ZWwiLCJyYXJpdHlCb251cyIsInBva2Vtb25MZXZlbCIsIkRhdGUiLCJub3ciLCJzcHJpdGUiLCJhZGQiLCJpbWFnZSIsInNldFZpc2libGUiLCJ0ZXh0dXJlcyIsImV4aXN0cyIsIlByb21pc2UiLCJyZXNvbHZlIiwibG9hZCIsIm9uY2UiLCJMb2FkZXIiLCJDT01QTEVURSIsInNldFRleHR1cmUiLCJzZXREZXB0aCIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsInNldFNjYWxlIiwic2V0QWxwaGEiLCJvbiIsInNjYWxlRmFjdG9yIiwidHdlZW5zIiwidGFyZ2V0cyIsImFscGhhIiwic2NhbGUiLCJkdXJhdGlvbiIsInlveW8iLCJlYXNlIiwib25Db21wbGV0ZSIsInJlYyIsInBvc2l0aW9uIiwiZGVzcGF3blRpbWUiLCJ0aW1lb3V0IiwiZGVsYXllZENhbGwiLCJzZXQiLCJnZXQiLCJkZXN0cm95IiwiZGVsZXRlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./lib/spawnUtils.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./lib/typeEffectiveness.ts":
/*!**********************************!*\
  !*** ./lib/typeEffectiveness.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MOVES: () => (/* binding */ MOVES),\n/* harmony export */   TYPE_EFFECTIVENESS: () => (/* binding */ TYPE_EFFECTIVENESS),\n/* harmony export */   calculateDamage: () => (/* binding */ calculateDamage),\n/* harmony export */   getEffectivenessText: () => (/* binding */ getEffectivenessText),\n/* harmony export */   getMoveData: () => (/* binding */ getMoveData),\n/* harmony export */   getTypeEffectiveness: () => (/* binding */ getTypeEffectiveness)\n/* harmony export */ });\n/**\r\n * Pokemon Type Effectiveness Chart and Damage Calculation\r\n * Based on canonical Pokemon mechanics\r\n */ const TYPE_EFFECTIVENESS = {\n    normal: {\n        rock: 0.5,\n        ghost: 0.0,\n        steel: 0.5\n    },\n    fire: {\n        fire: 0.5,\n        water: 0.5,\n        grass: 2.0,\n        ice: 2.0,\n        bug: 2.0,\n        rock: 0.5,\n        dragon: 0.5,\n        steel: 2.0\n    },\n    water: {\n        fire: 2.0,\n        water: 0.5,\n        grass: 0.5,\n        ground: 2.0,\n        rock: 2.0,\n        dragon: 0.5\n    },\n    electric: {\n        water: 2.0,\n        electric: 0.5,\n        grass: 0.5,\n        ground: 0.0,\n        flying: 2.0,\n        dragon: 0.5\n    },\n    grass: {\n        fire: 0.5,\n        water: 2.0,\n        grass: 0.5,\n        poison: 0.5,\n        ground: 2.0,\n        flying: 0.5,\n        bug: 0.5,\n        rock: 2.0,\n        dragon: 0.5,\n        steel: 0.5\n    },\n    ice: {\n        fire: 0.5,\n        water: 0.5,\n        grass: 2.0,\n        ice: 0.5,\n        ground: 2.0,\n        flying: 2.0,\n        dragon: 2.0,\n        steel: 0.5\n    },\n    fighting: {\n        normal: 2.0,\n        ice: 2.0,\n        poison: 0.5,\n        flying: 0.5,\n        psychic: 0.5,\n        bug: 0.5,\n        rock: 2.0,\n        ghost: 0.0,\n        dark: 2.0,\n        steel: 2.0,\n        fairy: 0.5\n    },\n    poison: {\n        grass: 2.0,\n        poison: 0.5,\n        ground: 0.5,\n        rock: 0.5,\n        ghost: 0.5,\n        steel: 0.0,\n        fairy: 2.0\n    },\n    ground: {\n        fire: 2.0,\n        electric: 2.0,\n        grass: 0.5,\n        poison: 2.0,\n        flying: 0.0,\n        bug: 0.5,\n        rock: 2.0,\n        steel: 2.0\n    },\n    flying: {\n        electric: 0.5,\n        grass: 2.0,\n        fighting: 2.0,\n        bug: 2.0,\n        rock: 0.5,\n        steel: 0.5\n    },\n    psychic: {\n        fighting: 2.0,\n        poison: 2.0,\n        psychic: 0.5,\n        dark: 0.0,\n        steel: 0.5\n    },\n    bug: {\n        fire: 0.5,\n        grass: 2.0,\n        fighting: 0.5,\n        poison: 0.5,\n        flying: 0.5,\n        psychic: 2.0,\n        ghost: 0.5,\n        dark: 2.0,\n        steel: 0.5,\n        fairy: 0.5\n    },\n    rock: {\n        fire: 2.0,\n        ice: 2.0,\n        fighting: 0.5,\n        ground: 0.5,\n        flying: 2.0,\n        bug: 2.0,\n        steel: 0.5\n    },\n    ghost: {\n        normal: 0.0,\n        psychic: 2.0,\n        ghost: 2.0,\n        dark: 0.5\n    },\n    dragon: {\n        dragon: 2.0,\n        steel: 0.5,\n        fairy: 0.0\n    },\n    dark: {\n        fighting: 0.5,\n        psychic: 2.0,\n        ghost: 2.0,\n        dark: 0.5,\n        fairy: 0.5\n    },\n    steel: {\n        fire: 0.5,\n        water: 0.5,\n        electric: 0.5,\n        ice: 2.0,\n        rock: 2.0,\n        steel: 0.5,\n        fairy: 2.0\n    },\n    fairy: {\n        fire: 0.5,\n        fighting: 2.0,\n        poison: 0.5,\n        dragon: 2.0,\n        dark: 2.0,\n        steel: 0.5\n    }\n};\n/**\r\n * Get type effectiveness multiplier for attack type against defender types\r\n */ function getTypeEffectiveness(attackType, defenderTypes) {\n    let multiplier = 1.0;\n    for (const defType of defenderTypes){\n        const effectiveness = TYPE_EFFECTIVENESS[attackType]?.[defType];\n        if (effectiveness !== undefined) {\n            multiplier *= effectiveness;\n        }\n    }\n    return multiplier;\n}\n/**\r\n * Get effectiveness description for UI\r\n */ function getEffectivenessText(multiplier) {\n    if (multiplier === 0) return \"No effect!\";\n    if (multiplier >= 4) return \"It's super duper effective!\";\n    if (multiplier >= 2) return \"It's super effective!\";\n    if (multiplier <= 0.25) return \"It's barely effective...\";\n    if (multiplier <= 0.5) return \"It's not very effective...\";\n    return null;\n}\n/**\r\n * Calculate damage using Pokemon damage formula\r\n * damage = (((2 * level / 5 + 2) * power * (attack / defense)) / 50 + 2) * modifiers\r\n * \r\n * @param level - Attacking Pokemon's level\r\n * @param power - Move's power\r\n * @param attack - Attacking Pokemon's attack stat\r\n * @param defense - Defending Pokemon's defense stat\r\n * @param attackType - Type of the move\r\n * @param defenderTypes - Defending Pokemon's types\r\n * @returns Object with damage, type effectiveness multiplier, and effectiveness text\r\n */ function calculateDamage(level, power, attack, defense, attackType, defenderTypes) {\n    // Base damage calculation\n    const levelFactor = 2 * level / 5 + 2;\n    const attackDefenseRatio = attack / Math.max(1, defense);\n    const baseDamage = levelFactor * power * attackDefenseRatio / 50 + 2;\n    // Type effectiveness\n    const typeMultiplier = getTypeEffectiveness(attackType, defenderTypes);\n    // Random factor (0.85 to 1.0)\n    const randomFactor = 0.85 + Math.random() * 0.15;\n    // Calculate final damage\n    const finalDamage = Math.floor(baseDamage * typeMultiplier * randomFactor);\n    return {\n        damage: Math.max(1, finalDamage),\n        effectiveness: typeMultiplier,\n        effectivenessText: getEffectivenessText(typeMultiplier)\n    };\n}\nconst MOVES = {\n    // Normal moves\n    \"tackle\": {\n        name: \"Tackle\",\n        type: \"normal\",\n        power: 40,\n        category: \"physical\"\n    },\n    \"scratch\": {\n        name: \"Scratch\",\n        type: \"normal\",\n        power: 40,\n        category: \"physical\"\n    },\n    \"quick-attack\": {\n        name: \"Quick Attack\",\n        type: \"normal\",\n        power: 40,\n        category: \"physical\"\n    },\n    // Fire moves\n    \"ember\": {\n        name: \"Ember\",\n        type: \"fire\",\n        power: 40,\n        category: \"special\"\n    },\n    \"flamethrower\": {\n        name: \"Flamethrower\",\n        type: \"fire\",\n        power: 90,\n        category: \"special\"\n    },\n    // Water moves\n    \"water-gun\": {\n        name: \"Water Gun\",\n        type: \"water\",\n        power: 40,\n        category: \"special\"\n    },\n    \"bubble\": {\n        name: \"Bubble\",\n        type: \"water\",\n        power: 40,\n        category: \"special\"\n    },\n    // Grass moves\n    \"vine-whip\": {\n        name: \"Vine Whip\",\n        type: \"grass\",\n        power: 45,\n        category: \"physical\"\n    },\n    \"razor-leaf\": {\n        name: \"Razor Leaf\",\n        type: \"grass\",\n        power: 55,\n        category: \"physical\"\n    },\n    // Electric moves\n    \"thunder-shock\": {\n        name: \"Thunder Shock\",\n        type: \"electric\",\n        power: 40,\n        category: \"special\"\n    },\n    \"thunderbolt\": {\n        name: \"Thunderbolt\",\n        type: \"electric\",\n        power: 90,\n        category: \"special\"\n    },\n    // Other moves\n    \"powder-snow\": {\n        name: \"Powder Snow\",\n        type: \"ice\",\n        power: 40,\n        category: \"special\"\n    },\n    \"karate-chop\": {\n        name: \"Karate Chop\",\n        type: \"fighting\",\n        power: 50,\n        category: \"physical\"\n    },\n    \"poison-sting\": {\n        name: \"Poison Sting\",\n        type: \"poison\",\n        power: 15,\n        category: \"physical\"\n    },\n    \"mud-slap\": {\n        name: \"Mud Slap\",\n        type: \"ground\",\n        power: 20,\n        category: \"special\"\n    },\n    \"gust\": {\n        name: \"Gust\",\n        type: \"flying\",\n        power: 40,\n        category: \"special\"\n    },\n    \"confusion\": {\n        name: \"Confusion\",\n        type: \"psychic\",\n        power: 50,\n        category: \"special\"\n    },\n    \"bug-bite\": {\n        name: \"Bug Bite\",\n        type: \"bug\",\n        power: 60,\n        category: \"physical\"\n    },\n    \"rock-throw\": {\n        name: \"Rock Throw\",\n        type: \"rock\",\n        power: 50,\n        category: \"physical\"\n    },\n    \"lick\": {\n        name: \"Lick\",\n        type: \"ghost\",\n        power: 30,\n        category: \"physical\"\n    },\n    \"dragon-breath\": {\n        name: \"Dragon Breath\",\n        type: \"dragon\",\n        power: 60,\n        category: \"special\"\n    },\n    \"bite\": {\n        name: \"Bite\",\n        type: \"dark\",\n        power: 60,\n        category: \"physical\"\n    },\n    \"metal-claw\": {\n        name: \"Metal Claw\",\n        type: \"steel\",\n        power: 50,\n        category: \"physical\"\n    },\n    \"fairy-wind\": {\n        name: \"Fairy Wind\",\n        type: \"fairy\",\n        power: 40,\n        category: \"special\"\n    }\n};\n/**\r\n * Get move data, with fallback to default tackle\r\n */ function getMoveData(moveName) {\n    const normalizedName = moveName.toLowerCase().replace(/\\s+/g, \"-\");\n    return MOVES[normalizedName] || MOVES[\"tackle\"];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2xpYi90eXBlRWZmZWN0aXZlbmVzcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7O0NBR0MsR0FnQk0sTUFBTUEscUJBQWdDO0lBQzNDQyxRQUFRO1FBQ05DLE1BQU07UUFDTkMsT0FBTztRQUNQQyxPQUFPO0lBQ1Q7SUFDQUMsTUFBTTtRQUNKQSxNQUFNO1FBQ05DLE9BQU87UUFDUEMsT0FBTztRQUNQQyxLQUFLO1FBQ0xDLEtBQUs7UUFDTFAsTUFBTTtRQUNOUSxRQUFRO1FBQ1JOLE9BQU87SUFDVDtJQUNBRSxPQUFPO1FBQ0xELE1BQU07UUFDTkMsT0FBTztRQUNQQyxPQUFPO1FBQ1BJLFFBQVE7UUFDUlQsTUFBTTtRQUNOUSxRQUFRO0lBQ1Y7SUFDQUUsVUFBVTtRQUNSTixPQUFPO1FBQ1BNLFVBQVU7UUFDVkwsT0FBTztRQUNQSSxRQUFRO1FBQ1JFLFFBQVE7UUFDUkgsUUFBUTtJQUNWO0lBQ0FILE9BQU87UUFDTEYsTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLE9BQU87UUFDUE8sUUFBUTtRQUNSSCxRQUFRO1FBQ1JFLFFBQVE7UUFDUkosS0FBSztRQUNMUCxNQUFNO1FBQ05RLFFBQVE7UUFDUk4sT0FBTztJQUNUO0lBQ0FJLEtBQUs7UUFDSEgsTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLE9BQU87UUFDUEMsS0FBSztRQUNMRyxRQUFRO1FBQ1JFLFFBQVE7UUFDUkgsUUFBUTtRQUNSTixPQUFPO0lBQ1Q7SUFDQVcsVUFBVTtRQUNSZCxRQUFRO1FBQ1JPLEtBQUs7UUFDTE0sUUFBUTtRQUNSRCxRQUFRO1FBQ1JHLFNBQVM7UUFDVFAsS0FBSztRQUNMUCxNQUFNO1FBQ05DLE9BQU87UUFDUGMsTUFBTTtRQUNOYixPQUFPO1FBQ1BjLE9BQU87SUFDVDtJQUNBSixRQUFRO1FBQ05QLE9BQU87UUFDUE8sUUFBUTtRQUNSSCxRQUFRO1FBQ1JULE1BQU07UUFDTkMsT0FBTztRQUNQQyxPQUFPO1FBQ1BjLE9BQU87SUFDVDtJQUNB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WTtRQUFFRixNQUFNO1FBQVlDLE1BQU07UUFBVWpCLE9BQU87UUFBSWtCLFVBQVU7SUFBVTtJQUMvRSxRQUFRO1FBQUVGLE1BQU07UUFBUUMsTUFBTTtRQUFVakIsT0FBTztRQUFJa0IsVUFBVTtJQUFVO0lBQ3ZFLGFBQWE7UUFBRUYsTUFBTTtRQUFhQyxNQUFNO1FBQVdqQixPQUFPO1FBQUlrQixVQUFVO0lBQVU7SUFDbEYsWUFBWTtRQUFFRixNQUFNO1FBQVlDLE1BQU07UUFBT2pCLE9BQU87UUFBSWtCLFVBQVU7SUFBVztJQUM3RSxjQUFjO1FBQUVGLE1BQU07UUFBY0MsTUFBTTtRQUFRakIsT0FBTztRQUFJa0IsVUFBVTtJQUFXO0lBQ2xGLFFBQVE7UUFBRUYsTUFBTTtRQUFRQyxNQUFNO1FBQVNqQixPQUFPO1FBQUlrQixVQUFVO0lBQVc7SUFDdkUsaUJBQWlCO1FBQUVGLE1BQU07UUFBaUJDLE1BQU07UUFBVWpCLE9BQU87UUFBSWtCLFVBQVU7SUFBVTtJQUN6RixRQUFRO1FBQUVGLE1BQU07UUFBUUMsTUFBTTtRQUFRakIsT0FBTztRQUFJa0IsVUFBVTtJQUFXO0lBQ3RFLGNBQWM7UUFBRUYsTUFBTTtRQUFjQyxNQUFNO1FBQVNqQixPQUFPO1FBQUlrQixVQUFVO0lBQVc7SUFDbkYsY0FBYztRQUFFRixNQUFNO1FBQWNDLE1BQU07UUFBU2pCLE9BQU87UUFBSWtCLFVBQVU7SUFBVTtBQUNwRixFQUFFO0FBRUY7O0NBRUMsR0FDTSxTQUFTQyxZQUFZQyxRQUFnQjtJQUMxQyxNQUFNQyxpQkFBaUJELFNBQVNFLFdBQVcsR0FBR0MsT0FBTyxDQUFDLFFBQVE7SUFDOUQsT0FBT1IsS0FBSyxDQUFDTSxlQUFlLElBQUlOLEtBQUssQ0FBQyxTQUFTO0FBQ2pEIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFNhaGl0aFxcT25lRHJpdmVcXERlc2t0b3BcXHlva2FpaHVudFxcZnJvbnRlbmRcXGxpYlxcdHlwZUVmZmVjdGl2ZW5lc3MudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFBva2Vtb24gVHlwZSBFZmZlY3RpdmVuZXNzIENoYXJ0IGFuZCBEYW1hZ2UgQ2FsY3VsYXRpb25cclxuICogQmFzZWQgb24gY2Fub25pY2FsIFBva2Vtb24gbWVjaGFuaWNzXHJcbiAqL1xyXG5cclxuZXhwb3J0IHR5cGUgUG9rZW1vblR5cGUgPSBcclxuICB8IFwibm9ybWFsXCIgfCBcImZpcmVcIiB8IFwid2F0ZXJcIiB8IFwiZWxlY3RyaWNcIiB8IFwiZ3Jhc3NcIiB8IFwiaWNlXCJcclxuICB8IFwiZmlnaHRpbmdcIiB8IFwicG9pc29uXCIgfCBcImdyb3VuZFwiIHwgXCJmbHlpbmdcIiB8IFwicHN5Y2hpY1wiIHwgXCJidWdcIlxyXG4gIHwgXCJyb2NrXCIgfCBcImdob3N0XCIgfCBcImRyYWdvblwiIHwgXCJkYXJrXCIgfCBcInN0ZWVsXCIgfCBcImZhaXJ5XCI7XHJcblxyXG4vKipcclxuICogVHlwZSBlZmZlY3RpdmVuZXNzIG11bHRpcGxpZXJzXHJcbiAqIDIuMCA9IFN1cGVyIGVmZmVjdGl2ZVxyXG4gKiAwLjUgPSBOb3QgdmVyeSBlZmZlY3RpdmVcclxuICogMC4wID0gSW1tdW5lXHJcbiAqIDEuMCA9IE5vcm1hbCAobm90IGxpc3RlZClcclxuICovXHJcbnR5cGUgVHlwZUNoYXJ0ID0gUmVjb3JkPFBva2Vtb25UeXBlLCBQYXJ0aWFsPFJlY29yZDxQb2tlbW9uVHlwZSwgbnVtYmVyPj4+O1xyXG5cclxuZXhwb3J0IGNvbnN0IFRZUEVfRUZGRUNUSVZFTkVTUzogVHlwZUNoYXJ0ID0ge1xyXG4gIG5vcm1hbDoge1xyXG4gICAgcm9jazogMC41LFxyXG4gICAgZ2hvc3Q6IDAuMCxcclxuICAgIHN0ZWVsOiAwLjUsXHJcbiAgfSxcclxuICBmaXJlOiB7XHJcbiAgICBmaXJlOiAwLjUsXHJcbiAgICB3YXRlcjogMC41LFxyXG4gICAgZ3Jhc3M6IDIuMCxcclxuICAgIGljZTogMi4wLFxyXG4gICAgYnVnOiAyLjAsXHJcbiAgICByb2NrOiAwLjUsXHJcbiAgICBkcmFnb246IDAuNSxcclxuICAgIHN0ZWVsOiAyLjAsXHJcbiAgfSxcclxuICB3YXRlcjoge1xyXG4gICAgZmlyZTogMi4wLFxyXG4gICAgd2F0ZXI6IDAuNSxcclxuICAgIGdyYXNzOiAwLjUsXHJcbiAgICBncm91bmQ6IDIuMCxcclxuICAgIHJvY2s6IDIuMCxcclxuICAgIGRyYWdvbjogMC41LFxyXG4gIH0sXHJcbiAgZWxlY3RyaWM6IHtcclxuICAgIHdhdGVyOiAyLjAsXHJcbiAgICBlbGVjdHJpYzogMC41LFxyXG4gICAgZ3Jhc3M6IDAuNSxcclxuICAgIGdyb3VuZDogMC4wLFxyXG4gICAgZmx5aW5nOiAyLjAsXHJcbiAgICBkcmFnb246IDAuNSxcclxuICB9LFxyXG4gIGdyYXNzOiB7XHJcbiAgICBmaXJlOiAwLjUsXHJcbiAgICB3YXRlcjogMi4wLFxyXG4gICAgZ3Jhc3M6IDAuNSxcclxuICAgIHBvaXNvbjogMC41LFxyXG4gICAgZ3JvdW5kOiAyLjAsXHJcbiAgICBmbHlpbmc6IDAuNSxcclxuICAgIGJ1ZzogMC41LFxyXG4gICAgcm9jazogMi4wLFxyXG4gICAgZHJhZ29uOiAwLjUsXHJcbiAgICBzdGVlbDogMC41LFxyXG4gIH0sXHJcbiAgaWNlOiB7XHJcbiAgICBmaXJlOiAwLjUsXHJcbiAgICB3YXRlcjogMC41LFxyXG4gICAgZ3Jhc3M6IDIuMCxcclxuICAgIGljZTogMC41LFxyXG4gICAgZ3JvdW5kOiAyLjAsXHJcbiAgICBmbHlpbmc6IDIuMCxcclxuICAgIGRyYWdvbjogMi4wLFxyXG4gICAgc3RlZWw6IDAuNSxcclxuICB9LFxyXG4gIGZpZ2h0aW5nOiB7XHJcbiAgICBub3JtYWw6IDIuMCxcclxuICAgIGljZTogMi4wLFxyXG4gICAgcG9pc29uOiAwLjUsXHJcbiAgICBmbHlpbmc6IDAuNSxcclxuICAgIHBzeWNoaWM6IDAuNSxcclxuICAgIGJ1ZzogMC41LFxyXG4gICAgcm9jazogMi4wLFxyXG4gICAgZ2hvc3Q6IDAuMCxcclxuICAgIGRhcms6IDIuMCxcclxuICAgIHN0ZWVsOiAyLjAsXHJcbiAgICBmYWlyeTogMC41LFxyXG4gIH0sXHJcbiAgcG9pc29uOiB7XHJcbiAgICBncmFzczogMi4wLFxyXG4gICAgcG9pc29uOiAwLjUsXHJcbiAgICBncm91bmQ6IDAuNSxcclxuICAgIHJvY2s6IDAuNSxcclxuICAgIGdob3N0OiAwLjUsXHJcbiAgICBzdGVlbDogMC4wLFxyXG4gICAgZmFpcnk6IDIuMCxcclxuICB9LFxyXG4gIGdyb3VuZDoge1xyXG4gICAgZmlyZTogMi4wLFxyXG4gICAgZWxlY3RyaWM6IDIuMCxcclxuICAgIGdyYXNzOiAwLjUsXHJcbiAgICBwb2lzb246IDIuMCxcclxuICAgIGZseWluZzogMC4wLFxyXG4gICAgYnVnOiAwLjUsXHJcbiAgICByb2NrOiAyLjAsXHJcbiAgICBzdGVlbDogMi4wLFxyXG4gIH0sXHJcbiAgZmx5aW5nOiB7XHJcbiAgICBlbGVjdHJpYzogMC41LFxyXG4gICAgZ3Jhc3M6IDIuMCxcclxuICAgIGZpZ2h0aW5nOiAyLjAsXHJcbiAgICBidWc6IDIuMCxcclxuICAgIHJvY2s6IDAuNSxcclxuICAgIHN0ZWVsOiAwLjUsXHJcbiAgfSxcclxuICBwc3ljaGljOiB7XHJcbiAgICBmaWdodGluZzogMi4wLFxyXG4gICAgcG9pc29uOiAyLjAsXHJcbiAgICBwc3ljaGljOiAwLjUsXHJcbiAgICBkYXJrOiAwLjAsXHJcbiAgICBzdGVlbDogMC41LFxyXG4gIH0sXHJcbiAgYnVnOiB7XHJcbiAgICBmaXJlOiAwLjUsXHJcbiAgICBncmFzczogMi4wLFxyXG4gICAgZmlnaHRpbmc6IDAuNSxcclxuICAgIHBvaXNvbjogMC41LFxyXG4gICAgZmx5aW5nOiAwLjUsXHJcbiAgICBwc3ljaGljOiAyLjAsXHJcbiAgICBnaG9zdDogMC41LFxyXG4gICAgZGFyazogMi4wLFxyXG4gICAgc3RlZWw6IDAuNSxcclxuICAgIGZhaXJ5OiAwLjUsXHJcbiAgfSxcclxuICByb2NrOiB7XHJcbiAgICBmaXJlOiAyLjAsXHJcbiAgICBpY2U6IDIuMCxcclxuICAgIGZpZ2h0aW5nOiAwLjUsXHJcbiAgICBncm91bmQ6IDAuNSxcclxuICAgIGZseWluZzogMi4wLFxyXG4gICAgYnVnOiAyLjAsXHJcbiAgICBzdGVlbDogMC41LFxyXG4gIH0sXHJcbiAgZ2hvc3Q6IHtcclxuICAgIG5vcm1hbDogMC4wLFxyXG4gICAgcHN5Y2hpYzogMi4wLFxyXG4gICAgZ2hvc3Q6IDIuMCxcclxuICAgIGRhcms6IDAuNSxcclxuICB9LFxyXG4gIGRyYWdvbjoge1xyXG4gICAgZHJhZ29uOiAyLjAsXHJcbiAgICBzdGVlbDogMC41LFxyXG4gICAgZmFpcnk6IDAuMCxcclxuICB9LFxyXG4gIGRhcms6IHtcclxuICAgIGZpZ2h0aW5nOiAwLjUsXHJcbiAgICBwc3ljaGljOiAyLjAsXHJcbiAgICBnaG9zdDogMi4wLFxyXG4gICAgZGFyazogMC41LFxyXG4gICAgZmFpcnk6IDAuNSxcclxuICB9LFxyXG4gIHN0ZWVsOiB7XHJcbiAgICBmaXJlOiAwLjUsXHJcbiAgICB3YXRlcjogMC41LFxyXG4gICAgZWxlY3RyaWM6IDAuNSxcclxuICAgIGljZTogMi4wLFxyXG4gICAgcm9jazogMi4wLFxyXG4gICAgc3RlZWw6IDAuNSxcclxuICAgIGZhaXJ5OiAyLjAsXHJcbiAgfSxcclxuICBmYWlyeToge1xyXG4gICAgZmlyZTogMC41LFxyXG4gICAgZmlnaHRpbmc6IDIuMCxcclxuICAgIHBvaXNvbjogMC41LFxyXG4gICAgZHJhZ29uOiAyLjAsXHJcbiAgICBkYXJrOiAyLjAsXHJcbiAgICBzdGVlbDogMC41LFxyXG4gIH0sXHJcbn07XHJcblxyXG4vKipcclxuICogR2V0IHR5cGUgZWZmZWN0aXZlbmVzcyBtdWx0aXBsaWVyIGZvciBhdHRhY2sgdHlwZSBhZ2FpbnN0IGRlZmVuZGVyIHR5cGVzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHlwZUVmZmVjdGl2ZW5lc3MoYXR0YWNrVHlwZTogUG9rZW1vblR5cGUsIGRlZmVuZGVyVHlwZXM6IFBva2Vtb25UeXBlW10pOiBudW1iZXIge1xyXG4gIGxldCBtdWx0aXBsaWVyID0gMS4wO1xyXG4gIFxyXG4gIGZvciAoY29uc3QgZGVmVHlwZSBvZiBkZWZlbmRlclR5cGVzKSB7XHJcbiAgICBjb25zdCBlZmZlY3RpdmVuZXNzID0gVFlQRV9FRkZFQ1RJVkVORVNTW2F0dGFja1R5cGVdPy5bZGVmVHlwZV07XHJcbiAgICBpZiAoZWZmZWN0aXZlbmVzcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIG11bHRpcGxpZXIgKj0gZWZmZWN0aXZlbmVzcztcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIG11bHRpcGxpZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgZWZmZWN0aXZlbmVzcyBkZXNjcmlwdGlvbiBmb3IgVUlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFZmZlY3RpdmVuZXNzVGV4dChtdWx0aXBsaWVyOiBudW1iZXIpOiBzdHJpbmcgfCBudWxsIHtcclxuICBpZiAobXVsdGlwbGllciA9PT0gMCkgcmV0dXJuIFwiTm8gZWZmZWN0IVwiO1xyXG4gIGlmIChtdWx0aXBsaWVyID49IDQpIHJldHVybiBcIkl0J3Mgc3VwZXIgZHVwZXIgZWZmZWN0aXZlIVwiO1xyXG4gIGlmIChtdWx0aXBsaWVyID49IDIpIHJldHVybiBcIkl0J3Mgc3VwZXIgZWZmZWN0aXZlIVwiO1xyXG4gIGlmIChtdWx0aXBsaWVyIDw9IDAuMjUpIHJldHVybiBcIkl0J3MgYmFyZWx5IGVmZmVjdGl2ZS4uLlwiO1xyXG4gIGlmIChtdWx0aXBsaWVyIDw9IDAuNSkgcmV0dXJuIFwiSXQncyBub3QgdmVyeSBlZmZlY3RpdmUuLi5cIjtcclxuICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENhbGN1bGF0ZSBkYW1hZ2UgdXNpbmcgUG9rZW1vbiBkYW1hZ2UgZm9ybXVsYVxyXG4gKiBkYW1hZ2UgPSAoKCgyICogbGV2ZWwgLyA1ICsgMikgKiBwb3dlciAqIChhdHRhY2sgLyBkZWZlbnNlKSkgLyA1MCArIDIpICogbW9kaWZpZXJzXHJcbiAqIFxyXG4gKiBAcGFyYW0gbGV2ZWwgLSBBdHRhY2tpbmcgUG9rZW1vbidzIGxldmVsXHJcbiAqIEBwYXJhbSBwb3dlciAtIE1vdmUncyBwb3dlclxyXG4gKiBAcGFyYW0gYXR0YWNrIC0gQXR0YWNraW5nIFBva2Vtb24ncyBhdHRhY2sgc3RhdFxyXG4gKiBAcGFyYW0gZGVmZW5zZSAtIERlZmVuZGluZyBQb2tlbW9uJ3MgZGVmZW5zZSBzdGF0XHJcbiAqIEBwYXJhbSBhdHRhY2tUeXBlIC0gVHlwZSBvZiB0aGUgbW92ZVxyXG4gKiBAcGFyYW0gZGVmZW5kZXJUeXBlcyAtIERlZmVuZGluZyBQb2tlbW9uJ3MgdHlwZXNcclxuICogQHJldHVybnMgT2JqZWN0IHdpdGggZGFtYWdlLCB0eXBlIGVmZmVjdGl2ZW5lc3MgbXVsdGlwbGllciwgYW5kIGVmZmVjdGl2ZW5lc3MgdGV4dFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZURhbWFnZShcclxuICBsZXZlbDogbnVtYmVyLFxyXG4gIHBvd2VyOiBudW1iZXIsXHJcbiAgYXR0YWNrOiBudW1iZXIsXHJcbiAgZGVmZW5zZTogbnVtYmVyLFxyXG4gIGF0dGFja1R5cGU6IFBva2Vtb25UeXBlLFxyXG4gIGRlZmVuZGVyVHlwZXM6IFBva2Vtb25UeXBlW11cclxuKTogeyBkYW1hZ2U6IG51bWJlcjsgZWZmZWN0aXZlbmVzczogbnVtYmVyOyBlZmZlY3RpdmVuZXNzVGV4dDogc3RyaW5nIHwgbnVsbCB9IHtcclxuICAvLyBCYXNlIGRhbWFnZSBjYWxjdWxhdGlvblxyXG4gIGNvbnN0IGxldmVsRmFjdG9yID0gKDIgKiBsZXZlbCAvIDUgKyAyKTtcclxuICBjb25zdCBhdHRhY2tEZWZlbnNlUmF0aW8gPSBhdHRhY2sgLyBNYXRoLm1heCgxLCBkZWZlbnNlKTtcclxuICBjb25zdCBiYXNlRGFtYWdlID0gKGxldmVsRmFjdG9yICogcG93ZXIgKiBhdHRhY2tEZWZlbnNlUmF0aW8pIC8gNTAgKyAyO1xyXG4gIFxyXG4gIC8vIFR5cGUgZWZmZWN0aXZlbmVzc1xyXG4gIGNvbnN0IHR5cGVNdWx0aXBsaWVyID0gZ2V0VHlwZUVmZmVjdGl2ZW5lc3MoYXR0YWNrVHlwZSwgZGVmZW5kZXJUeXBlcyk7XHJcbiAgXHJcbiAgLy8gUmFuZG9tIGZhY3RvciAoMC44NSB0byAxLjApXHJcbiAgY29uc3QgcmFuZG9tRmFjdG9yID0gMC44NSArIE1hdGgucmFuZG9tKCkgKiAwLjE1O1xyXG4gIFxyXG4gIC8vIENhbGN1bGF0ZSBmaW5hbCBkYW1hZ2VcclxuICBjb25zdCBmaW5hbERhbWFnZSA9IE1hdGguZmxvb3IoYmFzZURhbWFnZSAqIHR5cGVNdWx0aXBsaWVyICogcmFuZG9tRmFjdG9yKTtcclxuICBcclxuICByZXR1cm4ge1xyXG4gICAgZGFtYWdlOiBNYXRoLm1heCgxLCBmaW5hbERhbWFnZSksIC8vIE1pbmltdW0gMSBkYW1hZ2VcclxuICAgIGVmZmVjdGl2ZW5lc3M6IHR5cGVNdWx0aXBsaWVyLFxyXG4gICAgZWZmZWN0aXZlbmVzc1RleHQ6IGdldEVmZmVjdGl2ZW5lc3NUZXh0KHR5cGVNdWx0aXBsaWVyKSxcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogTW92ZSBkYXRhYmFzZSB3aXRoIHR5cGUgYW5kIHBvd2VyXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1vdmUge1xyXG4gIG5hbWU6IHN0cmluZztcclxuICB0eXBlOiBQb2tlbW9uVHlwZTtcclxuICBwb3dlcjogbnVtYmVyO1xyXG4gIGNhdGVnb3J5OiBcInBoeXNpY2FsXCIgfCBcInNwZWNpYWxcIjtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IE1PVkVTOiBSZWNvcmQ8c3RyaW5nLCBNb3ZlPiA9IHtcclxuICAvLyBOb3JtYWwgbW92ZXNcclxuICBcInRhY2tsZVwiOiB7IG5hbWU6IFwiVGFja2xlXCIsIHR5cGU6IFwibm9ybWFsXCIsIHBvd2VyOiA0MCwgY2F0ZWdvcnk6IFwicGh5c2ljYWxcIiB9LFxyXG4gIFwic2NyYXRjaFwiOiB7IG5hbWU6IFwiU2NyYXRjaFwiLCB0eXBlOiBcIm5vcm1hbFwiLCBwb3dlcjogNDAsIGNhdGVnb3J5OiBcInBoeXNpY2FsXCIgfSxcclxuICBcInF1aWNrLWF0dGFja1wiOiB7IG5hbWU6IFwiUXVpY2sgQXR0YWNrXCIsIHR5cGU6IFwibm9ybWFsXCIsIHBvd2VyOiA0MCwgY2F0ZWdvcnk6IFwicGh5c2ljYWxcIiB9LFxyXG4gIFxyXG4gIC8vIEZpcmUgbW92ZXNcclxuICBcImVtYmVyXCI6IHsgbmFtZTogXCJFbWJlclwiLCB0eXBlOiBcImZpcmVcIiwgcG93ZXI6IDQwLCBjYXRlZ29yeTogXCJzcGVjaWFsXCIgfSxcclxuICBcImZsYW1ldGhyb3dlclwiOiB7IG5hbWU6IFwiRmxhbWV0aHJvd2VyXCIsIHR5cGU6IFwiZmlyZVwiLCBwb3dlcjogOTAsIGNhdGVnb3J5OiBcInNwZWNpYWxcIiB9LFxyXG4gIFxyXG4gIC8vIFdhdGVyIG1vdmVzXHJcbiAgXCJ3YXRlci1ndW5cIjogeyBuYW1lOiBcIldhdGVyIEd1blwiLCB0eXBlOiBcIndhdGVyXCIsIHBvd2VyOiA0MCwgY2F0ZWdvcnk6IFwic3BlY2lhbFwiIH0sXHJcbiAgXCJidWJibGVcIjogeyBuYW1lOiBcIkJ1YmJsZVwiLCB0eXBlOiBcIndhdGVyXCIsIHBvd2VyOiA0MCwgY2F0ZWdvcnk6IFwic3BlY2lhbFwiIH0sXHJcbiAgXHJcbiAgLy8gR3Jhc3MgbW92ZXNcclxuICBcInZpbmUtd2hpcFwiOiB7IG5hbWU6IFwiVmluZSBXaGlwXCIsIHR5cGU6IFwiZ3Jhc3NcIiwgcG93ZXI6IDQ1LCBjYXRlZ29yeTogXCJwaHlzaWNhbFwiIH0sXHJcbiAgXCJyYXpvci1sZWFmXCI6IHsgbmFtZTogXCJSYXpvciBMZWFmXCIsIHR5cGU6IFwiZ3Jhc3NcIiwgcG93ZXI6IDU1LCBjYXRlZ29yeTogXCJwaHlzaWNhbFwiIH0sXHJcbiAgXHJcbiAgLy8gRWxlY3RyaWMgbW92ZXNcclxuICBcInRodW5kZXItc2hvY2tcIjogeyBuYW1lOiBcIlRodW5kZXIgU2hvY2tcIiwgdHlwZTogXCJlbGVjdHJpY1wiLCBwb3dlcjogNDAsIGNhdGVnb3J5OiBcInNwZWNpYWxcIiB9LFxyXG4gIFwidGh1bmRlcmJvbHRcIjogeyBuYW1lOiBcIlRodW5kZXJib2x0XCIsIHR5cGU6IFwiZWxlY3RyaWNcIiwgcG93ZXI6IDkwLCBjYXRlZ29yeTogXCJzcGVjaWFsXCIgfSxcclxuICBcclxuICAvLyBPdGhlciBtb3Zlc1xyXG4gIFwicG93ZGVyLXNub3dcIjogeyBuYW1lOiBcIlBvd2RlciBTbm93XCIsIHR5cGU6IFwiaWNlXCIsIHBvd2VyOiA0MCwgY2F0ZWdvcnk6IFwic3BlY2lhbFwiIH0sXHJcbiAgXCJrYXJhdGUtY2hvcFwiOiB7IG5hbWU6IFwiS2FyYXRlIENob3BcIiwgdHlwZTogXCJmaWdodGluZ1wiLCBwb3dlcjogNTAsIGNhdGVnb3J5OiBcInBoeXNpY2FsXCIgfSxcclxuICBcInBvaXNvbi1zdGluZ1wiOiB7IG5hbWU6IFwiUG9pc29uIFN0aW5nXCIsIHR5cGU6IFwicG9pc29uXCIsIHBvd2VyOiAxNSwgY2F0ZWdvcnk6IFwicGh5c2ljYWxcIiB9LFxyXG4gIFwibXVkLXNsYXBcIjogeyBuYW1lOiBcIk11ZCBTbGFwXCIsIHR5cGU6IFwiZ3JvdW5kXCIsIHBvd2VyOiAyMCwgY2F0ZWdvcnk6IFwic3BlY2lhbFwiIH0sXHJcbiAgXCJndXN0XCI6IHsgbmFtZTogXCJHdXN0XCIsIHR5cGU6IFwiZmx5aW5nXCIsIHBvd2VyOiA0MCwgY2F0ZWdvcnk6IFwic3BlY2lhbFwiIH0sXHJcbiAgXCJjb25mdXNpb25cIjogeyBuYW1lOiBcIkNvbmZ1c2lvblwiLCB0eXBlOiBcInBzeWNoaWNcIiwgcG93ZXI6IDUwLCBjYXRlZ29yeTogXCJzcGVjaWFsXCIgfSxcclxuICBcImJ1Zy1iaXRlXCI6IHsgbmFtZTogXCJCdWcgQml0ZVwiLCB0eXBlOiBcImJ1Z1wiLCBwb3dlcjogNjAsIGNhdGVnb3J5OiBcInBoeXNpY2FsXCIgfSxcclxuICBcInJvY2stdGhyb3dcIjogeyBuYW1lOiBcIlJvY2sgVGhyb3dcIiwgdHlwZTogXCJyb2NrXCIsIHBvd2VyOiA1MCwgY2F0ZWdvcnk6IFwicGh5c2ljYWxcIiB9LFxyXG4gIFwibGlja1wiOiB7IG5hbWU6IFwiTGlja1wiLCB0eXBlOiBcImdob3N0XCIsIHBvd2VyOiAzMCwgY2F0ZWdvcnk6IFwicGh5c2ljYWxcIiB9LFxyXG4gIFwiZHJhZ29uLWJyZWF0aFwiOiB7IG5hbWU6IFwiRHJhZ29uIEJyZWF0aFwiLCB0eXBlOiBcImRyYWdvblwiLCBwb3dlcjogNjAsIGNhdGVnb3J5OiBcInNwZWNpYWxcIiB9LFxyXG4gIFwiYml0ZVwiOiB7IG5hbWU6IFwiQml0ZVwiLCB0eXBlOiBcImRhcmtcIiwgcG93ZXI6IDYwLCBjYXRlZ29yeTogXCJwaHlzaWNhbFwiIH0sXHJcbiAgXCJtZXRhbC1jbGF3XCI6IHsgbmFtZTogXCJNZXRhbCBDbGF3XCIsIHR5cGU6IFwic3RlZWxcIiwgcG93ZXI6IDUwLCBjYXRlZ29yeTogXCJwaHlzaWNhbFwiIH0sXHJcbiAgXCJmYWlyeS13aW5kXCI6IHsgbmFtZTogXCJGYWlyeSBXaW5kXCIsIHR5cGU6IFwiZmFpcnlcIiwgcG93ZXI6IDQwLCBjYXRlZ29yeTogXCJzcGVjaWFsXCIgfSxcclxufTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgbW92ZSBkYXRhLCB3aXRoIGZhbGxiYWNrIHRvIGRlZmF1bHQgdGFja2xlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW92ZURhdGEobW92ZU5hbWU6IHN0cmluZyk6IE1vdmUge1xyXG4gIGNvbnN0IG5vcm1hbGl6ZWROYW1lID0gbW92ZU5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csIFwiLVwiKTtcclxuICByZXR1cm4gTU9WRVNbbm9ybWFsaXplZE5hbWVdIHx8IE1PVkVTW1widGFja2xlXCJdO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJUWVBFX0VGRkVDVElWRU5FU1MiLCJub3JtYWwiLCJyb2NrIiwiZ2hvc3QiLCJzdGVlbCIsImZpcmUiLCJ3YXRlciIsImdyYXNzIiwiaWNlIiwiYnVnIiwiZHJhZ29uIiwiZ3JvdW5kIiwiZWxlY3RyaWMiLCJmbHlpbmciLCJwb2lzb24iLCJmaWdodGluZyIsInBzeWNoaWMiLCJkYXJrIiwiZmFpcnkiLCJnZXRUeXBlRWZmZWN0aXZlbmVzcyIsImF0dGFja1R5cGUiLCJkZWZlbmRlclR5cGVzIiwibXVsdGlwbGllciIsImRlZlR5cGUiLCJlZmZlY3RpdmVuZXNzIiwidW5kZWZpbmVkIiwiZ2V0RWZmZWN0aXZlbmVzc1RleHQiLCJjYWxjdWxhdGVEYW1hZ2UiLCJsZXZlbCIsInBvd2VyIiwiYXR0YWNrIiwiZGVmZW5zZSIsImxldmVsRmFjdG9yIiwiYXR0YWNrRGVmZW5zZVJhdGlvIiwiTWF0aCIsIm1heCIsImJhc2VEYW1hZ2UiLCJ0eXBlTXVsdGlwbGllciIsInJhbmRvbUZhY3RvciIsInJhbmRvbSIsImZpbmFsRGFtYWdlIiwiZmxvb3IiLCJkYW1hZ2UiLCJlZmZlY3RpdmVuZXNzVGV4dCIsIk1PVkVTIiwibmFtZSIsInR5cGUiLCJjYXRlZ29yeSIsImdldE1vdmVEYXRhIiwibW92ZU5hbWUiLCJub3JtYWxpemVkTmFtZSIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./lib/typeEffectiveness.ts\n");

/***/ })

};
;