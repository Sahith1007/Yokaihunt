"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_pages-dir-node_components_Game_tsx";
exports.ids = ["_pages-dir-node_components_Game_tsx"];
exports.modules = {

/***/ "(pages-dir-node)/./components/Game.tsx":
/*!*****************************!*\
  !*** ./components/Game.tsx ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Game)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_phaser_GameScene__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/phaser/GameScene */ \"(pages-dir-node)/./lib/phaser/GameScene.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_phaser_GameScene__WEBPACK_IMPORTED_MODULE_3__]);\n_lib_phaser_GameScene__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\nfunction Game({ width = 800, height = 600, className = \"\", tileSize = 32, mapWidth = 50, mapHeight = 38, playerSpeed = 200, initialX, initialY }) {\n    const gameRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const phaserGameRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"Game.useEffect\": ()=>{\n            if (!gameRef.current) return;\n            const config = {\n                type: phaser__WEBPACK_IMPORTED_MODULE_1__.AUTO,\n                width,\n                height,\n                parent: gameRef.current,\n                backgroundColor: \"#2c3e50\",\n                physics: {\n                    default: \"arcade\",\n                    arcade: {\n                        gravity: {\n                            x: 0,\n                            y: 0\n                        },\n                        debug: false\n                    }\n                },\n                scene: _lib_phaser_GameScene__WEBPACK_IMPORTED_MODULE_3__.GameScene,\n                scale: {\n                    mode: phaser__WEBPACK_IMPORTED_MODULE_1__.Scale.FIT,\n                    autoCenter: phaser__WEBPACK_IMPORTED_MODULE_1__.Scale.CENTER_BOTH\n                }\n            };\n            phaserGameRef.current = new phaser__WEBPACK_IMPORTED_MODULE_1__.Game(config);\n            const startOrRestart = {\n                \"Game.useEffect.startOrRestart\": ()=>{\n                    const game = phaserGameRef.current;\n                    const data = {\n                        tileSize,\n                        mapWidth,\n                        mapHeight,\n                        playerSpeed,\n                        initialX,\n                        initialY\n                    };\n                    const mgr = game.scene;\n                    if (mgr.isActive(\"GameScene\")) mgr.restart(\"GameScene\", data);\n                    else mgr.start(\"GameScene\", data);\n                }\n            }[\"Game.useEffect.startOrRestart\"];\n            if (phaserGameRef.current.isBooted) startOrRestart();\n            else phaserGameRef.current.events.once(phaser__WEBPACK_IMPORTED_MODULE_1__.Core.Events.READY, startOrRestart);\n            return ({\n                \"Game.useEffect\": ()=>{\n                    if (phaserGameRef.current) {\n                        phaserGameRef.current.destroy(true);\n                        phaserGameRef.current = null;\n                    }\n                }\n            })[\"Game.useEffect\"];\n        }\n    }[\"Game.useEffect\"], [\n        width,\n        height,\n        tileSize,\n        mapWidth,\n        mapHeight,\n        playerSpeed,\n        initialX,\n        initialY\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: gameRef,\n        className: `game-container ${className}`,\n        style: {\n            width: \"100%\",\n            height: \"100%\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n        }\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Sahith\\\\OneDrive\\\\Desktop\\\\yokaihunt\\\\frontend\\\\components\\\\Game.tsx\",\n        lineNumber: 85,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvR2FtZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBRWlDO0FBQ1M7QUFDVTtBQWNyQyxTQUFTSSxLQUFLLEVBQzNCQyxRQUFRLEdBQUcsRUFDWEMsU0FBUyxHQUFHLEVBQ1pDLFlBQVksRUFBRSxFQUNkQyxXQUFXLEVBQUUsRUFDYkMsV0FBVyxFQUFFLEVBQ2JDLFlBQVksRUFBRSxFQUNkQyxjQUFjLEdBQUcsRUFDakJDLFFBQVEsRUFDUkMsUUFBUSxFQUNFO0lBQ1YsTUFBTUMsVUFBVVosNkNBQU1BLENBQWlCO0lBQ3ZDLE1BQU1hLGdCQUFnQmIsNkNBQU1BLENBQXFCO0lBRWpERCxnREFBU0E7MEJBQUM7WUFDUixJQUFJLENBQUNhLFFBQVFFLE9BQU8sRUFBRTtZQUV0QixNQUFNQyxTQUF1QztnQkFDM0NDLE1BQU1sQix3Q0FBVztnQkFDakJLO2dCQUNBQztnQkFDQWMsUUFBUU4sUUFBUUUsT0FBTztnQkFDdkJLLGlCQUFpQjtnQkFDakJDLFNBQVM7b0JBQ1BDLFNBQVM7b0JBQ1RDLFFBQVE7d0JBQ05DLFNBQVM7NEJBQUVDLEdBQUc7NEJBQUdDLEdBQUc7d0JBQUU7d0JBQ3RCQyxPQUFPO29CQUNUO2dCQUNGO2dCQUNBQyxPQUFPMUIsNERBQVNBO2dCQUNoQjJCLE9BQU87b0JBQ0xDLE1BQU0vQix5Q0FBWSxDQUFDaUMsR0FBRztvQkFDdEJDLFlBQVlsQyx5Q0FBWSxDQUFDbUMsV0FBVztnQkFDdEM7WUFDRjtZQUVBcEIsY0FBY0MsT0FBTyxHQUFHLElBQUloQix3Q0FBVyxDQUFDaUI7WUFFeEMsTUFBTW1CO2lEQUFpQjtvQkFDckIsTUFBTUMsT0FBT3RCLGNBQWNDLE9BQU87b0JBQ2xDLE1BQU1zQixPQUFPO3dCQUNYOUI7d0JBQ0FDO3dCQUNBQzt3QkFDQUM7d0JBQ0FDO3dCQUNBQztvQkFDRjtvQkFDQSxNQUFNMEIsTUFBTUYsS0FBS1IsS0FBSztvQkFDdEIsSUFBSVUsSUFBSUMsUUFBUSxDQUFDLGNBQWNELElBQUlFLE9BQU8sQ0FBQyxhQUFhSDt5QkFDbkRDLElBQUlHLEtBQUssQ0FBQyxhQUFhSjtnQkFDOUI7O1lBRUEsSUFBSXZCLGNBQWNDLE9BQU8sQ0FBQzJCLFFBQVEsRUFBRVA7aUJBQy9CckIsY0FBY0MsT0FBTyxDQUFDNEIsTUFBTSxDQUFDQyxJQUFJLENBQUM3Qyx3Q0FBVyxDQUFDK0MsTUFBTSxDQUFDQyxLQUFLLEVBQUVaO1lBRWpFO2tDQUFPO29CQUNMLElBQUlyQixjQUFjQyxPQUFPLEVBQUU7d0JBQ3pCRCxjQUFjQyxPQUFPLENBQUNpQyxPQUFPLENBQUM7d0JBQzlCbEMsY0FBY0MsT0FBTyxHQUFHO29CQUMxQjtnQkFDRjs7UUFDRjt5QkFBRztRQUFDWDtRQUFPQztRQUFRRTtRQUFVQztRQUFVQztRQUFXQztRQUFhQztRQUFVQztLQUFTO0lBRWxGLHFCQUNFLDhEQUFDcUM7UUFDQ0MsS0FBS3JDO1FBQ0xQLFdBQVcsQ0FBQyxlQUFlLEVBQUVBLFdBQVc7UUFDeEM2QyxPQUFPO1lBQUUvQyxPQUFPO1lBQVFDLFFBQVE7WUFBUStDLFNBQVM7WUFBUUMsZ0JBQWdCO1lBQVVDLFlBQVk7UUFBUzs7Ozs7O0FBRzlHIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFNhaGl0aFxcT25lRHJpdmVcXERlc2t0b3BcXHlva2FpaHVudFxcZnJvbnRlbmRcXGNvbXBvbmVudHNcXEdhbWUudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0ICogYXMgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgR2FtZVNjZW5lIH0gZnJvbSBcIi4uL2xpYi9waGFzZXIvR2FtZVNjZW5lXCI7XHJcblxyXG5pbnRlcmZhY2UgR2FtZVByb3BzIHtcclxuICB3aWR0aD86IG51bWJlcjtcclxuICBoZWlnaHQ/OiBudW1iZXI7XHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gIHRpbGVTaXplPzogbnVtYmVyO1xyXG4gIG1hcFdpZHRoPzogbnVtYmVyO1xyXG4gIG1hcEhlaWdodD86IG51bWJlcjtcclxuICBwbGF5ZXJTcGVlZD86IG51bWJlcjtcclxuICBpbml0aWFsWD86IG51bWJlcjtcclxuICBpbml0aWFsWT86IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR2FtZSh7XHJcbiAgd2lkdGggPSA4MDAsXHJcbiAgaGVpZ2h0ID0gNjAwLFxyXG4gIGNsYXNzTmFtZSA9IFwiXCIsXHJcbiAgdGlsZVNpemUgPSAzMixcclxuICBtYXBXaWR0aCA9IDUwLFxyXG4gIG1hcEhlaWdodCA9IDM4LFxyXG4gIHBsYXllclNwZWVkID0gMjAwLFxyXG4gIGluaXRpYWxYLFxyXG4gIGluaXRpYWxZLFxyXG59OiBHYW1lUHJvcHMpIHtcclxuICBjb25zdCBnYW1lUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcclxuICBjb25zdCBwaGFzZXJHYW1lUmVmID0gdXNlUmVmPFBoYXNlci5HYW1lIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWdhbWVSZWYuY3VycmVudCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGNvbmZpZzogUGhhc2VyLlR5cGVzLkNvcmUuR2FtZUNvbmZpZyA9IHtcclxuICAgICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICAgIHdpZHRoLFxyXG4gICAgICBoZWlnaHQsXHJcbiAgICAgIHBhcmVudDogZ2FtZVJlZi5jdXJyZW50LFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzJjM2U1MFwiLFxyXG4gICAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogXCJhcmNhZGVcIixcclxuICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgIGdyYXZpdHk6IHsgeDogMCwgeTogMCB9LFxyXG4gICAgICAgICAgZGVidWc6IGZhbHNlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHNjZW5lOiBHYW1lU2NlbmUsXHJcbiAgICAgIHNjYWxlOiB7XHJcbiAgICAgICAgbW9kZTogUGhhc2VyLlNjYWxlLkZJVCxcclxuICAgICAgICBhdXRvQ2VudGVyOiBQaGFzZXIuU2NhbGUuQ0VOVEVSX0JPVEgsXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIHBoYXNlckdhbWVSZWYuY3VycmVudCA9IG5ldyBQaGFzZXIuR2FtZShjb25maWcpO1xyXG5cclxuICAgIGNvbnN0IHN0YXJ0T3JSZXN0YXJ0ID0gKCkgPT4ge1xyXG4gICAgICBjb25zdCBnYW1lID0gcGhhc2VyR2FtZVJlZi5jdXJyZW50IGFzIFBoYXNlci5HYW1lO1xyXG4gICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIHRpbGVTaXplLFxyXG4gICAgICAgIG1hcFdpZHRoLFxyXG4gICAgICAgIG1hcEhlaWdodCxcclxuICAgICAgICBwbGF5ZXJTcGVlZCxcclxuICAgICAgICBpbml0aWFsWCxcclxuICAgICAgICBpbml0aWFsWSxcclxuICAgICAgfTtcclxuICAgICAgY29uc3QgbWdyID0gZ2FtZS5zY2VuZTtcclxuICAgICAgaWYgKG1nci5pc0FjdGl2ZShcIkdhbWVTY2VuZVwiKSkgbWdyLnJlc3RhcnQoXCJHYW1lU2NlbmVcIiwgZGF0YSk7XHJcbiAgICAgIGVsc2UgbWdyLnN0YXJ0KFwiR2FtZVNjZW5lXCIsIGRhdGEpO1xyXG4gICAgfTtcclxuXHJcbiAgICBpZiAocGhhc2VyR2FtZVJlZi5jdXJyZW50LmlzQm9vdGVkKSBzdGFydE9yUmVzdGFydCgpO1xyXG4gICAgZWxzZSBwaGFzZXJHYW1lUmVmLmN1cnJlbnQuZXZlbnRzLm9uY2UoUGhhc2VyLkNvcmUuRXZlbnRzLlJFQURZLCBzdGFydE9yUmVzdGFydCk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKHBoYXNlckdhbWVSZWYuY3VycmVudCkge1xyXG4gICAgICAgIHBoYXNlckdhbWVSZWYuY3VycmVudC5kZXN0cm95KHRydWUpO1xyXG4gICAgICAgIHBoYXNlckdhbWVSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgW3dpZHRoLCBoZWlnaHQsIHRpbGVTaXplLCBtYXBXaWR0aCwgbWFwSGVpZ2h0LCBwbGF5ZXJTcGVlZCwgaW5pdGlhbFgsIGluaXRpYWxZXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2XHJcbiAgICAgIHJlZj17Z2FtZVJlZn1cclxuICAgICAgY2xhc3NOYW1lPXtgZ2FtZS1jb250YWluZXIgJHtjbGFzc05hbWV9YH1cclxuICAgICAgc3R5bGU9e3sgd2lkdGg6IFwiMTAwJVwiLCBoZWlnaHQ6IFwiMTAwJVwiLCBkaXNwbGF5OiBcImZsZXhcIiwganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIgfX1cclxuICAgIC8+XHJcbiAgKTtcclxufSJdLCJuYW1lcyI6WyJQaGFzZXIiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJHYW1lU2NlbmUiLCJHYW1lIiwid2lkdGgiLCJoZWlnaHQiLCJjbGFzc05hbWUiLCJ0aWxlU2l6ZSIsIm1hcFdpZHRoIiwibWFwSGVpZ2h0IiwicGxheWVyU3BlZWQiLCJpbml0aWFsWCIsImluaXRpYWxZIiwiZ2FtZVJlZiIsInBoYXNlckdhbWVSZWYiLCJjdXJyZW50IiwiY29uZmlnIiwidHlwZSIsIkFVVE8iLCJwYXJlbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwaHlzaWNzIiwiZGVmYXVsdCIsImFyY2FkZSIsImdyYXZpdHkiLCJ4IiwieSIsImRlYnVnIiwic2NlbmUiLCJzY2FsZSIsIm1vZGUiLCJTY2FsZSIsIkZJVCIsImF1dG9DZW50ZXIiLCJDRU5URVJfQk9USCIsInN0YXJ0T3JSZXN0YXJ0IiwiZ2FtZSIsImRhdGEiLCJtZ3IiLCJpc0FjdGl2ZSIsInJlc3RhcnQiLCJzdGFydCIsImlzQm9vdGVkIiwiZXZlbnRzIiwib25jZSIsIkNvcmUiLCJFdmVudHMiLCJSRUFEWSIsImRlc3Ryb3kiLCJkaXYiLCJyZWYiLCJzdHlsZSIsImRpc3BsYXkiLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/Game.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./lib/phaser/GameScene.ts":
/*!*********************************!*\
  !*** ./lib/phaser/GameScene.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameScene: () => (/* binding */ GameScene)\n/* harmony export */ });\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! socket.io-client */ \"socket.io-client\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([socket_io_client__WEBPACK_IMPORTED_MODULE_1__]);\nsocket_io_client__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nclass GameScene extends phaser__WEBPACK_IMPORTED_MODULE_0__.Scene {\n    constructor(){\n        super(\"GameScene\"), this.configData = {\n            tileSize: 32,\n            mapWidth: 50,\n            mapHeight: 38,\n            playerSpeed: 200\n        }, this.playerSpeed = 200, this.others = new Map(), this.lastSent = 0;\n    }\n    init(data) {\n        this.configData = {\n            ...this.configData,\n            ...data\n        };\n        if (this.configData.playerSpeed) this.playerSpeed = this.configData.playerSpeed;\n    }\n    preload() {\n        // Generate a simple 2-tile spritesheet (grass, wall) programmatically\n        const { tileSize } = this.configData;\n        const width = tileSize * 2;\n        const height = tileSize;\n        const sheet = this.textures.createCanvas(\"tilesheet\", width, height);\n        if (!sheet) {\n            throw new Error(\"Failed to create canvas texture 'tilesheet'\");\n        }\n        const ctx = sheet.getContext();\n        if (!ctx) {\n            throw new Error(\"Failed to get 2D rendering context from canvas 'tilesheet'\");\n        }\n        // Grass tile (index 0)\n        ctx.fillStyle = \"#2d6a4f\";\n        ctx.fillRect(0, 0, tileSize, tileSize);\n        // sprinkle dots\n        ctx.fillStyle = \"#40916c\";\n        for(let i = 0; i < 30; i++){\n            const x = Math.random() * (tileSize - 2);\n            const y = Math.random() * (tileSize - 2);\n            ctx.fillRect(x, y, 2, 2);\n        }\n        // Wall tile (index 1)\n        ctx.fillStyle = \"#6c757d\";\n        ctx.fillRect(tileSize, 0, tileSize, tileSize);\n        ctx.strokeStyle = \"#495057\";\n        for(let i = 0; i < tileSize; i += 4){\n            ctx.beginPath();\n            ctx.moveTo(tileSize, i + 0.5);\n            ctx.lineTo(tileSize * 2, i + 0.5);\n            ctx.stroke();\n        }\n        sheet.refresh();\n        // Generate a player texture (circle)\n        const g = this.make.graphics({\n            x: 0,\n            y: 0\n        });\n        g.fillStyle(0xffd166, 1);\n        g.fillCircle(tileSize / 2, tileSize / 2, tileSize * 0.4);\n        g.lineStyle(2, 0x073b4c, 1);\n        g.strokeCircle(tileSize / 2, tileSize / 2, tileSize * 0.4);\n        g.generateTexture(\"player\", tileSize, tileSize);\n        g.destroy();\n    }\n    create() {\n        const { tileSize, mapWidth, mapHeight } = this.configData;\n        // Create a blank tilemap and a dynamic layer using our generated spritesheet\n        const map = this.make.tilemap({\n            tileWidth: tileSize,\n            tileHeight: tileSize,\n            width: mapWidth,\n            height: mapHeight\n        });\n        const tileset = map.addTilesetImage(\"tiles\", \"tilesheet\", tileSize, tileSize, 0, 0);\n        if (!tileset) throw new Error(\"Failed to create tileset from tilesheet\");\n        const layer = map.createBlankLayer(\"ground\", tileset, 0, 0);\n        if (!layer) throw new Error(\"Failed to create blank ground layer\");\n        this.groundLayer = layer;\n        // Fill ground (index 0) and carve walls (index 1) along the border + a few random obstacles\n        this.groundLayer.fill(0, 0, 0, mapWidth, mapHeight);\n        for(let x = 0; x < mapWidth; x++){\n            this.groundLayer.putTileAt(1, x, 0);\n            this.groundLayer.putTileAt(1, x, mapHeight - 1);\n        }\n        for(let y = 0; y < mapHeight; y++){\n            this.groundLayer.putTileAt(1, 0, y);\n            this.groundLayer.putTileAt(1, mapWidth - 1, y);\n        }\n        // random obstacles\n        for(let i = 0; i < Math.floor(mapWidth * mapHeight * 0.05); i++){\n            const rx = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Between(1, mapWidth - 2);\n            const ry = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Between(1, mapHeight - 2);\n            this.groundLayer.putTileAt(1, rx, ry);\n        }\n        // Enable collisions for wall tiles (index 1)\n        this.groundLayer.setCollision(1, true);\n        // Player setup\n        const startX = this.configData.initialX ?? tileSize * 2;\n        const startY = this.configData.initialY ?? tileSize * 2;\n        this.player = this.physics.add.sprite(startX, startY, \"player\");\n        this.player.setDepth(10);\n        this.player.setCollideWorldBounds(true);\n        // Camera and world bounds\n        const worldWidth = mapWidth * tileSize;\n        const worldHeight = mapHeight * tileSize;\n        this.cameras.main.setBounds(0, 0, worldWidth, worldHeight);\n        this.cameras.main.startFollow(this.player, true, 0.1, 0.1);\n        this.physics.world.setBounds(0, 0, worldWidth, worldHeight);\n        // Collide player with walls\n        this.physics.add.collider(this.player, this.groundLayer);\n        // Input\n        this.cursors = this.input.keyboard?.createCursorKeys();\n        this.wasd = this.input.keyboard?.addKeys({\n            W: phaser__WEBPACK_IMPORTED_MODULE_0__.Input.Keyboard.KeyCodes.W,\n            A: phaser__WEBPACK_IMPORTED_MODULE_0__.Input.Keyboard.KeyCodes.A,\n            S: phaser__WEBPACK_IMPORTED_MODULE_0__.Input.Keyboard.KeyCodes.S,\n            D: phaser__WEBPACK_IMPORTED_MODULE_0__.Input.Keyboard.KeyCodes.D\n        });\n        // Multiplayer socket\n        this.initMultiplayer();\n    }\n    update() {\n        if (!this.player || !this.player.body) return;\n        const speed = this.playerSpeed;\n        let vx = 0;\n        let vy = 0;\n        // Arrow keys\n        if (this.cursors?.left?.isDown) vx -= 1;\n        if (this.cursors?.right?.isDown) vx += 1;\n        if (this.cursors?.up?.isDown) vy -= 1;\n        if (this.cursors?.down?.isDown) vy += 1;\n        // WASD\n        if (this.wasd?.A?.isDown) vx -= 1;\n        if (this.wasd?.D?.isDown) vx += 1;\n        if (this.wasd?.W?.isDown) vy -= 1;\n        if (this.wasd?.S?.isDown) vy += 1;\n        const body = this.player.body;\n        if (vx === 0 && vy === 0) {\n            body.setVelocity(0, 0);\n        } else {\n            const len = Math.hypot(vx, vy) || 1;\n            body.setVelocity(vx / len * speed, vy / len * speed);\n        }\n        // Throttled position sync\n        const now = this.time.now;\n        if (this.socket && now - this.lastSent > 100) {\n            this.socket.emit(\"move\", {\n                x: this.player.x,\n                y: this.player.y\n            });\n            this.lastSent = now;\n        }\n    }\n    initMultiplayer() {\n        if (this.socket) return; // already connected\n        const socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_1__.io)(\"http://localhost:4000\", {\n            transports: [\n                \"websocket\"\n            ],\n            autoConnect: true\n        });\n        this.socket = socket;\n        socket.on(\"connect\", ()=>{\n            this.myId = socket.id;\n        });\n        socket.on(\"initState\", (payload)=>{\n            // Create sprites for existing players (excluding self)\n            Object.entries(payload.players).forEach(([id, pos])=>{\n                if (id === this.myId) return;\n                this.spawnOther(id, pos.x, pos.y);\n            });\n        });\n        socket.on(\"playerJoined\", ({ id, x, y })=>{\n            if (id === this.myId) return;\n            this.spawnOther(id, x, y);\n        });\n        socket.on(\"playerMoved\", ({ id, x, y })=>{\n            const sprite = this.others.get(id);\n            if (sprite) {\n                sprite.x = x;\n                sprite.y = y;\n            }\n        });\n        socket.on(\"playerLeft\", ({ id })=>{\n            const sprite = this.others.get(id);\n            if (sprite) {\n                sprite.destroy();\n                this.others.delete(id);\n            }\n        });\n        // Cleanup on scene shutdown\n        this.events.once(phaser__WEBPACK_IMPORTED_MODULE_0__.Scenes.Events.SHUTDOWN, ()=>{\n            socket.removeAllListeners();\n            socket.disconnect();\n            this.socket = undefined;\n            this.myId = undefined;\n            this.others.forEach((s)=>{\n                s.destroy();\n            });\n            this.others.clear();\n        });\n    }\n    spawnOther(id, x, y) {\n        const s = this.add.sprite(x, y, \"player\").setTint(0x118ab2);\n        s.setDepth(5);\n        this.others.set(id, s);\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2xpYi9waGFzZXIvR2FtZVNjZW5lLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBaUM7QUFDa0I7QUFXNUMsTUFBTUUsa0JBQWtCRix5Q0FBWTtJQWlCekMsYUFBYztRQUNaLEtBQUssQ0FBQyxtQkFiQUksYUFBMEI7WUFDaENDLFVBQVU7WUFDVkMsVUFBVTtZQUNWQyxXQUFXO1lBQ1hDLGFBQWE7UUFDZixRQUNRQSxjQUFjLFVBR2RDLFNBQWlELElBQUlDLFlBQ3JEQyxXQUFXO0lBSW5CO0lBRUFDLEtBQUtDLElBQTBCLEVBQUU7UUFDL0IsSUFBSSxDQUFDVCxVQUFVLEdBQUc7WUFBRSxHQUFHLElBQUksQ0FBQ0EsVUFBVTtZQUFFLEdBQUdTLElBQUk7UUFBQztRQUNoRCxJQUFJLElBQUksQ0FBQ1QsVUFBVSxDQUFDSSxXQUFXLEVBQzdCLElBQUksQ0FBQ0EsV0FBVyxHQUFHLElBQUksQ0FBQ0osVUFBVSxDQUFDSSxXQUFXO0lBQ2xEO0lBRUFNLFVBQVU7UUFDUixzRUFBc0U7UUFDdEUsTUFBTSxFQUFFVCxRQUFRLEVBQUUsR0FBRyxJQUFJLENBQUNELFVBQVU7UUFDcEMsTUFBTVcsUUFBUVYsV0FBVztRQUN6QixNQUFNVyxTQUFTWDtRQUNmLE1BQU1ZLFFBQVEsSUFBSSxDQUFDQyxRQUFRLENBQUNDLFlBQVksQ0FBQyxhQUFhSixPQUFPQztRQUM3RCxJQUFJLENBQUNDLE9BQU87WUFDVixNQUFNLElBQUlHLE1BQU07UUFDbEI7UUFDQSxNQUFNQyxNQUFNSixNQUFNSyxVQUFVO1FBQzVCLElBQUksQ0FBQ0QsS0FBSztZQUNSLE1BQU0sSUFBSUQsTUFBTTtRQUNsQjtRQUVBLHVCQUF1QjtRQUN2QkMsSUFBSUUsU0FBUyxHQUFHO1FBQ2hCRixJQUFJRyxRQUFRLENBQUMsR0FBRyxHQUFHbkIsVUFBVUE7UUFDN0IsZ0JBQWdCO1FBQ2hCZ0IsSUFBSUUsU0FBUyxHQUFHO1FBQ2hCLElBQUssSUFBSUUsSUFBSSxHQUFHQSxJQUFJ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RUFBRXhGLENBQVMsRUFBRUcsQ0FBUyxFQUFFO1FBQ25ELE1BQU11RyxJQUFJLElBQUksQ0FBQ2pFLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDMUMsR0FBR0csR0FBRyxVQUFVeUcsT0FBTyxDQUFDO1FBQ2xERixFQUFFL0QsUUFBUSxDQUFDO1FBQ1gsSUFBSSxDQUFDNUQsTUFBTSxDQUFDOEgsR0FBRyxDQUFDckIsSUFBSWtCO0lBQ3RCO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2FoaXRoXFxPbmVEcml2ZVxcRGVza3RvcFxceW9rYWlodW50XFxmcm9udGVuZFxcbGliXFxwaGFzZXJcXEdhbWVTY2VuZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBpbywgdHlwZSBTb2NrZXQgfSBmcm9tIFwic29ja2V0LmlvLWNsaWVudFwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTY2VuZUNvbmZpZyB7XHJcbiAgdGlsZVNpemU6IG51bWJlcjtcclxuICBtYXBXaWR0aDogbnVtYmVyO1xyXG4gIG1hcEhlaWdodDogbnVtYmVyO1xyXG4gIHBsYXllclNwZWVkOiBudW1iZXI7XHJcbiAgaW5pdGlhbFg/OiBudW1iZXI7XHJcbiAgaW5pdGlhbFk/OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gIHByaXZhdGUgY3Vyc29ycz86IFBoYXNlci5UeXBlcy5JbnB1dC5LZXlib2FyZC5DdXJzb3JLZXlzO1xyXG4gIHByaXZhdGUgd2FzZD86IFJlY29yZDxcIldcIiB8IFwiQVwiIHwgXCJTXCIgfCBcIkRcIiwgUGhhc2VyLklucHV0LktleWJvYXJkLktleT47XHJcbiAgcHJpdmF0ZSBwbGF5ZXIhOiBQaGFzZXIuVHlwZXMuUGh5c2ljcy5BcmNhZGUuU3ByaXRlV2l0aER5bmFtaWNCb2R5O1xyXG4gIHByaXZhdGUgZ3JvdW5kTGF5ZXIhOiBQaGFzZXIuVGlsZW1hcHMuVGlsZW1hcExheWVyO1xyXG4gIHByaXZhdGUgY29uZmlnRGF0YTogU2NlbmVDb25maWcgPSB7XHJcbiAgICB0aWxlU2l6ZTogMzIsXHJcbiAgICBtYXBXaWR0aDogNTAsXHJcbiAgICBtYXBIZWlnaHQ6IDM4LFxyXG4gICAgcGxheWVyU3BlZWQ6IDIwMCxcclxuICB9O1xyXG4gIHByaXZhdGUgcGxheWVyU3BlZWQgPSAyMDA7XHJcbiAgcHJpdmF0ZSBzb2NrZXQ/OiBTb2NrZXQ7XHJcbiAgcHJpdmF0ZSBteUlkPzogc3RyaW5nO1xyXG4gIHByaXZhdGUgb3RoZXJzOiBNYXA8c3RyaW5nLCBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlPiA9IG5ldyBNYXAoKTtcclxuICBwcml2YXRlIGxhc3RTZW50ID0gMDtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcihcIkdhbWVTY2VuZVwiKTtcclxuICB9XHJcblxyXG4gIGluaXQoZGF0YTogUGFydGlhbDxTY2VuZUNvbmZpZz4pIHtcclxuICAgIHRoaXMuY29uZmlnRGF0YSA9IHsgLi4udGhpcy5jb25maWdEYXRhLCAuLi5kYXRhIH0gYXMgU2NlbmVDb25maWc7XHJcbiAgICBpZiAodGhpcy5jb25maWdEYXRhLnBsYXllclNwZWVkKVxyXG4gICAgICB0aGlzLnBsYXllclNwZWVkID0gdGhpcy5jb25maWdEYXRhLnBsYXllclNwZWVkO1xyXG4gIH1cclxuXHJcbiAgcHJlbG9hZCgpIHtcclxuICAgIC8vIEdlbmVyYXRlIGEgc2ltcGxlIDItdGlsZSBzcHJpdGVzaGVldCAoZ3Jhc3MsIHdhbGwpIHByb2dyYW1tYXRpY2FsbHlcclxuICAgIGNvbnN0IHsgdGlsZVNpemUgfSA9IHRoaXMuY29uZmlnRGF0YTtcclxuICAgIGNvbnN0IHdpZHRoID0gdGlsZVNpemUgKiAyO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gdGlsZVNpemU7XHJcbiAgICBjb25zdCBzaGVldCA9IHRoaXMudGV4dHVyZXMuY3JlYXRlQ2FudmFzKFwidGlsZXNoZWV0XCIsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgaWYgKCFzaGVldCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gY3JlYXRlIGNhbnZhcyB0ZXh0dXJlICd0aWxlc2hlZXQnXCIpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgY3R4ID0gc2hlZXQuZ2V0Q29udGV4dCgpO1xyXG4gICAgaWYgKCFjdHgpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGdldCAyRCByZW5kZXJpbmcgY29udGV4dCBmcm9tIGNhbnZhcyAndGlsZXNoZWV0J1wiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHcmFzcyB0aWxlIChpbmRleCAwKVxyXG4gICAgY3R4LmZpbGxTdHlsZSA9IFwiIzJkNmE0ZlwiO1xyXG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIHRpbGVTaXplLCB0aWxlU2l6ZSk7XHJcbiAgICAvLyBzcHJpbmtsZSBkb3RzXHJcbiAgICBjdHguZmlsbFN0eWxlID0gXCIjNDA5MTZjXCI7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDMwOyBpKyspIHtcclxuICAgICAgY29uc3QgeCA9IE1hdGgucmFuZG9tKCkgKiAodGlsZVNpemUgLSAyKTtcclxuICAgICAgY29uc3QgeSA9IE1hdGgucmFuZG9tKCkgKiAodGlsZVNpemUgLSAyKTtcclxuICAgICAgY3R4LmZpbGxSZWN0KHgsIHksIDIsIDIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFdhbGwgdGlsZSAoaW5kZXggMSlcclxuICAgIGN0eC5maWxsU3R5bGUgPSBcIiM2Yzc1N2RcIjtcclxuICAgIGN0eC5maWxsUmVjdCh0aWxlU2l6ZSwgMCwgdGlsZVNpemUsIHRpbGVTaXplKTtcclxuICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiIzQ5NTA1N1wiO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aWxlU2l6ZTsgaSArPSA0KSB7XHJcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgY3R4Lm1vdmVUbyh0aWxlU2l6ZSwgaSArIDAuNSk7XHJcbiAgICAgIGN0eC5saW5lVG8odGlsZVNpemUgKiAyLCBpICsgMC41KTtcclxuICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNoZWV0LnJlZnJlc2goKTtcclxuXHJcbiAgICAvLyBHZW5lcmF0ZSBhIHBsYXllciB0ZXh0dXJlIChjaXJjbGUpXHJcbiAgICBjb25zdCBnID0gdGhpcy5tYWtlLmdyYXBoaWNzKHsgeDogMCwgeTogMCB9KTtcclxuICAgIGcuZmlsbFN0eWxlKDB4ZmZkMTY2LCAxKTtcclxuICAgIGcuZmlsbENpcmNsZSh0aWxlU2l6ZSAvIDIsIHRpbGVTaXplIC8gMiwgdGlsZVNpemUgKiAwLjQpO1xyXG4gICAgZy5saW5lU3R5bGUoMiwgMHgwNzNiNGMsIDEpO1xyXG4gICAgZy5zdHJva2VDaXJjbGUodGlsZVNpemUgLyAyLCB0aWxlU2l6ZSAvIDIsIHRpbGVTaXplICogMC40KTtcclxuICAgIGcuZ2VuZXJhdGVUZXh0dXJlKFwicGxheWVyXCIsIHRpbGVTaXplLCB0aWxlU2l6ZSk7XHJcbiAgICBnLmRlc3Ryb3koKTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZSgpIHtcclxuICAgIGNvbnN0IHsgdGlsZVNpemUsIG1hcFdpZHRoLCBtYXBIZWlnaHQgfSA9IHRoaXMuY29uZmlnRGF0YTtcclxuXHJcbiAgICAvLyBDcmVhdGUgYSBibGFuayB0aWxlbWFwIGFuZCBhIGR5bmFtaWMgbGF5ZXIgdXNpbmcgb3VyIGdlbmVyYXRlZCBzcHJpdGVzaGVldFxyXG4gICAgY29uc3QgbWFwID0gdGhpcy5tYWtlLnRpbGVtYXAoe1xyXG4gICAgICB0aWxlV2lkdGg6IHRpbGVTaXplLFxyXG4gICAgICB0aWxlSGVpZ2h0OiB0aWxlU2l6ZSxcclxuICAgICAgd2lkdGg6IG1hcFdpZHRoLFxyXG4gICAgICBoZWlnaHQ6IG1hcEhlaWdodCxcclxuICAgIH0pO1xyXG4gICAgY29uc3QgdGlsZXNldCA9IG1hcC5hZGRUaWxlc2V0SW1hZ2UoXHJcbiAgICAgIFwidGlsZXNcIixcclxuICAgICAgXCJ0aWxlc2hlZXRcIixcclxuICAgICAgdGlsZVNpemUsXHJcbiAgICAgIHRpbGVTaXplLFxyXG4gICAgICAwLFxyXG4gICAgICAwLFxyXG4gICAgKTtcclxuICAgIGlmICghdGlsZXNldCkgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGNyZWF0ZSB0aWxlc2V0IGZyb20gdGlsZXNoZWV0XCIpO1xyXG4gICAgY29uc3QgbGF5ZXIgPSBtYXAuY3JlYXRlQmxhbmtMYXllcihcImdyb3VuZFwiLCB0aWxlc2V0LCAwLCAwKTtcclxuICAgIGlmICghbGF5ZXIpIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgYmxhbmsgZ3JvdW5kIGxheWVyXCIpO1xyXG4gICAgdGhpcy5ncm91bmRMYXllciA9IGxheWVyO1xyXG5cclxuICAgIC8vIEZpbGwgZ3JvdW5kIChpbmRleCAwKSBhbmQgY2FydmUgd2FsbHMgKGluZGV4IDEpIGFsb25nIHRoZSBib3JkZXIgKyBhIGZldyByYW5kb20gb2JzdGFjbGVzXHJcbiAgICB0aGlzLmdyb3VuZExheWVyLmZpbGwoMCwgMCwgMCwgbWFwV2lkdGgsIG1hcEhlaWdodCk7XHJcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IG1hcFdpZHRoOyB4KyspIHtcclxuICAgICAgdGhpcy5ncm91bmRMYXllci5wdXRUaWxlQXQoMSwgeCwgMCk7XHJcbiAgICAgIHRoaXMuZ3JvdW5kTGF5ZXIucHV0VGlsZUF0KDEsIHgsIG1hcEhlaWdodCAtIDEpO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCBtYXBIZWlnaHQ7IHkrKykge1xyXG4gICAgICB0aGlzLmdyb3VuZExheWVyLnB1dFRpbGVBdCgxLCAwLCB5KTtcclxuICAgICAgdGhpcy5ncm91bmRMYXllci5wdXRUaWxlQXQoMSwgbWFwV2lkdGggLSAxLCB5KTtcclxuICAgIH1cclxuICAgIC8vIHJhbmRvbSBvYnN0YWNsZXNcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5mbG9vcihtYXBXaWR0aCAqIG1hcEhlaWdodCAqIDAuMDUpOyBpKyspIHtcclxuICAgICAgY29uc3QgcnggPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDEsIG1hcFdpZHRoIC0gMik7XHJcbiAgICAgIGNvbnN0IHJ5ID0gUGhhc2VyLk1hdGguQmV0d2VlbigxLCBtYXBIZWlnaHQgLSAyKTtcclxuICAgICAgdGhpcy5ncm91bmRMYXllci5wdXRUaWxlQXQoMSwgcngsIHJ5KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFbmFibGUgY29sbGlzaW9ucyBmb3Igd2FsbCB0aWxlcyAoaW5kZXggMSlcclxuICAgIHRoaXMuZ3JvdW5kTGF5ZXIuc2V0Q29sbGlzaW9uKDEsIHRydWUpO1xyXG5cclxuICAgIC8vIFBsYXllciBzZXR1cFxyXG4gICAgY29uc3Qgc3RhcnRYID0gdGhpcy5jb25maWdEYXRhLmluaXRpYWxYID8/IHRpbGVTaXplICogMjtcclxuICAgIGNvbnN0IHN0YXJ0WSA9IHRoaXMuY29uZmlnRGF0YS5pbml0aWFsWSA/PyB0aWxlU2l6ZSAqIDI7XHJcbiAgICB0aGlzLnBsYXllciA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKHN0YXJ0WCwgc3RhcnRZLCBcInBsYXllclwiKTtcclxuICAgIHRoaXMucGxheWVyLnNldERlcHRoKDEwKTtcclxuICAgIHRoaXMucGxheWVyLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuXHJcbiAgICAvLyBDYW1lcmEgYW5kIHdvcmxkIGJvdW5kc1xyXG4gICAgY29uc3Qgd29ybGRXaWR0aCA9IG1hcFdpZHRoICogdGlsZVNpemU7XHJcbiAgICBjb25zdCB3b3JsZEhlaWdodCA9IG1hcEhlaWdodCAqIHRpbGVTaXplO1xyXG4gICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0Qm91bmRzKDAsIDAsIHdvcmxkV2lkdGgsIHdvcmxkSGVpZ2h0KTtcclxuICAgIHRoaXMuY2FtZXJhcy5tYWluLnN0YXJ0Rm9sbG93KHRoaXMucGxheWVyLCB0cnVlLCAwLjEsIDAuMSk7XHJcbiAgICB0aGlzLnBoeXNpY3Mud29ybGQuc2V0Qm91bmRzKDAsIDAsIHdvcmxkV2lkdGgsIHdvcmxkSGVpZ2h0KTtcclxuXHJcbiAgICAvLyBDb2xsaWRlIHBsYXllciB3aXRoIHdhbGxzXHJcbiAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMucGxheWVyLCB0aGlzLmdyb3VuZExheWVyKTtcclxuXHJcbiAgICAvLyBJbnB1dFxyXG4gICAgdGhpcy5jdXJzb3JzID0gdGhpcy5pbnB1dC5rZXlib2FyZD8uY3JlYXRlQ3Vyc29yS2V5cygpO1xyXG4gICAgdGhpcy53YXNkID0gdGhpcy5pbnB1dC5rZXlib2FyZD8uYWRkS2V5cyh7XHJcbiAgICAgIFc6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5XLFxyXG4gICAgICBBOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuQSxcclxuICAgICAgUzogUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLlMsXHJcbiAgICAgIEQ6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5ELFxyXG4gICAgfSkgYXMgUmVjb3JkPFwiV1wiIHwgXCJBXCIgfCBcIlNcIiB8IFwiRFwiLCBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5PiB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICAvLyBNdWx0aXBsYXllciBzb2NrZXRcclxuICAgIHRoaXMuaW5pdE11bHRpcGxheWVyKCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUoKSB7XHJcbiAgICBpZiAoIXRoaXMucGxheWVyIHx8ICF0aGlzLnBsYXllci5ib2R5KSByZXR1cm47XHJcblxyXG4gICAgY29uc3Qgc3BlZWQ6IG51bWJlciA9IHRoaXMucGxheWVyU3BlZWQ7XHJcbiAgICBsZXQgdnggPSAwO1xyXG4gICAgbGV0IHZ5ID0gMDtcclxuXHJcbiAgICAvLyBBcnJvdyBrZXlzXHJcbiAgICBpZiAodGhpcy5jdXJzb3JzPy5sZWZ0Py5pc0Rvd24pIHZ4IC09IDE7XHJcbiAgICBpZiAodGhpcy5jdXJzb3JzPy5yaWdodD8uaXNEb3duKSB2eCArPSAxO1xyXG4gICAgaWYgKHRoaXMuY3Vyc29ycz8udXA/LmlzRG93bikgdnkgLT0gMTtcclxuICAgIGlmICh0aGlzLmN1cnNvcnM/LmRvd24/LmlzRG93bikgdnkgKz0gMTtcclxuXHJcbiAgICAvLyBXQVNEXHJcbiAgICBpZiAodGhpcy53YXNkPy5BPy5pc0Rvd24pIHZ4IC09IDE7XHJcbiAgICBpZiAodGhpcy53YXNkPy5EPy5pc0Rvd24pIHZ4ICs9IDE7XHJcbiAgICBpZiAodGhpcy53YXNkPy5XPy5pc0Rvd24pIHZ5IC09IDE7XHJcbiAgICBpZiAodGhpcy53YXNkPy5TPy5pc0Rvd24pIHZ5ICs9IDE7XHJcblxyXG4gICAgY29uc3QgYm9keSA9IHRoaXMucGxheWVyLmJvZHkgYXMgUGhhc2VyLlBoeXNpY3MuQXJjYWRlLkJvZHk7XHJcblxyXG4gICAgaWYgKHZ4ID09PSAwICYmIHZ5ID09PSAwKSB7XHJcbiAgICAgIGJvZHkuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBsZW4gPSBNYXRoLmh5cG90KHZ4LCB2eSkgfHwgMTtcclxuICAgICAgYm9keS5zZXRWZWxvY2l0eSgodnggLyBsZW4pICogc3BlZWQsICh2eSAvIGxlbikgKiBzcGVlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGhyb3R0bGVkIHBvc2l0aW9uIHN5bmNcclxuICAgIGNvbnN0IG5vdyA9IHRoaXMudGltZS5ub3c7XHJcbiAgICBpZiAodGhpcy5zb2NrZXQgJiYgbm93IC0gdGhpcy5sYXN0U2VudCA+IDEwMCkge1xyXG4gICAgICB0aGlzLnNvY2tldC5lbWl0KFwibW92ZVwiLCB7IHg6IHRoaXMucGxheWVyLngsIHk6IHRoaXMucGxheWVyLnkgfSk7XHJcbiAgICAgIHRoaXMubGFzdFNlbnQgPSBub3c7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluaXRNdWx0aXBsYXllcigpIHtcclxuICAgIGlmICh0aGlzLnNvY2tldCkgcmV0dXJuOyAvLyBhbHJlYWR5IGNvbm5lY3RlZFxyXG5cclxuICAgIGNvbnN0IHNvY2tldCA9IGlvKFwiaHR0cDovL2xvY2FsaG9zdDo0MDAwXCIsIHtcclxuICAgICAgdHJhbnNwb3J0czogW1wid2Vic29ja2V0XCJdLFxyXG4gICAgICBhdXRvQ29ubmVjdDogdHJ1ZSxcclxuICAgIH0pO1xyXG4gICAgdGhpcy5zb2NrZXQgPSBzb2NrZXQ7XHJcblxyXG4gICAgc29ja2V0Lm9uKFwiY29ubmVjdFwiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMubXlJZCA9IHNvY2tldC5pZDtcclxuICAgIH0pO1xyXG5cclxuICAgIHNvY2tldC5vbihcclxuICAgICAgXCJpbml0U3RhdGVcIixcclxuICAgICAgKHBheWxvYWQ6IHsgcGxheWVyczogUmVjb3JkPHN0cmluZywgeyB4OiBudW1iZXI7IHk6IG51bWJlciB9PiB9KSA9PiB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHNwcml0ZXMgZm9yIGV4aXN0aW5nIHBsYXllcnMgKGV4Y2x1ZGluZyBzZWxmKVxyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHBheWxvYWQucGxheWVycykuZm9yRWFjaCgoW2lkLCBwb3NdKSA9PiB7XHJcbiAgICAgICAgICBpZiAoaWQgPT09IHRoaXMubXlJZCkgcmV0dXJuO1xyXG4gICAgICAgICAgdGhpcy5zcGF3bk90aGVyKGlkLCBwb3MueCwgcG9zLnkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgKTtcclxuXHJcbiAgICBzb2NrZXQub24oXHJcbiAgICAgIFwicGxheWVySm9pbmVkXCIsXHJcbiAgICAgICh7IGlkLCB4LCB5IH06IHsgaWQ6IHN0cmluZzsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkgPT4ge1xyXG4gICAgICAgIGlmIChpZCA9PT0gdGhpcy5teUlkKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5zcGF3bk90aGVyKGlkLCB4LCB5KTtcclxuICAgICAgfSxcclxuICAgICk7XHJcblxyXG4gICAgc29ja2V0Lm9uKFxyXG4gICAgICBcInBsYXllck1vdmVkXCIsXHJcbiAgICAgICh7IGlkLCB4LCB5IH06IHsgaWQ6IHN0cmluZzsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHNwcml0ZSA9IHRoaXMub3RoZXJzLmdldChpZCk7XHJcbiAgICAgICAgaWYgKHNwcml0ZSkge1xyXG4gICAgICAgICAgc3ByaXRlLnggPSB4O1xyXG4gICAgICAgICAgc3ByaXRlLnkgPSB5O1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICk7XHJcblxyXG4gICAgc29ja2V0Lm9uKFwicGxheWVyTGVmdFwiLCAoeyBpZCB9OiB7IGlkOiBzdHJpbmcgfSkgPT4ge1xyXG4gICAgICBjb25zdCBzcHJpdGUgPSB0aGlzLm90aGVycy5nZXQoaWQpO1xyXG4gICAgICBpZiAoc3ByaXRlKSB7XHJcbiAgICAgICAgc3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLm90aGVycy5kZWxldGUoaWQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDbGVhbnVwIG9uIHNjZW5lIHNodXRkb3duXHJcbiAgICB0aGlzLmV2ZW50cy5vbmNlKFBoYXNlci5TY2VuZXMuRXZlbnRzLlNIVVRET1dOLCAoKSA9PiB7XHJcbiAgICAgIHNvY2tldC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgICAgc29ja2V0LmRpc2Nvbm5lY3QoKTtcclxuICAgICAgdGhpcy5zb2NrZXQgPSB1bmRlZmluZWQ7XHJcbiAgICAgIHRoaXMubXlJZCA9IHVuZGVmaW5lZDtcclxuICAgICAgdGhpcy5vdGhlcnMuZm9yRWFjaCgocykgPT4ge1xyXG4gICAgICAgIHMuZGVzdHJveSgpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5vdGhlcnMuY2xlYXIoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzcGF3bk90aGVyKGlkOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBzID0gdGhpcy5hZGQuc3ByaXRlKHgsIHksIFwicGxheWVyXCIpLnNldFRpbnQoMHgxMThhYjIpO1xyXG4gICAgcy5zZXREZXB0aCg1KTtcclxuICAgIHRoaXMub3RoZXJzLnNldChpZCwgcyk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJQaGFzZXIiLCJpbyIsIkdhbWVTY2VuZSIsIlNjZW5lIiwiY29uZmlnRGF0YSIsInRpbGVTaXplIiwibWFwV2lkdGgiLCJtYXBIZWlnaHQiLCJwbGF5ZXJTcGVlZCIsIm90aGVycyIsIk1hcCIsImxhc3RTZW50IiwiaW5pdCIsImRhdGEiLCJwcmVsb2FkIiwid2lkdGgiLCJoZWlnaHQiLCJzaGVldCIsInRleHR1cmVzIiwiY3JlYXRlQ2FudmFzIiwiRXJyb3IiLCJjdHgiLCJnZXRDb250ZXh0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJpIiwieCIsIk1hdGgiLCJyYW5kb20iLCJ5Iiwic3Ryb2tlU3R5bGUiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJyZWZyZXNoIiwiZyIsIm1ha2UiLCJncmFwaGljcyIsImZpbGxDaXJjbGUiLCJsaW5lU3R5bGUiLCJzdHJva2VDaXJjbGUiLCJnZW5lcmF0ZVRleHR1cmUiLCJkZXN0cm95IiwiY3JlYXRlIiwibWFwIiwidGlsZW1hcCIsInRpbGVXaWR0aCIsInRpbGVIZWlnaHQiLCJ0aWxlc2V0IiwiYWRkVGlsZXNldEltYWdlIiwibGF5ZXIiLCJjcmVhdGVCbGFua0xheWVyIiwiZ3JvdW5kTGF5ZXIiLCJmaWxsIiwicHV0VGlsZUF0IiwiZmxvb3IiLCJyeCIsIkJldHdlZW4iLCJyeSIsInNldENvbGxpc2lvbiIsInN0YXJ0WCIsImluaXRpYWxYIiwic3RhcnRZIiwiaW5pdGlhbFkiLCJwbGF5ZXIiLCJwaHlzaWNzIiwiYWRkIiwic3ByaXRlIiwic2V0RGVwdGgiLCJzZXRDb2xsaWRlV29ybGRCb3VuZHMiLCJ3b3JsZFdpZHRoIiwid29ybGRIZWlnaHQiLCJjYW1lcmFzIiwibWFpbiIsInNldEJvdW5kcyIsInN0YXJ0Rm9sbG93Iiwid29ybGQiLCJjb2xsaWRlciIsImN1cnNvcnMiLCJpbnB1dCIsImtleWJvYXJkIiwiY3JlYXRlQ3Vyc29yS2V5cyIsIndhc2QiLCJhZGRLZXlzIiwiVyIsIklucHV0IiwiS2V5Ym9hcmQiLCJLZXlDb2RlcyIsIkEiLCJTIiwiRCIsImluaXRNdWx0aXBsYXllciIsInVwZGF0ZSIsImJvZHkiLCJzcGVlZCIsInZ4IiwidnkiLCJsZWZ0IiwiaXNEb3duIiwicmlnaHQiLCJ1cCIsImRvd24iLCJzZXRWZWxvY2l0eSIsImxlbiIsImh5cG90Iiwibm93IiwidGltZSIsInNvY2tldCIsImVtaXQiLCJ0cmFuc3BvcnRzIiwiYXV0b0Nvbm5lY3QiLCJvbiIsIm15SWQiLCJpZCIsInBheWxvYWQiLCJPYmplY3QiLCJlbnRyaWVzIiwicGxheWVycyIsImZvckVhY2giLCJwb3MiLCJzcGF3bk90aGVyIiwiZ2V0IiwiZGVsZXRlIiwiZXZlbnRzIiwib25jZSIsIlNjZW5lcyIsIkV2ZW50cyIsIlNIVVRET1dOIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZGlzY29ubmVjdCIsInVuZGVmaW5lZCIsInMiLCJjbGVhciIsInNldFRpbnQiLCJzZXQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./lib/phaser/GameScene.ts\n");

/***/ })

};
;