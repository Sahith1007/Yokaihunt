"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_pages-dir-node_components_Game_tsx";
exports.ids = ["_pages-dir-node_components_Game_tsx"];
exports.modules = {

/***/ "(pages-dir-node)/./components/Game.tsx":
/*!*****************************!*\
  !*** ./components/Game.tsx ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Game)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_phaser_GameScene__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/phaser/GameScene */ \"(pages-dir-node)/./lib/phaser/GameScene.ts\");\n/* harmony import */ var _lib_phaser_BattleScene__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/phaser/BattleScene */ \"(pages-dir-node)/./lib/phaser/BattleScene.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_phaser_GameScene__WEBPACK_IMPORTED_MODULE_3__]);\n_lib_phaser_GameScene__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\nfunction Game({ className = \"\", tileSize = 32, mapWidth = 50, mapHeight = 38, playerSpeed = 200, initialX, initialY, onPokemonSpotted, onPokemonCleared, onSpawnsUpdate, playerPokemon }) {\n    const gameRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const phaserGameRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"Game.useEffect\": ()=>{\n            if (!gameRef.current) return;\n            const getSize = {\n                \"Game.useEffect.getSize\": ()=>({\n                        w: gameRef.current.clientWidth,\n                        h: gameRef.current.clientHeight\n                    })\n            }[\"Game.useEffect.getSize\"];\n            const { w, h } = getSize();\n            const config = {\n                type: phaser__WEBPACK_IMPORTED_MODULE_1__.AUTO,\n                width: Math.max(320, w),\n                height: Math.max(240, h),\n                parent: gameRef.current,\n                backgroundColor: \"#0b0e14\",\n                physics: {\n                    default: \"arcade\",\n                    arcade: {\n                        gravity: {\n                            x: 0,\n                            y: 0\n                        },\n                        debug: false\n                    }\n                },\n                scene: [\n                    _lib_phaser_GameScene__WEBPACK_IMPORTED_MODULE_3__.GameScene,\n                    _lib_phaser_BattleScene__WEBPACK_IMPORTED_MODULE_4__.BattleScene\n                ],\n                scale: {\n                    mode: phaser__WEBPACK_IMPORTED_MODULE_1__.Scale.RESIZE,\n                    autoCenter: phaser__WEBPACK_IMPORTED_MODULE_1__.Scale.CENTER_BOTH\n                }\n            };\n            phaserGameRef.current = new phaser__WEBPACK_IMPORTED_MODULE_1__.Game(config);\n            const startOrRestart = {\n                \"Game.useEffect.startOrRestart\": ()=>{\n                    const game = phaserGameRef.current;\n                    const data = {\n                        tileSize,\n                        mapWidth,\n                        mapHeight,\n                        playerSpeed,\n                        initialX,\n                        initialY,\n                        onPokemonSpotted,\n                        onPokemonCleared,\n                        onSpawnsUpdate,\n                        playerPokemon\n                    };\n                    const mgr = game.scene;\n                    if (mgr.isActive(\"GameScene\")) {\n                        mgr.stop(\"GameScene\");\n                        mgr.start(\"GameScene\", data);\n                    } else {\n                        mgr.start(\"GameScene\", data);\n                    }\n                }\n            }[\"Game.useEffect.startOrRestart\"];\n            if (phaserGameRef.current.isBooted) startOrRestart();\n            else phaserGameRef.current.events.once(phaser__WEBPACK_IMPORTED_MODULE_1__.Core.Events.READY, startOrRestart);\n            const ro = new ResizeObserver({\n                \"Game.useEffect\": ()=>{\n                    if (!phaserGameRef.current || !gameRef.current) return;\n                    const { w: nw, h: nh } = getSize();\n                    phaserGameRef.current.scale.resize(Math.max(320, nw), Math.max(240, nh));\n                }\n            }[\"Game.useEffect\"]);\n            ro.observe(gameRef.current);\n            return ({\n                \"Game.useEffect\": ()=>{\n                    ro.disconnect();\n                    if (phaserGameRef.current) {\n                        phaserGameRef.current.destroy(true);\n                        phaserGameRef.current = null;\n                    }\n                }\n            })[\"Game.useEffect\"];\n        }\n    }[\"Game.useEffect\"], [\n        tileSize,\n        mapWidth,\n        mapHeight,\n        playerSpeed,\n        initialX,\n        initialY,\n        onPokemonSpotted,\n        onPokemonCleared,\n        onSpawnsUpdate,\n        playerPokemon\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: gameRef,\n        className: `game-container ${className}`,\n        style: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Sahith\\\\OneDrive\\\\Desktop\\\\yokaihunt\\\\frontend\\\\components\\\\Game.tsx\",\n        lineNumber: 109,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU8sQ0FBQ2lELE9BQU8sQ0FBQzt3QkFDOUJsRCxjQUFjQyxPQUFPLEdBQUc7b0JBQzFCO2dCQUNGOztRQUNGO3lCQUFHO1FBQUNaO1FBQVVDO1FBQVVDO1FBQVdDO1FBQWFDO1FBQVVDO1FBQVVDO1FBQWtCQztRQUFrQkM7UUFBZ0JDO0tBQWM7SUFFdEkscUJBQ0UsOERBQUNxRDtRQUNDQyxLQUFLckQ7UUFDTFgsV0FBVyxDQUFDLGVBQWUsRUFBRUEsV0FBVztRQUN4Q2lFLE9BQU87WUFBRTNDLE9BQU87WUFBUUcsUUFBUTtRQUFPOzs7Ozs7QUFHN0MiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2FoaXRoXFxPbmVEcml2ZVxcRGVza3RvcFxceW9rYWlodW50XFxmcm9udGVuZFxcY29tcG9uZW50c1xcR2FtZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcblxyXG5pbXBvcnQgKiBhcyBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyBHYW1lU2NlbmUgfSBmcm9tIFwiLi4vbGliL3BoYXNlci9HYW1lU2NlbmVcIjtcclxuaW1wb3J0IHsgQmF0dGxlU2NlbmUgfSBmcm9tIFwiLi4vbGliL3BoYXNlci9CYXR0bGVTY2VuZVwiO1xyXG5cclxuaW50ZXJmYWNlIEdhbWVQcm9wcyB7XHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gIHRpbGVTaXplPzogbnVtYmVyO1xyXG4gIG1hcFdpZHRoPzogbnVtYmVyO1xyXG4gIG1hcEhlaWdodD86IG51bWJlcjtcclxuICBwbGF5ZXJTcGVlZD86IG51bWJlcjtcclxuICBpbml0aWFsWD86IG51bWJlcjtcclxuICBpbml0aWFsWT86IG51bWJlcjtcclxuICBvblBva2Vtb25TcG90dGVkPzogKHBva2Vtb246IHsgbmFtZTogc3RyaW5nOyBzcHJpdGVVcmw6IHN0cmluZzsgcG9rZUlkOiBudW1iZXIgfSkgPT4gdm9pZDtcclxuICBvblBva2Vtb25DbGVhcmVkPzogKCkgPT4gdm9pZDtcclxuICBvblNwYXduc1VwZGF0ZT86IChzcGF3bnM6IGFueVtdKSA9PiB2b2lkO1xyXG4gIHBsYXllclBva2Vtb24/OiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdhbWUoe1xyXG4gIGNsYXNzTmFtZSA9IFwiXCIsXHJcbiAgdGlsZVNpemUgPSAzMixcclxuICBtYXBXaWR0aCA9IDUwLFxyXG4gIG1hcEhlaWdodCA9IDM4LFxyXG4gIHBsYXllclNwZWVkID0gMjAwLFxyXG4gIGluaXRpYWxYLFxyXG4gIGluaXRpYWxZLFxyXG4gIG9uUG9rZW1vblNwb3R0ZWQsXHJcbiAgb25Qb2tlbW9uQ2xlYXJlZCxcclxuICBvblNwYXduc1VwZGF0ZSxcclxuICBwbGF5ZXJQb2tlbW9uLFxyXG59OiBHYW1lUHJvcHMpIHtcclxuICBjb25zdCBnYW1lUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcclxuICBjb25zdCBwaGFzZXJHYW1lUmVmID0gdXNlUmVmPFBoYXNlci5HYW1lIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWdhbWVSZWYuY3VycmVudCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGdldFNpemUgPSAoKSA9PiAoeyB3OiBnYW1lUmVmLmN1cnJlbnQhLmNsaWVudFdpZHRoLCBoOiBnYW1lUmVmLmN1cnJlbnQhLmNsaWVudEhlaWdodCB9KTtcclxuICAgIGNvbnN0IHsgdywgaCB9ID0gZ2V0U2l6ZSgpO1xyXG5cclxuICAgIGNvbnN0IGNvbmZpZzogUGhhc2VyLlR5cGVzLkNvcmUuR2FtZUNvbmZpZyA9IHtcclxuICAgICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICAgIHdpZHRoOiBNYXRoLm1heCgzMjAsIHcpLFxyXG4gICAgICBoZWlnaHQ6IE1hdGgubWF4KDI0MCwgaCksXHJcbiAgICAgIHBhcmVudDogZ2FtZVJlZi5jdXJyZW50LFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzBiMGUxNFwiLFxyXG4gICAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogXCJhcmNhZGVcIixcclxuICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgIGdyYXZpdHk6IHsgeDogMCwgeTogMCB9LFxyXG4gICAgICAgICAgZGVidWc6IGZhbHNlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHNjZW5lOiBbR2FtZVNjZW5lLCBCYXR0bGVTY2VuZV0sXHJcbiAgICAgIHNjYWxlOiB7XHJcbiAgICAgICAgbW9kZTogUGhhc2VyLlNjYWxlLlJFU0laRSxcclxuICAgICAgICBhdXRvQ2VudGVyOiBQaGFzZXIuU2NhbGUuQ0VOVEVSX0JPVEgsXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIHBoYXNlckdhbWVSZWYuY3VycmVudCA9IG5ldyBQaGFzZXIuR2FtZShjb25maWcpO1xyXG5cclxuICAgIGNvbnN0IHN0YXJ0T3JSZXN0YXJ0ID0gKCkgPT4ge1xyXG4gICAgICBjb25zdCBnYW1lID0gcGhhc2VyR2FtZVJlZi5jdXJyZW50IGFzIFBoYXNlci5HYW1lO1xyXG4gICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIHRpbGVTaXplLFxyXG4gICAgICAgIG1hcFdpZHRoLFxyXG4gICAgICAgIG1hcEhlaWdodCxcclxuICAgICAgICBwbGF5ZXJTcGVlZCxcclxuICAgICAgICBpbml0aWFsWCxcclxuICAgICAgICBpbml0aWFsWSxcclxuICAgICAgICBvblBva2Vtb25TcG90dGVkLFxyXG4gICAgICAgIG9uUG9rZW1vbkNsZWFyZWQsXHJcbiAgICAgICAgb25TcGF3bnNVcGRhdGUsXHJcbiAgICAgICAgcGxheWVyUG9rZW1vbixcclxuICAgICAgfTtcclxuICAgICAgY29uc3QgbWdyID0gZ2FtZS5zY2VuZTtcclxuICAgICAgaWYgKG1nci5pc0FjdGl2ZShcIkdhbWVTY2VuZVwiKSkge1xyXG4gICAgICAgIG1nci5zdG9wKFwiR2FtZVNjZW5lXCIpO1xyXG4gICAgICAgIG1nci5zdGFydChcIkdhbWVTY2VuZVwiLCBkYXRhKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBtZ3Iuc3RhcnQoXCJHYW1lU2NlbmVcIiwgZGF0YSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaWYgKHBoYXNlckdhbWVSZWYuY3VycmVudC5pc0Jvb3RlZCkgc3RhcnRPclJlc3RhcnQoKTtcclxuICAgIGVsc2UgcGhhc2VyR2FtZVJlZi5jdXJyZW50LmV2ZW50cy5vbmNlKFBoYXNlci5Db3JlLkV2ZW50cy5SRUFEWSwgc3RhcnRPclJlc3RhcnQpO1xyXG5cclxuICAgIGNvbnN0IHJvID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHtcclxuICAgICAgaWYgKCFwaGFzZXJHYW1lUmVmLmN1cnJlbnQgfHwgIWdhbWVSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgICBjb25zdCB7IHc6IG53LCBoOiBuaCB9ID0gZ2V0U2l6ZSgpO1xyXG4gICAgICBwaGFzZXJHYW1lUmVmLmN1cnJlbnQuc2NhbGUucmVzaXplKE1hdGgubWF4KDMyMCwgbncpLCBNYXRoLm1heCgyNDAsIG5oKSk7XHJcbiAgICB9KTtcclxuICAgIHJvLm9ic2VydmUoZ2FtZVJlZi5jdXJyZW50KTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICByby5kaXNjb25uZWN0KCk7XHJcbiAgICAgIGlmIChwaGFzZXJHYW1lUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBwaGFzZXJHYW1lUmVmLmN1cnJlbnQuZGVzdHJveSh0cnVlKTtcclxuICAgICAgICBwaGFzZXJHYW1lUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFt0aWxlU2l6ZSwgbWFwV2lkdGgsIG1hcEhlaWdodCwgcGxheWVyU3BlZWQsIGluaXRpYWxYLCBpbml0aWFsWSwgb25Qb2tlbW9uU3BvdHRlZCwgb25Qb2tlbW9uQ2xlYXJlZCwgb25TcGF3bnNVcGRhdGUsIHBsYXllclBva2Vtb25dKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXZcclxuICAgICAgcmVmPXtnYW1lUmVmfVxyXG4gICAgICBjbGFzc05hbWU9e2BnYW1lLWNvbnRhaW5lciAke2NsYXNzTmFtZX1gfVxyXG4gICAgICBzdHlsZT17eyB3aWR0aDogXCIxMDAlXCIsIGhlaWdodDogXCIxMDAlXCIgfX1cclxuICAgIC8+XHJcbiAgKTtcclxufVxyXG4iXSwibmFtZXMiOlsiUGhhc2VyIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiR2FtZVNjZW5lIiwiQmF0dGxlU2NlbmUiLCJHYW1lIiwiY2xhc3NOYW1lIiwidGlsZVNpemUiLCJtYXBXaWR0aCIsIm1hcEhlaWdodCIsInBsYXllclNwZWVkIiwiaW5pdGlhbFgiLCJpbml0aWFsWSIsIm9uUG9rZW1vblNwb3R0ZWQiLCJvblBva2Vtb25DbGVhcmVkIiwib25TcGF3bnNVcGRhdGUiLCJwbGF5ZXJQb2tlbW9uIiwiZ2FtZVJlZiIsInBoYXNlckdhbWVSZWYiLCJjdXJyZW50IiwiZ2V0U2l6ZSIsInciLCJjbGllbnRXaWR0aCIsImgiLCJjbGllbnRIZWlnaHQiLCJjb25maWciLCJ0eXBlIiwiQVVUTyIsIndpZHRoIiwiTWF0aCIsIm1heCIsImhlaWdodCIsInBhcmVudCIsImJhY2tncm91bmRDb2xvciIsInBoeXNpY3MiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZ3Jhdml0eSIsIngiLCJ5IiwiZGVidWciLCJzY2VuZSIsInNjYWxlIiwibW9kZSIsIlNjYWxlIiwiUkVTSVpFIiwiYXV0b0NlbnRlciIsIkNFTlRFUl9CT1RIIiwic3RhcnRPclJlc3RhcnQiLCJnYW1lIiwiZGF0YSIsIm1nciIsImlzQWN0aXZlIiwic3RvcCIsInN0YXJ0IiwiaXNCb290ZWQiLCJldmVudHMiLCJvbmNlIiwiQ29yZSIsIkV2ZW50cyIsIlJFQURZIiwicm8iLCJSZXNpemVPYnNlcnZlciIsIm53IiwibmgiLCJyZXNpemUiLCJvYnNlcnZlIiwiZGlzY29ubmVjdCIsImRlc3Ryb3kiLCJkaXYiLCJyZWYiLCJzdHlsZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/Game.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./lib/biomes.ts":
/*!***********************!*\
  !*** ./lib/biomes.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BIOMES: () => (/* binding */ BIOMES)\n/* harmony export */ });\nconst BIOMES = {\n    grassland: {\n        id: \"grassland\",\n        name: \"Grassland\",\n        environmentColor: 0x87cc5c,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"grass\",\n            \"bug\",\n            \"normal\",\n            \"flying\"\n        ],\n        weather: \"sun\"\n    },\n    desert: {\n        id: \"desert\",\n        name: \"Desert\",\n        environmentColor: 0xdeb887,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"ground\",\n            \"rock\",\n            \"fire\"\n        ],\n        weather: \"sun\"\n    },\n    lake: {\n        id: \"lake\",\n        name: \"Lake\",\n        environmentColor: 0x66a3ff,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"water\",\n            \"dragon\",\n            \"fairy\"\n        ],\n        weather: \"fog\"\n    },\n    city: {\n        id: \"city\",\n        name: \"City\",\n        environmentColor: 0x999999,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"electric\",\n            \"normal\",\n            \"steel\",\n            \"fighting\"\n        ],\n        weather: \"none\"\n    },\n    mountain: {\n        id: \"mountain\",\n        name: \"Mountain\",\n        environmentColor: 0xb0c4de,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"rock\",\n            \"ground\",\n            \"ice\",\n            \"dragon\"\n        ],\n        weather: \"snow\"\n    },\n    cave: {\n        id: \"cave\",\n        name: \"Cave\",\n        environmentColor: 0x444444,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"rock\",\n            \"ground\",\n            \"poison\",\n            \"dark\"\n        ],\n        weather: \"fog\"\n    },\n    forest: {\n        id: \"forest\",\n        name: \"Forest\",\n        environmentColor: 0x2f6f4f,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"grass\",\n            \"bug\",\n            \"fairy\"\n        ],\n        weather: \"fog\"\n    },\n    snowfield: {\n        id: \"snowfield\",\n        name: \"Snowfield\",\n        environmentColor: 0xe0f7ff,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"ice\",\n            \"water\"\n        ],\n        weather: \"snow\"\n    },\n    tower: {\n        id: \"tower\",\n        name: \"Ancient Tower\",\n        environmentColor: 0x551a8b,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"ghost\",\n            \"dark\"\n        ],\n        weather: \"fog\"\n    },\n    lab: {\n        id: \"lab\",\n        name: \"Research Lab\",\n        environmentColor: 0xccccff,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"electric\",\n            \"steel\",\n            \"psychic\"\n        ],\n        weather: \"none\"\n    },\n    temple: {\n        id: \"temple\",\n        name: \"Desert Temple\",\n        environmentColor: 0xc2b280,\n        tileSet: {\n            ground: \"tilesheet\",\n            obstacle: \"tilesheet\"\n        },\n        pokemonPool: [\n            \"ground\",\n            \"rock\",\n            \"fire\"\n        ],\n        weather: \"sun\"\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2xpYi9iaW9tZXMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQWNPLE1BQU1BLFNBQW9DO0lBQy9DQyxXQUFXO1FBQ1RDLElBQUk7UUFDSkMsTUFBTTtRQUNOQyxrQkFBa0I7UUFDbEJDLFNBQVM7WUFBRUMsUUFBUTtZQUFhQyxVQUFVO1FBQVk7UUFDdERDLGFBQWE7WUFBQztZQUFTO1lBQU87WUFBVTtTQUFTO1FBQ2pEQyxTQUFTO0lBQ1g7SUFDQUMsUUFBUTtRQUNOUixJQUFJO1FBQ0pDLE1BQU07UUFDTkMsa0JBQWtCO1FBQ2xCQyxTQUFTO1lBQUVDLFFBQVE7WUFBYUMsVUFBVTtRQUFZO1FBQ3REQyxhQUFhO1lBQUM7WUFBVTtZQUFRO1NBQU87UUFDdkNDLFNBQVM7SUFDWDtJQUNBRSxNQUFNO1FBQ0pULElBQUk7UUFDSkMsTUFBTTtRQUNOQyxrQkFBa0I7UUFDbEJDLFNBQVM7WUFBRUMsUUFBUTtZQUFhQyxVQUFVO1FBQVk7UUFDdERDLGFBQWE7WUFBQztZQUFTO1lBQVU7U0FBUTtRQUN6Q0MsU0FBUztJQUNYO0lBQ0FHLE1BQU07UUFDSlYsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLGtCQUFrQjtRQUNsQkMsU0FBUztZQUFFQyxRQUFRO1lBQWFDLFVBQVU7UUFBWTtRQUN0REMsYUFBYTtZQUFDO1lBQVk7WUFBVTtZQUFTO1NBQVc7UUFDeERDLFNBQVM7SUFDWDtJQUNBSSxVQUFVO1FBQ1JYLElBQUk7UUFDSkMsTUFBTTtRQUNOQyxrQkFBa0I7UUFDbEJDLFNBQVM7WUFBRUMsUUFBUTtZQUFhQyxVQUFVO1FBQVk7UUFDdERDLGFBQWE7WUFBQztZQUFRO1lBQVU7WUFBTztTQUFTO1FBQ2hEQyxTQUFTO0lBQ1g7SUFDQUssTUFBTTtRQUNKWixJQUFJO1FBQ0pDLE1BQU07UUFDTkMsa0JBQWtCO1FBQ2xCQyxTQUFTO1lBQUVDLFFBQVE7WUFBYUMsVUFBVTtRQUFZO1FBQ3REQyxhQUFhO1lBQUM7WUFBUTtZQUFVO1lBQVU7U0FBTztRQUNqREMsU0FBUztJQUNYO0lBQ0FNLFFBQVE7UUFDTmIsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLGtCQUFrQjtRQUNsQkMsU0FBUztZQUFFQyxRQUFRO1lBQWFDLFVBQVU7UUFBWTtRQUN0REMsYUFBYTtZQUFDO1lBQVM7WUFBTztTQUFRO1FBQ3RDQyxTQUFTO0lBQ1g7SUFDQU8sV0FBVztRQUNUZCxJQUFJO1FBQ0pDLE1BQU07UUFDTkMsa0JBQWtCO1FBQ2xCQyxTQUFTO1lBQUVDLFFBQVE7WUFBYUMsVUFBVTtRQUFZO1FBQ3REQyxhQUFhO1lBQUM7WUFBTztTQUFRO1FBQzdCQyxTQUFTO0lBQ1g7SUFDQVEsT0FBTztRQUNMZixJQUFJO1FBQ0pDLE1BQU07UUFDTkMsa0JBQWtCO1FBQ2xCQyxTQUFTO1lBQUVDLFFBQVE7WUFBYUMsVUFBVTtRQUFZO1FBQ3REQyxhQUFhO1lBQUM7WUFBUztTQUFPO1FBQzlCQyxTQUFTO0lBQ1g7SUFDQVMsS0FBSztRQUNIaEIsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLGtCQUFrQjtRQUNsQkMsU0FBUztZQUFFQyxRQUFRO1lBQWFDLFVBQVU7UUFBWTtRQUN0REMsYUFBYTtZQUFDO1lBQVk7WUFBUztTQUFVO1FBQzdDQyxTQUFTO0lBQ1g7SUFDQVUsUUFBUTtRQUNOakIsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLGtCQUFrQjtRQUNsQkMsU0FBUztZQUFFQyxRQUFRO1lBQWFDLFVBQVU7UUFBWTtRQUN0REMsYUFBYTtZQUFDO1lBQVU7WUFBUTtTQUFPO1FBQ3ZDQyxTQUFTO0lBQ1g7QUFDRixFQUFFIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFNhaGl0aFxcT25lRHJpdmVcXERlc2t0b3BcXHlva2FpaHVudFxcZnJvbnRlbmRcXGxpYlxcYmlvbWVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB0eXBlIEJpb21lSWQgPSBcImdyYXNzbGFuZFwiIHwgXCJkZXNlcnRcIiB8IFwibGFrZVwiIHwgXCJjaXR5XCIgfCBcIm1vdW50YWluXCIgfCBcImNhdmVcIiB8IFwiZm9yZXN0XCIgfCBcInNub3dmaWVsZFwiIHwgXCJ0b3dlclwiIHwgXCJsYWJcIiB8IFwidGVtcGxlXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJpb21lRGVmIHtcclxuICBpZDogQmlvbWVJZDtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgZW52aXJvbm1lbnRDb2xvcjogbnVtYmVyOyAvLyBoZXggY29sb3IgZm9yIG92ZXJsYXlcclxuICB0aWxlU2V0OiB7XHJcbiAgICBncm91bmQ6IHN0cmluZzsgLy8ga2V5IHVzZWQgaW4gUGhhc2VyIHRleHR1cmVzIG1hbmFnZXJcclxuICAgIG9ic3RhY2xlOiBzdHJpbmc7XHJcbiAgfTtcclxuICBwb2tlbW9uUG9vbDogc3RyaW5nW107IC8vIHR5cGUgbmFtZXMgdG8gcHJlZmVyXHJcbiAgd2VhdGhlcj86IFwiZm9nXCIgfCBcInNub3dcIiB8IFwic3VuXCIgfCBcIm5vbmVcIjtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEJJT01FUzogUmVjb3JkPEJpb21lSWQsIEJpb21lRGVmPiA9IHtcclxuICBncmFzc2xhbmQ6IHtcclxuICAgIGlkOiBcImdyYXNzbGFuZFwiLFxyXG4gICAgbmFtZTogXCJHcmFzc2xhbmRcIixcclxuICAgIGVudmlyb25tZW50Q29sb3I6IDB4ODdjYzVjLFxyXG4gICAgdGlsZVNldDogeyBncm91bmQ6IFwidGlsZXNoZWV0XCIsIG9ic3RhY2xlOiBcInRpbGVzaGVldFwiIH0sXHJcbiAgICBwb2tlbW9uUG9vbDogW1wiZ3Jhc3NcIiwgXCJidWdcIiwgXCJub3JtYWxcIiwgXCJmbHlpbmdcIl0sXHJcbiAgICB3ZWF0aGVyOiBcInN1blwiLFxyXG4gIH0sXHJcbiAgZGVzZXJ0OiB7XHJcbiAgICBpZDogXCJkZXNlcnRcIixcclxuICAgIG5hbWU6IFwiRGVzZXJ0XCIsXHJcbiAgICBlbnZpcm9ubWVudENvbG9yOiAweGRlYjg4NyxcclxuICAgIHRpbGVTZXQ6IHsgZ3JvdW5kOiBcInRpbGVzaGVldFwiLCBvYnN0YWNsZTogXCJ0aWxlc2hlZXRcIiB9LFxyXG4gICAgcG9rZW1vblBvb2w6IFtcImdyb3VuZFwiLCBcInJvY2tcIiwgXCJmaXJlXCJdLFxyXG4gICAgd2VhdGhlcjogXCJzdW5cIixcclxuICB9LFxyXG4gIGxha2U6IHtcclxuICAgIGlkOiBcImxha2VcIixcclxuICAgIG5hbWU6IFwiTGFrZVwiLFxyXG4gICAgZW52aXJvbm1lbnRDb2xvcjogMHg2NmEzZmYsXHJcbiAgICB0aWxlU2V0OiB7IGdyb3VuZDogXCJ0aWxlc2hlZXRcIiwgb2JzdGFjbGU6IFwidGlsZXNoZWV0XCIgfSxcclxuICAgIHBva2Vtb25Qb29sOiBbXCJ3YXRlclwiLCBcImRyYWdvblwiLCBcImZhaXJ5XCJdLFxyXG4gICAgd2VhdGhlcjogXCJmb2dcIixcclxuICB9LFxyXG4gIGNpdHk6IHtcclxuICAgIGlkOiBcImNpdHlcIixcclxuICAgIG5hbWU6IFwiQ2l0eVwiLFxyXG4gICAgZW52aXJvbm1lbnRDb2xvcjogMHg5OTk5OTksXHJcbiAgICB0aWxlU2V0OiB7IGdyb3VuZDogXCJ0aWxlc2hlZXRcIiwgb2JzdGFjbGU6IFwidGlsZXNoZWV0XCIgfSxcclxuICAgIHBva2Vtb25Qb29sOiBbXCJlbGVjdHJpY1wiLCBcIm5vcm1hbFwiLCBcInN0ZWVsXCIsIFwiZmlnaHRpbmdcIl0sXHJcbiAgICB3ZWF0aGVyOiBcIm5vbmVcIixcclxuICB9LFxyXG4gIG1vdW50YWluOiB7XHJcbiAgICBpZDogXCJtb3VudGFpblwiLFxyXG4gICAgbmFtZTogXCJNb3VudGFpblwiLFxyXG4gICAgZW52aXJvbm1lbnRDb2xvcjogMHhiMGM0ZGUsXHJcbiAgICB0aWxlU2V0OiB7IGdyb3VuZDogXCJ0aWxlc2hlZXRcIiwgb2JzdGFjbGU6IFwidGlsZXNoZWV0XCIgfSxcclxuICAgIHBva2Vtb25Qb29sOiBbXCJyb2NrXCIsIFwiZ3JvdW5kXCIsIFwiaWNlXCIsIFwiZHJhZ29uXCJdLFxyXG4gICAgd2VhdGhlcjogXCJzbm93XCIsXHJcbiAgfSxcclxuICBjYXZlOiB7XHJcbiAgICBpZDogXCJjYXZlXCIsXHJcbiAgICBuYW1lOiBcIkNhdmVcIixcclxuICAgIGVudmlyb25tZW50Q29sb3I6IDB4NDQ0NDQ0LFxyXG4gICAgdGlsZVNldDogeyBncm91bmQ6IFwidGlsZXNoZWV0XCIsIG9ic3RhY2xlOiBcInRpbGVzaGVldFwiIH0sXHJcbiAgICBwb2tlbW9uUG9vbDogW1wicm9ja1wiLCBcImdyb3VuZFwiLCBcInBvaXNvblwiLCBcImRhcmtcIl0sXHJcbiAgICB3ZWF0aGVyOiBcImZvZ1wiLFxyXG4gIH0sXHJcbiAgZm9yZXN0OiB7XHJcbiAgICBpZDogXCJmb3Jlc3RcIixcclxuICAgIG5hbWU6IFwiRm9yZXN0XCIsXHJcbiAgICBlbnZpcm9ubWVudENvbG9yOiAweDJmNmY0ZixcclxuICAgIHRpbGVTZXQ6IHsgZ3JvdW5kOiBcInRpbGVzaGVldFwiLCBvYnN0YWNsZTogXCJ0aWxlc2hlZXRcIiB9LFxyXG4gICAgcG9rZW1vblBvb2w6IFtcImdyYXNzXCIsIFwiYnVnXCIsIFwiZmFpcnlcIl0sXHJcbiAgICB3ZWF0aGVyOiBcImZvZ1wiLFxyXG4gIH0sXHJcbiAgc25vd2ZpZWxkOiB7XHJcbiAgICBpZDogXCJzbm93ZmllbGRcIixcclxuICAgIG5hbWU6IFwiU25vd2ZpZWxkXCIsXHJcbiAgICBlbnZpcm9ubWVudENvbG9yOiAweGUwZjdmZixcclxuICAgIHRpbGVTZXQ6IHsgZ3JvdW5kOiBcInRpbGVzaGVldFwiLCBvYnN0YWNsZTogXCJ0aWxlc2hlZXRcIiB9LFxyXG4gICAgcG9rZW1vblBvb2w6IFtcImljZVwiLCBcIndhdGVyXCJdLFxyXG4gICAgd2VhdGhlcjogXCJzbm93XCIsXHJcbiAgfSxcclxuICB0b3dlcjoge1xyXG4gICAgaWQ6IFwidG93ZXJcIixcclxuICAgIG5hbWU6IFwiQW5jaWVudCBUb3dlclwiLFxyXG4gICAgZW52aXJvbm1lbnRDb2xvcjogMHg1NTFhOGIsXHJcbiAgICB0aWxlU2V0OiB7IGdyb3VuZDogXCJ0aWxlc2hlZXRcIiwgb2JzdGFjbGU6IFwidGlsZXNoZWV0XCIgfSxcclxuICAgIHBva2Vtb25Qb29sOiBbXCJnaG9zdFwiLCBcImRhcmtcIl0sXHJcbiAgICB3ZWF0aGVyOiBcImZvZ1wiLFxyXG4gIH0sXHJcbiAgbGFiOiB7XHJcbiAgICBpZDogXCJsYWJcIixcclxuICAgIG5hbWU6IFwiUmVzZWFyY2ggTGFiXCIsXHJcbiAgICBlbnZpcm9ubWVudENvbG9yOiAweGNjY2NmZixcclxuICAgIHRpbGVTZXQ6IHsgZ3JvdW5kOiBcInRpbGVzaGVldFwiLCBvYnN0YWNsZTogXCJ0aWxlc2hlZXRcIiB9LFxyXG4gICAgcG9rZW1vblBvb2w6IFtcImVsZWN0cmljXCIsIFwic3RlZWxcIiwgXCJwc3ljaGljXCJdLFxyXG4gICAgd2VhdGhlcjogXCJub25lXCIsXHJcbiAgfSxcclxuICB0ZW1wbGU6IHtcclxuICAgIGlkOiBcInRlbXBsZVwiLFxyXG4gICAgbmFtZTogXCJEZXNlcnQgVGVtcGxlXCIsXHJcbiAgICBlbnZpcm9ubWVudENvbG9yOiAweGMyYjI4MCxcclxuICAgIHRpbGVTZXQ6IHsgZ3JvdW5kOiBcInRpbGVzaGVldFwiLCBvYnN0YWNsZTogXCJ0aWxlc2hlZXRcIiB9LFxyXG4gICAgcG9rZW1vblBvb2w6IFtcImdyb3VuZFwiLCBcInJvY2tcIiwgXCJmaXJlXCJdLFxyXG4gICAgd2VhdGhlcjogXCJzdW5cIixcclxuICB9LFxyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgU3RydWN0dXJlVHlwZSA9IFwiaG91c2VcIiB8IFwidG93ZXJcIiB8IFwibGFiXCIgfCBcInRlbXBsZVwiO1xyXG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdHVyZURlZiB7IGlkOiBzdHJpbmc7IHR5cGU6IFN0cnVjdHVyZVR5cGU7IGNvbDogbnVtYmVyOyByb3c6IG51bWJlcjsgeDogbnVtYmVyOyB5OiBudW1iZXI7IH1cclxuIl0sIm5hbWVzIjpbIkJJT01FUyIsImdyYXNzbGFuZCIsImlkIiwibmFtZSIsImVudmlyb25tZW50Q29sb3IiLCJ0aWxlU2V0IiwiZ3JvdW5kIiwib2JzdGFjbGUiLCJwb2tlbW9uUG9vbCIsIndlYXRoZXIiLCJkZXNlcnQiLCJsYWtlIiwiY2l0eSIsIm1vdW50YWluIiwiY2F2ZSIsImZvcmVzdCIsInNub3dmaWVsZCIsInRvd2VyIiwibGFiIiwidGVtcGxlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./lib/biomes.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./lib/mapZones.ts":
/*!*************************!*\
  !*** ./lib/mapZones.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BIOME_TYPE_POOLS: () => (/* binding */ BIOME_TYPE_POOLS),\n/* harmony export */   ZONE_TILES: () => (/* binding */ ZONE_TILES),\n/* harmony export */   generateZones: () => (/* binding */ generateZones),\n/* harmony export */   getAdjacentZoneCoords: () => (/* binding */ getAdjacentZoneCoords),\n/* harmony export */   getZoneForTile: () => (/* binding */ getZoneForTile)\n/* harmony export */ });\nconst ZONE_TILES = 10; // 10x10 tiles per zone\n// Simple deterministic biome layout over an R x C grid\nfunction generateZones(cols, rows) {\n    const zones = [];\n    for(let r = 0; r < rows; r++){\n        for(let c = 0; c < cols; c++){\n            let biome = \"grassland\";\n            const edge = r === 0 || c === 0 || r === rows - 1 || c === cols - 1;\n            if (r === 0) biome = \"mountain\"; // top ridge\n            else if (r === rows - 1) biome = \"beach\"; // bottom shore\n            else if ((r === Math.floor(rows / 2) || r === Math.floor(rows / 2) - 1) && (c === Math.floor(cols / 2) || c === Math.floor(cols / 2) - 1)) biome = \"lake\"; // 2x2 lake\n            else if (edge && (r === 1 || c === 1 || r === rows - 2 || c === cols - 2)) biome = \"cave\"; // near edges\n            else if ((r + c) % 9 === 0) biome = \"city\"; // a few city blocks\n            else if ((r + 2 * c) % 6 === 0) biome = \"forest\";\n            else if (r % 5 === 0 && c % 3 === 0) biome = \"desert\";\n            else if ((r - c) % 8 === 0) biome = \"snowfield\";\n            else biome = \"grassland\";\n            zones.push({\n                id: `${c},${r}`,\n                col: c,\n                row: r,\n                biome\n            });\n        }\n    }\n    return zones;\n}\nfunction getZoneForTile(tileX, tileY, zoneCols, zoneRows) {\n    const col = Math.max(0, Math.min(zoneCols - 1, Math.floor(tileX / ZONE_TILES)));\n    const row = Math.max(0, Math.min(zoneRows - 1, Math.floor(tileY / ZONE_TILES)));\n    return {\n        col,\n        row,\n        id: `${col},${row}`\n    };\n}\nfunction getAdjacentZoneCoords(col, row, zoneCols, zoneRows, radius = 1) {\n    const out = [];\n    for(let dy = -radius; dy <= radius; dy++){\n        for(let dx = -radius; dx <= radius; dx++){\n            const nc = col + dx;\n            const nr = row + dy;\n            if (nc < 0 || nr < 0 || nc >= zoneCols || nr >= zoneRows) continue;\n            out.push({\n                col: nc,\n                row: nr,\n                id: `${nc},${nr}`\n            });\n        }\n    }\n    return out;\n}\nconst BIOME_TYPE_POOLS = {\n    grassland: [\n        \"grass\",\n        \"bug\",\n        \"normal\",\n        \"flying\"\n    ],\n    cave: [\n        \"rock\",\n        \"ground\",\n        \"poison\",\n        \"dark\"\n    ],\n    beach: [\n        \"water\",\n        \"flying\"\n    ],\n    city: [\n        \"electric\",\n        \"normal\",\n        \"steel\",\n        \"fighting\"\n    ],\n    mountain: [\n        \"rock\",\n        \"ground\",\n        \"ice\",\n        \"dragon\"\n    ],\n    lake: [\n        \"water\",\n        \"dragon\",\n        \"fairy\"\n    ],\n    desert: [\n        \"ground\",\n        \"rock\",\n        \"fire\"\n    ],\n    forest: [\n        \"grass\",\n        \"bug\",\n        \"fairy\"\n    ],\n    snowfield: [\n        \"ice\",\n        \"water\",\n        \"fairy\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBQ0EsT0FBT0o7QUFDVDtBQUVPLE1BQU1LLG1CQUE0QztJQUN2REMsV0FBVztRQUFDO1FBQVM7UUFBTztRQUFVO0tBQVM7SUFDL0NDLE1BQU07UUFBQztRQUFRO1FBQVU7UUFBVTtLQUFPO0lBQzFDQyxPQUFPO1FBQUM7UUFBUztLQUFTO0lBQzFCQyxNQUFNO1FBQUM7UUFBWTtRQUFVO1FBQVM7S0FBVztJQUNqREMsVUFBVTtRQUFDO1FBQVE7UUFBVTtRQUFPO0tBQVM7SUFDN0NDLE1BQU07UUFBQztRQUFTO1FBQVU7S0FBUTtJQUNsQ0MsUUFBUTtRQUFDO1FBQVU7UUFBUTtLQUFPO0lBQ2xDQyxRQUFRO1FBQUM7UUFBUztRQUFPO0tBQVE7SUFDakNDLFdBQVc7UUFBQztRQUFPO1FBQVM7S0FBUTtBQUN0QyxFQUFFIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFNhaGl0aFxcT25lRHJpdmVcXERlc2t0b3BcXHlva2FpaHVudFxcZnJvbnRlbmRcXGxpYlxcbWFwWm9uZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHR5cGUgQmlvbWUgPSBcImdyYXNzbGFuZFwiIHwgXCJjYXZlXCIgfCBcImJlYWNoXCIgfCBcImNpdHlcIiB8IFwibW91bnRhaW5cIiB8IFwibGFrZVwiIHwgXCJkZXNlcnRcIiB8IFwiZm9yZXN0XCIgfCBcInNub3dmaWVsZFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFpPTkVfVElMRVMgPSAxMDsgLy8gMTB4MTAgdGlsZXMgcGVyIHpvbmVcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgWm9uZSB7XHJcbiAgaWQ6IHN0cmluZzsgLy8gXCJjLHJcIlxyXG4gIGNvbDogbnVtYmVyO1xyXG4gIHJvdzogbnVtYmVyO1xyXG4gIGJpb21lOiBCaW9tZTtcclxufVxyXG5cclxuLy8gU2ltcGxlIGRldGVybWluaXN0aWMgYmlvbWUgbGF5b3V0IG92ZXIgYW4gUiB4IEMgZ3JpZFxyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVab25lcyhjb2xzOiBudW1iZXIsIHJvd3M6IG51bWJlcik6IFpvbmVbXSB7XHJcbiAgY29uc3Qgem9uZXM6IFpvbmVbXSA9IFtdO1xyXG4gIGZvciAobGV0IHIgPSAwOyByIDwgcm93czsgcisrKSB7XHJcbiAgICBmb3IgKGxldCBjID0gMDsgYyA8IGNvbHM7IGMrKykge1xyXG4gICAgICBsZXQgYmlvbWU6IEJpb21lID0gXCJncmFzc2xhbmRcIjtcclxuICAgICAgY29uc3QgZWRnZSA9IHIgPT09IDAgfHwgYyA9PT0gMCB8fCByID09PSByb3dzIC0gMSB8fCBjID09PSBjb2xzIC0gMTtcclxuICAgICAgaWYgKHIgPT09IDApIGJpb21lID0gXCJtb3VudGFpblwiOyAvLyB0b3AgcmlkZ2VcclxuICAgICAgZWxzZSBpZiAociA9PT0gcm93cyAtIDEpIGJpb21lID0gXCJiZWFjaFwiOyAvLyBib3R0b20gc2hvcmVcclxuICAgICAgZWxzZSBpZiAoKHIgPT09IE1hdGguZmxvb3Iocm93cyAvIDIpIHx8IHIgPT09IE1hdGguZmxvb3Iocm93cyAvIDIpIC0gMSkgJiZcclxuICAgICAgICAgICAgICAgKGMgPT09IE1hdGguZmxvb3IoY29scyAvIDIpIHx8IGMgPT09IE1hdGguZmxvb3IoY29scyAvIDIpIC0gMSkpIGJpb21lID0gXCJsYWtlXCI7IC8vIDJ4MiBsYWtlXHJcbiAgICAgIGVsc2UgaWYgKGVkZ2UgJiYgKHIgPT09IDEgfHwgYyA9PT0gMSB8fCByID09PSByb3dzIC0gMiB8fCBjID09PSBjb2xzIC0gMikpIGJpb21lID0gXCJjYXZlXCI7IC8vIG5lYXIgZWRnZXNcclxuICAgICAgZWxzZSBpZiAoKHIgKyBjKSAlIDkgPT09IDApIGJpb21lID0gXCJjaXR5XCI7IC8vIGEgZmV3IGNpdHkgYmxvY2tzXHJcbiAgICAgIGVsc2UgaWYgKChyICsgMiAqIGMpICUgNiA9PT0gMCkgYmlvbWUgPSBcImZvcmVzdFwiO1xyXG4gICAgICBlbHNlIGlmIChyICUgNSA9PT0gMCAmJiBjICUgMyA9PT0gMCkgYmlvbWUgPSBcImRlc2VydFwiO1xyXG4gICAgICBlbHNlIGlmICgociAtIGMpICUgOCA9PT0gMCkgYmlvbWUgPSBcInNub3dmaWVsZFwiO1xyXG4gICAgICBlbHNlIGJpb21lID0gXCJncmFzc2xhbmRcIjtcclxuXHJcbiAgICAgIHpvbmVzLnB1c2goeyBpZDogYCR7Y30sJHtyfWAsIGNvbDogYywgcm93OiByLCBiaW9tZSB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHpvbmVzO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Wm9uZUZvclRpbGUodGlsZVg6IG51bWJlciwgdGlsZVk6IG51bWJlciwgem9uZUNvbHM6IG51bWJlciwgem9uZVJvd3M6IG51bWJlcik6IHsgY29sOiBudW1iZXI7IHJvdzogbnVtYmVyOyBpZDogc3RyaW5nIH0ge1xyXG4gIGNvbnN0IGNvbCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHpvbmVDb2xzIC0gMSwgTWF0aC5mbG9vcih0aWxlWCAvIFpPTkVfVElMRVMpKSk7XHJcbiAgY29uc3Qgcm93ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oem9uZVJvd3MgLSAxLCBNYXRoLmZsb29yKHRpbGVZIC8gWk9ORV9USUxFUykpKTtcclxuICByZXR1cm4geyBjb2wsIHJvdywgaWQ6IGAke2NvbH0sJHtyb3d9YCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWRqYWNlbnRab25lQ29vcmRzKGNvbDogbnVtYmVyLCByb3c6IG51bWJlciwgem9uZUNvbHM6IG51bWJlciwgem9uZVJvd3M6IG51bWJlciwgcmFkaXVzID0gMSkge1xyXG4gIGNvbnN0IG91dDogeyBjb2w6IG51bWJlcjsgcm93OiBudW1iZXI7IGlkOiBzdHJpbmcgfVtdID0gW107XHJcbiAgZm9yIChsZXQgZHkgPSAtcmFkaXVzOyBkeSA8PSByYWRpdXM7IGR5KyspIHtcclxuICAgIGZvciAobGV0IGR4ID0gLXJhZGl1czsgZHggPD0gcmFkaXVzOyBkeCsrKSB7XHJcbiAgICAgIGNvbnN0IG5jID0gY29sICsgZHg7IGNvbnN0IG5yID0gcm93ICsgZHk7XHJcbiAgICAgIGlmIChuYyA8IDAgfHwgbnIgPCAwIHx8IG5jID49IHpvbmVDb2xzIHx8IG5yID49IHpvbmVSb3dzKSBjb250aW51ZTtcclxuICAgICAgb3V0LnB1c2goeyBjb2w6IG5jLCByb3c6IG5yLCBpZDogYCR7bmN9LCR7bnJ9YCB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEJJT01FX1RZUEVfUE9PTFM6IFJlY29yZDxCaW9tZSwgc3RyaW5nW10+ID0ge1xyXG4gIGdyYXNzbGFuZDogW1wiZ3Jhc3NcIiwgXCJidWdcIiwgXCJub3JtYWxcIiwgXCJmbHlpbmdcIl0sXHJcbiAgY2F2ZTogW1wicm9ja1wiLCBcImdyb3VuZFwiLCBcInBvaXNvblwiLCBcImRhcmtcIl0sXHJcbiAgYmVhY2g6IFtcIndhdGVyXCIsIFwiZmx5aW5nXCJdLFxyXG4gIGNpdHk6IFtcImVsZWN0cmljXCIsIFwibm9ybWFsXCIsIFwic3RlZWxcIiwgXCJmaWdodGluZ1wiXSxcclxuICBtb3VudGFpbjogW1wicm9ja1wiLCBcImdyb3VuZFwiLCBcImljZVwiLCBcImRyYWdvblwiXSxcclxuICBsYWtlOiBbXCJ3YXRlclwiLCBcImRyYWdvblwiLCBcImZhaXJ5XCJdLFxyXG4gIGRlc2VydDogW1wiZ3JvdW5kXCIsIFwicm9ja1wiLCBcImZpcmVcIl0sXHJcbiAgZm9yZXN0OiBbXCJncmFzc1wiLCBcImJ1Z1wiLCBcImZhaXJ5XCJdLFxyXG4gIHNub3dmaWVsZDogW1wiaWNlXCIsIFwid2F0ZXJcIiwgXCJmYWlyeVwiXSxcclxufTtcclxuIl0sIm5hbWVzIjpbIlpPTkVfVElMRVMiLCJnZW5lcmF0ZVpvbmVzIiwiY29scyIsInJvd3MiLCJ6b25lcyIsInIiLCJjIiwiYmlvbWUiLCJlZGdlIiwiTWF0aCIsImZsb29yIiwicHVzaCIsImlkIiwiY29sIiwicm93IiwiZ2V0Wm9uZUZvclRpbGUiLCJ0aWxlWCIsInRpbGVZIiwiem9uZUNvbHMiLCJ6b25lUm93cyIsIm1heCIsIm1pbiIsImdldEFkamFjZW50Wm9uZUNvb3JkcyIsInJhZGl1cyIsIm91dCIsImR5IiwiZHgiLCJuYyIsIm5yIiwiQklPTUVfVFlQRV9QT09MUyIsImdyYXNzbGFuZCIsImNhdmUiLCJiZWFjaCIsImNpdHkiLCJtb3VudGFpbiIsImxha2UiLCJkZXNlcnQiLCJmb3Jlc3QiLCJzbm93ZmllbGQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./lib/mapZones.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./lib/phaser/BattleScene.ts":
/*!***********************************!*\
  !*** ./lib/phaser/BattleScene.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BattleScene: () => (/* binding */ BattleScene)\n/* harmony export */ });\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _typeEffectiveness__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../typeEffectiveness */ \"(pages-dir-node)/./lib/typeEffectiveness.ts\");\n\n\nclass BattleScene extends phaser__WEBPACK_IMPORTED_MODULE_0__.Scene {\n    constructor(){\n        super(\"BattleScene\"), this.wildHp = 0, this.wildMaxHp = 0, this.wildLevel = 5, this.playerHp = 0, this.playerMaxHp = 0, this.playerTeam = [], this.trainerLevel = 1, this.battleTeamHp = new Map() // Track HP during battle\n        , // Battle state\n        this.isPlayerTurn = true, this.battleInProgress = false, this.lastDamageInfo = null, this.floatingTexts = [];\n    }\n    init(data) {\n        this.wildPokemon = data.wildPokemon;\n        this.playerPokemon = data.playerPokemon;\n        this.playerTeam = data.playerTeam || [];\n        this.trainerLevel = data.trainerLevel || 1;\n        // Calculate wild Pokemon HP with level scaling (include IV ~31) and minimum floor\n        this.wildLevel = this.wildPokemon.level || 5;\n        const wildHpStat = this.wildPokemon.data?.stats?.find((s)=>s.stat.name === 'hp')?.base_stat || 50;\n        this.wildMaxHp = Math.floor((2 * wildHpStat + 31) * this.wildLevel / 100 + this.wildLevel + 10);\n        this.wildMaxHp = Math.max(24, this.wildMaxHp);\n        this.wildHp = this.wildMaxHp;\n        // Ensure player HP has sane floor and IV-based calc if missing\n        this.playerMaxHp = Math.max(this.playerPokemon.maxHp || 0, Math.floor((2 * (this.playerPokemon.data?.stats?.find((s)=>s.stat.name === 'hp')?.base_stat || 50) + 31) * this.playerPokemon.level / 100 + this.playerPokemon.level + 10));\n        this.playerMaxHp = Math.max(28, this.playerMaxHp);\n        this.playerHp = Math.min(this.playerMaxHp, this.playerPokemon.currentHp || this.playerMaxHp);\n        // Initialize battle HP tracking - all Pokemon start at full HP at battle start\n        this.battleTeamHp.clear();\n        this.playerTeam.forEach((p)=>{\n            this.battleTeamHp.set(p.id, p.maxHp);\n        });\n        // Set current Pokemon HP\n        this.battleTeamHp.set(this.playerPokemon.pokeId, this.playerHp);\n        this.isPlayerTurn = true;\n        this.battleInProgress = false;\n    }\n    async preload() {\n        // Load Pokémon sprites if not already loaded\n        if (!this.textures.exists(`wild-${this.wildPokemon.pokeId}`)) {\n            await new Promise((resolve)=>{\n                this.load.once(phaser__WEBPACK_IMPORTED_MODULE_0__.Loader.Events.COMPLETE, ()=>resolve());\n                this.load.image(`wild-${this.wildPokemon.pokeId}`, this.wildPokemon.spriteUrl);\n                this.load.start();\n            });\n        }\n        if (!this.textures.exists(`player-${this.playerPokemon.pokeId}`)) {\n            await new Promise((resolve)=>{\n                this.load.once(phaser__WEBPACK_IMPORTED_MODULE_0__.Loader.Events.COMPLETE, ()=>resolve());\n                this.load.image(`player-${this.playerPokemon.pokeId}`, this.playerPokemon.spriteUrl);\n                this.load.start();\n            });\n        }\n    }\n    create() {\n        const { width, height } = this.scale;\n        // Background\n        this.add.rectangle(width / 2, height / 2, width, height, 0x87CEEB).setOrigin(0.5);\n        // Hide any lingering map UI by drawing an opaque footer (prevents DOM overlap perception)\n        this.add.rectangle(width / 2, height - 18, width, 36, 0x000000, 0.2).setDepth(5);\n        // Wild Pokémon (enemy, top right)\n        this.wildSprite = this.add.image(width * 0.75, height * 0.3, `wild-${this.wildPokemon.pokeId}`).setScale(2).setFlipX(false);\n        // Player Pokémon (bottom left, back sprite)\n        this.playerSprite = this.add.image(width * 0.25, height * 0.65, `player-${this.playerPokemon.pokeId}`).setScale(2).setFlipX(true);\n        this.createUI();\n        this.showToast(`A wild ${this.capitalize(this.wildPokemon.name)} appeared!`, 1500);\n    }\n    createUI() {\n        const { width, height } = this.scale;\n        // Battle UI Container\n        this.battleUI = this.add.container(0, 0);\n        // Wild Pokémon HP Bar (top left)\n        const wildHpBg = this.add.rectangle(20, 20, 200, 20, 0x333333).setOrigin(0);\n        this.wildHpBar = this.add.rectangle(22, 22, 196, 16, 0x00ff00).setOrigin(0);\n        this.wildHpText = this.add.text(20, 45, `${this.capitalize(this.wildPokemon.name)} HP: ${this.wildHp}/${this.wildMaxHp}`, {\n            fontSize: '14px',\n            color: '#000'\n        });\n        // Player Pokémon HP Bar (bottom right)\n        const playerHpBg = this.add.rectangle(width - 220, height - 80, 200, 20, 0x333333).setOrigin(0);\n        this.playerHpBar = this.add.rectangle(width - 218, height - 78, 196, 16, 0x00ff00).setOrigin(0);\n        this.playerHpText = this.add.text(width - 220, height - 55, `${this.capitalize(this.playerPokemon.name)} Lv.${this.playerPokemon.level} HP: ${this.playerHp}/${this.playerMaxHp}`, {\n            fontSize: '14px',\n            color: '#000'\n        });\n        // Minimal status toast (top-right), no big dialog box\n        this.battleText = this.add.text(width - 360, 12, '', {\n            fontSize: '14px',\n            color: '#000',\n            backgroundColor: '#ffffffe6',\n            padding: {\n                x: 10,\n                y: 6\n            },\n            wordWrap: {\n                width: 340\n            }\n        }).setDepth(1002).setVisible(false);\n        // Action buttons (placed at right-middle as vertical stack)\n        this.createActionButtons();\n        this.battleUI.add([\n            wildHpBg,\n            this.wildHpBar,\n            this.wildHpText,\n            playerHpBg,\n            this.playerHpBar,\n            this.playerHpText\n        ]);\n    }\n    createActionButtons() {\n        const { width, height } = this.scale;\n        this.actionButtons = this.add.container(0, 0);\n        const baseX = width - 120;\n        const baseY = height / 2 - 100;\n        const vGap = 34;\n        const buttonData = [\n            {\n                text: 'FIGHT',\n                x: baseX,\n                y: baseY + vGap * 0,\n                action: ()=>this.showMoveSelection()\n            },\n            {\n                text: 'SWITCH',\n                x: baseX,\n                y: baseY + vGap * 1,\n                action: ()=>this.showTeamSelection()\n            },\n            {\n                text: 'BAG',\n                x: baseX,\n                y: baseY + vGap * 2,\n                action: ()=>this.openBag()\n            },\n            {\n                text: 'CATCH',\n                x: baseX,\n                y: baseY + vGap * 3,\n                action: ()=>this.attemptCatch()\n            },\n            {\n                text: 'RUN',\n                x: baseX,\n                y: baseY + vGap * 4,\n                action: ()=>this.runAway()\n            }\n        ];\n        buttonData.forEach((btn)=>{\n            const button = this.add.text(btn.x, btn.y, btn.text, {\n                fontSize: '14px',\n                color: '#fff',\n                backgroundColor: '#333',\n                padding: {\n                    x: 8,\n                    y: 4\n                }\n            }).setInteractive({\n                useHandCursor: true\n            }).on('pointerdown', btn.action);\n            this.actionButtons?.add(button);\n        });\n        if (this.actionButtons) this.battleUI?.add(this.actionButtons);\n    }\n    showMoveSelection() {\n        if (!this.isPlayerTurn || this.battleInProgress) return;\n        // Hide main action buttons\n        if (this.actionButtons) this.actionButtons.setVisible(false);\n        const { width, height } = this.scale;\n        const moves = this.getPlayerMoves();\n        // Create move selection container\n        const moveContainer = this.add.container(0, 0);\n        // Background for move selection (right-center panel)\n        const panelW = 300;\n        const panelH = 140;\n        const moveBg = this.add.rectangle(width - panelW - 20, height / 2 - panelH / 2, panelW, panelH, 0x222222, 0.95).setOrigin(0);\n        moveContainer.add(moveBg);\n        // Display up to 4 moves in a 2x2 grid\n        moves.slice(0, 4).forEach((move, index)=>{\n            const col = index % 2;\n            const row = Math.floor(index / 2);\n            const x = width - panelW - 10 + col * 150;\n            const y = height / 2 - panelH / 2 + 10 + row * 60;\n            const moveButton = this.add.text(x, y, move.name.toUpperCase(), {\n                fontSize: '13px',\n                color: '#fff',\n                backgroundColor: this.getMoveTypeColor(move.type),\n                padding: {\n                    x: 10,\n                    y: 6\n                }\n            }).setInteractive({\n                useHandCursor: true\n            }).on('pointerdown', ()=>{\n                moveContainer.destroy();\n                if (this.actionButtons) this.actionButtons.setVisible(true);\n                this.useMove(move);\n            });\n            moveContainer.add(moveButton);\n        });\n        // Back button\n        const backButton = this.add.text(width - panelW, height / 2 + panelH / 2 + 8, 'BACK', {\n            fontSize: '12px',\n            color: '#fff',\n            backgroundColor: '#666',\n            padding: {\n                x: 8,\n                y: 4\n            }\n        }).setInteractive({\n            useHandCursor: true\n        }).on('pointerdown', ()=>{\n            moveContainer.destroy();\n            if (this.actionButtons) this.actionButtons.setVisible(true);\n        });\n        moveContainer.add(backButton);\n        this.battleUI?.add(moveContainer);\n    }\n    showTeamSelection() {\n        if (!this.isPlayerTurn || this.battleInProgress) return;\n        if (this.playerTeam.length === 0) {\n            // Try lazy-load team from trainer storage\n            this.loadTrainerTeam().then(()=>this.internalShowTeamSelection());\n            return;\n        }\n        this.internalShowTeamSelection();\n    }\n    internalShowTeamSelection() {\n        // Hide main action buttons\n        if (this.actionButtons) this.actionButtons.setVisible(false);\n        const { width, height } = this.scale;\n        // Create team selection container\n        const teamContainer = this.add.container(0, 0);\n        // Background for team selection\n        const teamBg = this.add.rectangle(width / 2 - 200, height / 2 - 150, 400, 300, 0x222222, 0.95).setOrigin(0);\n        teamContainer.add(teamBg);\n        const title = this.add.text(width / 2, height / 2 - 130, 'Choose Pokemon', {\n            fontSize: '18px',\n            color: '#fff',\n            fontStyle: 'bold'\n        }).setOrigin(0.5);\n        teamContainer.add(title);\n        // Display team members\n        this.playerTeam.forEach((pokemon, index)=>{\n            const y = height / 2 - 90 + index * 50;\n            const maxHp = pokemon.maxHp || 100;\n            const currentHp = this.battleTeamHp.get(pokemon.id) || maxHp;\n            const isFainted = currentHp <= 0;\n            const isCurrent = pokemon.id === this.playerPokemon.pokeId;\n            const pokemonButton = this.add.text(width / 2 - 180, y, `${this.capitalize(pokemon.name)} Lv.${pokemon.level || 1}  HP: ${currentHp}/${maxHp}`, {\n                fontSize: '14px',\n                color: isFainted ? '#666' : isCurrent ? '#ffd700' : '#fff',\n                backgroundColor: isCurrent ? '#444' : '#333',\n                padding: {\n                    x: 10,\n                    y: 6\n                }\n            }).setOrigin(0);\n            if (!isFainted && !isCurrent) {\n                pokemonButton.setInteractive({\n                    useHandCursor: true\n                }).on('pointerdown', ()=>{\n                    teamContainer.destroy();\n                    if (this.actionButtons) this.actionButtons.setVisible(true);\n                    this.switchPokemon(pokemon);\n                });\n            }\n            teamContainer.add(pokemonButton);\n        });\n        // Back button\n        const backButton = this.add.text(width / 2, height / 2 + 130, 'BACK', {\n            fontSize: '14px',\n            color: '#fff',\n            backgroundColor: '#666',\n            padding: {\n                x: 15,\n                y: 8\n            }\n        }).setOrigin(0.5).setInteractive({\n            useHandCursor: true\n        }).on('pointerdown', ()=>{\n            teamContainer.destroy();\n            if (this.actionButtons) this.actionButtons.setVisible(true);\n        });\n        teamContainer.add(backButton);\n        teamContainer.setDepth(1001);\n        this.battleUI?.add(teamContainer);\n    }\n    getPlayerMoves() {\n        // Ensure 4 unique moves with at least one STAB (type-matching) move\n        const pokemonMoves = this.playerPokemon.data?.moves || [];\n        const types = (this.playerPokemon.data?.types || []).map((t)=>t.type.name);\n        const primaryType = types[0] || 'normal';\n        const secondaryType = types[1];\n        const chosen = [];\n        const seen = new Set();\n        const addMove = (name)=>{\n            const data = (0,_typeEffectiveness__WEBPACK_IMPORTED_MODULE_1__.getMoveData)(name);\n            const norm = name.toLowerCase().replace(/\\s+/g, '-');\n            if (data.power <= 0) return;\n            if (seen.has(norm)) return;\n            seen.add(norm);\n            chosen.push({\n                name: data.name,\n                type: data.type\n            });\n        };\n        // 1) Prefer STAB from PokeAPI-provided moves if available\n        const shuffled = [\n            ...pokemonMoves\n        ].sort(()=>Math.random() - 0.5);\n        for (const m of shuffled){\n            const moveName = m.move?.name;\n            if (!moveName) continue;\n            const data = (0,_typeEffectiveness__WEBPACK_IMPORTED_MODULE_1__.getMoveData)(moveName);\n            if (data.power > 0 && types.includes(data.type)) {\n                addMove(data.name);\n                if (chosen.length >= 2) break; // grab up to two STAB options first\n            }\n        }\n        // 2) Guarantee at least one STAB move for primary type\n        if (!chosen.some((mv)=>mv.type === primaryType)) {\n            addMove(this.getTypedMove(primaryType));\n        }\n        // 3) If dual-typed, try to include a move of the secondary type\n        if (secondaryType && !chosen.some((mv)=>mv.type === secondaryType) && chosen.length < 4) {\n            addMove(this.getSecondaryTypedMove(secondaryType));\n        }\n        // 4) Fill remaining slots with offensive, unique moves from PokeAPI list\n        for (const m of shuffled){\n            if (chosen.length >= 4) break;\n            const moveName = m.move?.name;\n            if (!moveName) continue;\n            const data = (0,_typeEffectiveness__WEBPACK_IMPORTED_MODULE_1__.getMoveData)(moveName);\n            if (data.power > 0) addMove(data.name);\n        }\n        // 5) Final fallback coverage pool (avoid duplicates and avoid two Scratches)\n        const fallbackPool = [\n            'Quick Attack',\n            'Tackle',\n            'Bite',\n            'Rock Throw',\n            'Confusion',\n            'Metal Claw'\n        ];\n        for (const f of fallbackPool){\n            if (chosen.length >= 4) break;\n            addMove(f);\n        }\n        // Enforce STAB for known starters if still missing\n        const enforceStab = (type, moveName)=>{\n            if (!chosen.some((mv)=>mv.type === type)) {\n                addMove(moveName);\n            }\n        };\n        // Squirtle (id 7) must have Water Gun\n        if (this.playerPokemon.pokeId === 7) {\n            enforceStab('water', 'Water Gun');\n        }\n        // If chosen exceeds 4 after enforcement, drop lowest-priority generic moves\n        const dropOrder = [\n            'Scratch',\n            'Tackle',\n            'Quick Attack',\n            'Bite'\n        ];\n        while(chosen.length > 4){\n            const idx = chosen.findIndex((mv)=>dropOrder.includes(mv.name));\n            if (idx >= 0) chosen.splice(idx, 1);\n            else chosen.pop();\n        }\n        // Prefer to show STAB first\n        const primaryIdx = chosen.findIndex((mv)=>mv.type === primaryType);\n        if (primaryIdx > 0) {\n            const [mv] = chosen.splice(primaryIdx, 1);\n            chosen.unshift(mv);\n        }\n        // Trim to 4 just in case\n        return chosen.slice(0, 4);\n    }\n    getTypedMove(type) {\n        const typeMoves = {\n            fire: 'Ember',\n            water: 'Water Gun',\n            grass: 'Vine Whip',\n            electric: 'Thunder Shock',\n            ice: 'Powder Snow',\n            fighting: 'Karate Chop',\n            poison: 'Poison Sting',\n            ground: 'Mud Slap',\n            flying: 'Gust',\n            psychic: 'Confusion',\n            bug: 'Bug Bite',\n            rock: 'Rock Throw',\n            ghost: 'Lick',\n            dragon: 'Dragon Breath',\n            dark: 'Bite',\n            steel: 'Metal Claw',\n            fairy: 'Fairy Wind',\n            normal: 'Scratch'\n        };\n        return typeMoves[type] || 'Scratch';\n    }\n    getSecondaryTypedMove(type) {\n        const secondaryMoves = {\n            fire: 'Flame Burst',\n            water: 'Bubble',\n            grass: 'Razor Leaf',\n            electric: 'Spark',\n            ice: 'Ice Shard',\n            fighting: 'Low Kick',\n            poison: 'Acid',\n            ground: 'Bulldoze',\n            flying: 'Wing Attack',\n            psychic: 'Psybeam',\n            bug: 'Fury Cutter',\n            rock: 'Rock Blast',\n            ghost: 'Shadow Sneak',\n            dragon: 'Twister',\n            dark: 'Feint Attack',\n            steel: 'Iron Defense',\n            fairy: 'Draining Kiss',\n            normal: 'Body Slam'\n        };\n        return secondaryMoves[type] || 'Body Slam';\n    }\n    getMoveTypeColor(type) {\n        const colors = {\n            normal: '#A8A878',\n            fire: '#F08030',\n            water: '#6890F0',\n            grass: '#78C850',\n            electric: '#F8D030',\n            ice: '#98D8D8',\n            fighting: '#C03028',\n            poison: '#A040A0',\n            ground: '#E0C068',\n            flying: '#A890F0',\n            psychic: '#F85888',\n            bug: '#A8B820',\n            rock: '#B8A038',\n            ghost: '#705898',\n            dragon: '#7038F8',\n            dark: '#705848',\n            steel: '#B8B8D0',\n            fairy: '#EE99AC'\n        };\n        return colors[type] || colors.normal;\n    }\n    useMove(move) {\n        if (this.battleInProgress) return;\n        this.battleInProgress = true;\n        this.isPlayerTurn = false;\n        // Get move data\n        const moveData = (0,_typeEffectiveness__WEBPACK_IMPORTED_MODULE_1__.getMoveData)(move.name);\n        const playerAttack = this.getStatValue(this.playerPokemon.data, moveData.category === 'physical' ? 'attack' : 'special-attack', this.playerPokemon.level);\n        const wildDefense = this.getStatValue(this.wildPokemon.data, moveData.category === 'physical' ? 'defense' : 'special-defense', this.wildLevel);\n        // Get Pokemon types\n        const wildTypes = (this.wildPokemon.data?.types || []).map((t)=>t.type.name);\n        // Calculate damage with type effectiveness + STAB\n        const playerTypes = (this.playerPokemon.data?.types || []).map((t)=>t.type.name);\n        const damageResult = (0,_typeEffectiveness__WEBPACK_IMPORTED_MODULE_1__.calculateDamage)(this.playerPokemon.level, moveData.power, playerAttack, wildDefense, moveData.type, wildTypes, playerTypes);\n        const damage = damageResult.damage;\n        this.wildHp = Math.max(0, this.wildHp - damage);\n        // Update battle text\n        let battleMsg = `${this.capitalize(this.playerPokemon.name)} used ${moveData.name}!`;\n        this.updateBattleText(battleMsg);\n        // Show floating damage text on wild Pokemon\n        this.time.delayedCall(500, ()=>{\n            this.showFloatingText(`-${damage} HP`, this.wildSprite.x, this.wildSprite.y - 30, '#ff4444');\n            if (damageResult.effectivenessText) {\n                this.time.delayedCall(300, ()=>{\n                    this.showFloatingText(damageResult.effectivenessText, this.wildSprite.x, this.wildSprite.y - 50, '#ffff00');\n                });\n            }\n        });\n        this.updateHpBars();\n        if (this.wildHp <= 0) {\n            this.time.delayedCall(2000, ()=>{\n                this.battleInProgress = false;\n                this.wildDefeated();\n            });\n        } else {\n            this.time.delayedCall(2000, ()=>{\n                this.battleInProgress = false;\n                this.wildAttack();\n            });\n        }\n    }\n    switchPokemon(newPokemon) {\n        if (this.battleInProgress) return;\n        this.battleInProgress = true;\n        // Save current Pokemon's HP before switching\n        this.battleTeamHp.set(this.playerPokemon.pokeId, this.playerHp);\n        // Get new Pokemon's current HP from battle tracking\n        const newCurrentHp = this.battleTeamHp.get(newPokemon.id) || newPokemon.maxHp;\n        // Update player Pokemon\n        this.playerPokemon = {\n            name: newPokemon.name,\n            pokeId: newPokemon.id,\n            data: newPokemon.data,\n            spriteUrl: newPokemon.sprite,\n            level: newPokemon.level || 1,\n            currentHp: newCurrentHp,\n            maxHp: newPokemon.maxHp\n        };\n        this.playerHp = newCurrentHp;\n        this.playerMaxHp = this.playerPokemon.maxHp;\n        // Update sprite\n        if (this.playerSprite) {\n            this.playerSprite.setTexture(`player-${newPokemon.id}`);\n        }\n        this.updateBattleText(`Go, ${this.capitalize(newPokemon.name)}!`);\n        this.updateHpBars();\n        // Wild Pokemon attacks after switch\n        this.time.delayedCall(2000, ()=>{\n            this.battleInProgress = false;\n            this.wildAttack();\n        });\n    }\n    playerAttack() {\n        const playerAttack = this.getStatValue(this.playerPokemon.data, 'attack', this.playerPokemon.level);\n        const wildDefense = this.getStatValue(this.wildPokemon.data, 'defense', this.wildLevel);\n        const baseDamage = Math.max(1, playerAttack - wildDefense);\n        const damage = Math.floor(baseDamage * (0.8 + Math.random() * 0.4)); // 0.8-1.2 multiplier\n        this.wildHp = Math.max(0, this.wildHp - damage);\n        this.updateBattleText(`${this.capitalize(this.playerPokemon.name)} attacks! Dealt ${damage} damage!`);\n        this.updateHpBars();\n        if (this.wildHp <= 0) {\n            this.wildDefeated();\n        } else {\n            this.time.delayedCall(1500, ()=>this.wildAttack());\n        }\n    }\n    wildAttack() {\n        if (this.battleInProgress) return;\n        this.battleInProgress = true;\n        // Pick a random move type based on wild Pokemon's types\n        const wildTypes = (this.wildPokemon.data?.types || []).map((t)=>t.type.name);\n        const attackType = wildTypes[0] || 'normal';\n        const movePower = 35; // Base move power for wild Pokemon (toned down)\n        const wildAttack = this.getStatValue(this.wildPokemon.data, 'attack', this.wildLevel);\n        const playerDefense = this.getStatValue(this.playerPokemon.data, 'defense', this.playerPokemon.level);\n        // Get player Pokemon types\n        const playerTypes = (this.playerPokemon.data?.types || []).map((t)=>t.type.name);\n        // Squirtle defensive buff\n        const effectivePlayerDefense = this.playerPokemon.pokeId === 7 ? Math.floor(playerDefense * 1.25) : playerDefense;\n        // Calculate damage with type effectiveness + STAB\n        const wildTypesForStab = (this.wildPokemon.data?.types || []).map((t)=>t.type.name);\n        const damageResult = (0,_typeEffectiveness__WEBPACK_IMPORTED_MODULE_1__.calculateDamage)(this.wildLevel, movePower, wildAttack, effectivePlayerDefense, attackType, playerTypes, wildTypesForStab);\n        const damage = damageResult.damage;\n        this.playerHp = Math.max(0, this.playerHp - damage);\n        this.updateBattleText(`Wild ${this.capitalize(this.wildPokemon.name)} attacks!`);\n        // Show floating damage text on player Pokemon\n        this.time.delayedCall(500, ()=>{\n            this.showFloatingText(`-${damage} HP`, this.playerSprite.x, this.playerSprite.y - 30, '#ff4444');\n            if (damageResult.effectivenessText) {\n                this.time.delayedCall(300, ()=>{\n                    this.showFloatingText(damageResult.effectivenessText, this.playerSprite.x, this.playerSprite.y - 50, '#ffff00');\n                });\n            }\n        });\n        this.updateHpBars();\n        if (this.playerHp <= 0) {\n            this.time.delayedCall(2000, ()=>{\n                this.battleInProgress = false;\n                this.playerDefeated();\n            });\n        } else {\n            this.time.delayedCall(1500, ()=>{\n                this.battleInProgress = false;\n                this.isPlayerTurn = true;\n            });\n        }\n    }\n    showFloatingText(text, x, y, color) {\n        const floatingText = this.add.text(x, y, text, {\n            fontSize: '20px',\n            color: color,\n            fontStyle: 'bold',\n            stroke: '#000',\n            strokeThickness: 4\n        }).setOrigin(0.5).setDepth(2000);\n        this.floatingTexts.push(floatingText);\n        // Animate floating text\n        this.tweens.add({\n            targets: floatingText,\n            y: y - 50,\n            alpha: 0,\n            duration: 1500,\n            ease: 'Power2',\n            onComplete: ()=>{\n                floatingText.destroy();\n                const index = this.floatingTexts.indexOf(floatingText);\n                if (index > -1) this.floatingTexts.splice(index, 1);\n            }\n        });\n    }\n    attemptCatch() {\n        // Only allow catching if wild Pokemon HP < 10%\n        const hpPercent = this.wildHp / this.wildMaxHp;\n        if (hpPercent >= 0.10) {\n            this.showToast(`The wild ${this.capitalize(this.wildPokemon.name)} is too strong to catch! Weaken it first (HP < 10%)`, 3000);\n            return;\n        }\n        // Show Pokeball selection UI\n        this.showPokeballSelection();\n    }\n    showPokeballSelection() {\n        if (!this.isPlayerTurn || this.battleInProgress) return;\n        // Hide main action buttons\n        if (this.actionButtons) this.actionButtons.setVisible(false);\n        const { width, height } = this.scale;\n        // Create Pokeball selection container\n        const pokeballContainer = this.add.container(0, 0);\n        // Background\n        const panelW = 300;\n        const panelH = 200;\n        const ballBg = this.add.rectangle(width / 2 - panelW / 2, height / 2 - panelH / 2, panelW, panelH, 0x222222, 0.95).setOrigin(0);\n        pokeballContainer.add(ballBg);\n        const title = this.add.text(width / 2, height / 2 - panelH / 2 + 20, 'Choose Pokeball', {\n            fontSize: '18px',\n            color: '#fff',\n            fontStyle: 'bold'\n        }).setOrigin(0.5);\n        pokeballContainer.add(title);\n        // Pokeball types with different catch rates\n        const pokeballs = [\n            {\n                name: 'Poke Ball',\n                catchBonus: 1.0,\n                color: '#ff4444'\n            },\n            {\n                name: 'Great Ball',\n                catchBonus: 1.5,\n                color: '#4444ff'\n            },\n            {\n                name: 'Ultra Ball',\n                catchBonus: 2.0,\n                color: '#ffff00'\n            }\n        ];\n        pokeballs.forEach((ball, index)=>{\n            const y = height / 2 - panelH / 2 + 60 + index * 40;\n            const ballButton = this.add.text(width / 2 - 100, y, ball.name, {\n                fontSize: '16px',\n                color: '#fff',\n                backgroundColor: ball.color,\n                padding: {\n                    x: 15,\n                    y: 8\n                }\n            }).setOrigin(0).setInteractive({\n                useHandCursor: true\n            }).on('pointerdown', ()=>{\n                pokeballContainer.destroy();\n                if (this.actionButtons) this.actionButtons.setVisible(true);\n                this.performCatch(ball.catchBonus);\n            });\n            pokeballContainer.add(ballButton);\n        });\n        // Back button\n        const backButton = this.add.text(width / 2, height / 2 + panelH / 2 - 20, 'BACK', {\n            fontSize: '14px',\n            color: '#fff',\n            backgroundColor: '#666',\n            padding: {\n                x: 15,\n                y: 8\n            }\n        }).setOrigin(0.5).setInteractive({\n            useHandCursor: true\n        }).on('pointerdown', ()=>{\n            pokeballContainer.destroy();\n            if (this.actionButtons) this.actionButtons.setVisible(true);\n        });\n        pokeballContainer.add(backButton);\n        pokeballContainer.setDepth(1001);\n        this.battleUI?.add(pokeballContainer);\n    }\n    async performCatch(catchBonus = 1.0) {\n        const baseCatchRate = this.wildHp < this.wildMaxHp * 0.2 ? 0.8 : 0.3; // Higher rate if HP < 20%\n        const catchRate = Math.min(0.95, baseCatchRate * catchBonus); // Cap at 95%\n        if (Math.random() < catchRate) {\n            this.updateBattleText(`Gotcha! ${this.capitalize(this.wildPokemon.name)} was caught!`);\n            // Mint NFT on blockchain\n            await this.mintCaughtPokemonNFT();\n            // Save caught pokemon via battleResult endpoint\n            try {\n                const wallet =  false ? 0 : null;\n                if (wallet) {\n                    const caught = {\n                        pokeId: this.wildPokemon.pokeId,\n                        name: this.wildPokemon.name,\n                        level: this.wildLevel,\n                        hp: this.wildMaxHp,\n                        attack: this.getStatValue(this.wildPokemon.data, 'attack', this.wildLevel),\n                        defense: this.getStatValue(this.wildPokemon.data, 'defense', this.wildLevel),\n                        moves: (this.wildPokemon.data?.moves || []).slice(0, 4).map((m)=>m.move?.name?.replace(/-/g, ' ')).filter(Boolean),\n                        rarity: this.determineRarity(this.wildPokemon.data),\n                        image_url: this.wildPokemon.spriteUrl,\n                        caughtAt: new Date()\n                    };\n                    // Sync with backend\n                    await fetch('/api/trainer/battleResult', {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'x-wallet-address': wallet\n                        },\n                        body: JSON.stringify({\n                            walletAddress: wallet,\n                            outcome: 'caught',\n                            xpGained: this.wildLevel * 5,\n                            caughtPokemon: caught\n                        })\n                    });\n                    // Decrement pokeball\n                    const { updateInventory } = await __webpack_require__.e(/*! import() */ \"_pages-dir-node_src_services_trainer_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ../../src/services/trainer */ \"(pages-dir-node)/./src/services/trainer.ts\"));\n                    await updateInventory({\n                        walletAddress: wallet,\n                        inventoryDelta: {\n                            pokeballs: -1\n                        }\n                    });\n                    // Add to local team cache\n                    this.playerTeam.push({\n                        id: this.wildPokemon.pokeId,\n                        name: this.wildPokemon.name,\n                        data: this.wildPokemon.data,\n                        sprite: this.wildPokemon.spriteUrl,\n                        level: this.wildLevel,\n                        maxHp: this.wildMaxHp\n                    });\n                }\n            } catch (error) {\n                console.error('Failed to save caught Pokemon:', error);\n            }\n            this.time.delayedCall(2000, ()=>this.endBattle(true));\n        } else {\n            this.updateBattleText(`${this.capitalize(this.wildPokemon.name)} broke free!`);\n            this.time.delayedCall(1500, ()=>this.wildAttack());\n        }\n    }\n    async mintCaughtPokemonNFT() {\n        try {\n            // Get wallet address from localStorage or wallet manager\n            const walletAddress = this.getWalletAddress();\n            if (!walletAddress) {\n                console.warn('No wallet connected. Pokemon caught but not minted as NFT.');\n                return;\n            }\n            this.updateBattleText('Minting your NFT on blockchain...');\n            // Determine rarity based on stats\n            const rarity = this.determineRarity(this.wildPokemon.data);\n            const isLegendary = this.checkIfLegendary(this.wildPokemon.pokeId);\n            const pokemonData = {\n                name: this.wildPokemon.name,\n                pokeId: this.wildPokemon.pokeId,\n                rarity,\n                level: 1,\n                isLegendary,\n                stats: this.wildPokemon.data.stats,\n                types: this.wildPokemon.data.types,\n                imageUrl: this.wildPokemon.spriteUrl,\n                ...this.wildPokemon.data\n            };\n            const response = await fetch('/api/mint/pokemon', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'x-wallet-address': walletAddress\n                },\n                body: JSON.stringify({\n                    walletAddress,\n                    pokemon: pokemonData\n                })\n            });\n            const result = await response.json();\n            if (result.success) {\n                this.updateBattleText(`✅ ${this.capitalize(this.wildPokemon.name)} minted as NFT #${result.nft.assetId}!\\nTx: ${result.nft.txId.substring(0, 10)}...`);\n                // Show popup with transaction details\n                this.showNFTMintedPopup(result.nft);\n            } else {\n                console.error('Failed to mint NFT:', result.error);\n                this.updateBattleText(`Caught ${this.capitalize(this.wildPokemon.name)}! (NFT minting failed)`);\n            }\n        } catch (error) {\n            console.error('Error minting NFT:', error);\n            this.updateBattleText(`Caught ${this.capitalize(this.wildPokemon.name)}!`);\n        }\n    }\n    showNFTMintedPopup(nft) {\n        const { width, height } = this.scale;\n        // Create popup container\n        const popup = this.add.container(width / 2, height / 2);\n        // Background\n        const bg = this.add.rectangle(0, 0, 400, 250, 0x000000, 0.9);\n        const border = this.add.rectangle(0, 0, 400, 250, 0xffd700).setStrokeStyle(4, 0xffd700);\n        // Title\n        const title = this.add.text(0, -90, '🎉 NFT Minted!', {\n            fontSize: '24px',\n            color: '#ffd700',\n            fontStyle: 'bold'\n        }).setOrigin(0.5);\n        // Pokemon name\n        const pokemonName = this.add.text(0, -50, `${this.capitalize(nft.name)}`, {\n            fontSize: '20px',\n            color: '#fff'\n        }).setOrigin(0.5);\n        // Asset ID\n        const assetIdText = this.add.text(0, -20, `Asset ID: ${nft.assetId}`, {\n            fontSize: '14px',\n            color: '#aaa'\n        }).setOrigin(0.5);\n        // Tx hash (shortened)\n        const txHashText = this.add.text(0, 5, `Tx: ${nft.txId.substring(0, 20)}...`, {\n            fontSize: '12px',\n            color: '#888'\n        }).setOrigin(0.5);\n        // Explorer link hint\n        const explorerText = this.add.text(0, 30, 'View on AlgoExplorer (TestNet)', {\n            fontSize: '12px',\n            color: '#4da6ff',\n            fontStyle: 'italic'\n        }).setOrigin(0.5);\n        // Rarity badge\n        const rarityBadge = this.add.text(0, 60, `⭐ ${nft.rarity || 'Common'}`, {\n            fontSize: '14px',\n            color: '#ffd700',\n            backgroundColor: '#333',\n            padding: {\n                x: 10,\n                y: 5\n            }\n        }).setOrigin(0.5);\n        // OK button\n        const okButton = this.add.text(0, 100, 'OK', {\n            fontSize: '18px',\n            color: '#fff',\n            backgroundColor: '#4CAF50',\n            padding: {\n                x: 30,\n                y: 10\n            }\n        }).setOrigin(0.5).setInteractive({\n            useHandCursor: true\n        }).on('pointerdown', ()=>{\n            popup.destroy();\n        });\n        popup.add([\n            bg,\n            border,\n            title,\n            pokemonName,\n            assetIdText,\n            txHashText,\n            explorerText,\n            rarityBadge,\n            okButton\n        ]);\n        popup.setDepth(1000);\n        // Auto-dismiss after 10 seconds\n        this.time.delayedCall(10000, ()=>{\n            if (popup.scene) popup.destroy();\n        });\n    }\n    determineRarity(pokemonData) {\n        const totalStats = pokemonData.stats?.reduce((sum, stat)=>sum + stat.base_stat, 0) || 0;\n        if (totalStats > 600) return 'Legendary';\n        if (totalStats > 500) return 'Rare';\n        if (totalStats > 400) return 'Uncommon';\n        return 'Common';\n    }\n    checkIfLegendary(pokeId) {\n        const legendaryIds = [\n            150,\n            144,\n            145,\n            146,\n            243,\n            244,\n            245,\n            249,\n            250,\n            382,\n            383,\n            384,\n            480,\n            481,\n            482,\n            483,\n            484,\n            487\n        ];\n        return legendaryIds.includes(pokeId);\n    }\n    getWalletAddress() {\n        // Try to get from wallet manager\n        if (false) {}\n        return null;\n    }\n    getUserId() {\n        // Get user ID from session/auth\n        if (false) {}\n        return null;\n    }\n    openBag() {\n        this.updateBattleText(\"You rummage through your bag...\");\n        // TODO: Implement bag/item usage\n        this.time.delayedCall(1000, ()=>this.wildAttack());\n    }\n    async runAway() {\n        this.updateBattleText(\"You ran away! (5% XP penalty)\");\n        // Apply 5% XP penalty\n        try {\n            const wallet =  false ? 0 : null;\n            if (wallet) {\n                const currentXP = parseInt(localStorage.getItem('trainer_exp') || '0');\n                const penalty = Math.floor(currentXP * 0.05);\n                const newXP = Math.max(0, currentXP - penalty);\n                localStorage.setItem('trainer_exp', String(newXP));\n                // Sync with backend\n                await fetch('/api/trainer/battleResult', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'x-wallet-address': wallet\n                    },\n                    body: JSON.stringify({\n                        walletAddress: wallet,\n                        outcome: 'run',\n                        xpGained: -penalty\n                    })\n                });\n                window.dispatchEvent(new CustomEvent('trainer-xp-update', {\n                    detail: {\n                        newXP\n                    }\n                }));\n            }\n        } catch  {}\n        this.time.delayedCall(1500, ()=>this.endBattle(false));\n    }\n    async wildDefeated() {\n        // Calculate EXP: enemyLevel * 5 (as per spec)\n        const expGained = this.wildLevel * 5;\n        this.updateBattleText(`Wild ${this.capitalize(this.wildPokemon.name)} fainted! Gained ${expGained} EXP!`);\n        // Update trainer XP and check for level up\n        try {\n            const wallet =  false ? 0 : null;\n            if (wallet) {\n                const currentLevel = parseInt(localStorage.getItem('trainer_level') || '1');\n                // Sync with backend using battleResult endpoint\n                const response = await fetch('/api/trainer/battleResult', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'x-wallet-address': wallet\n                    },\n                    body: JSON.stringify({\n                        walletAddress: wallet,\n                        outcome: 'win',\n                        xpGained: expGained\n                    })\n                });\n                if (response.ok) {\n                    const data = await response.json();\n                    const newLevel = data.trainer?.level || currentLevel;\n                    const newXP = data.trainer?.xp || 0;\n                    localStorage.setItem('trainer_exp', String(newXP));\n                    localStorage.setItem('trainer_level', String(newLevel));\n                    // Show level up animation if leveled up\n                    if (data.leveledUp) {\n                        this.time.delayedCall(1500, ()=>{\n                            this.showLevelUpAnimation(newLevel);\n                        });\n                    }\n                    window.dispatchEvent(new CustomEvent('trainer-xp-update', {\n                        detail: {\n                            newXP,\n                            newLevel\n                        }\n                    }));\n                }\n            }\n        } catch (error) {\n            console.error('Failed to sync XP:', error);\n        }\n        this.time.delayedCall(3000, ()=>this.endBattle(true));\n    }\n    playerDefeated() {\n        this.updateBattleText(`${this.capitalize(this.playerPokemon.name)} fainted! You lost the battle!`);\n        this.time.delayedCall(3000, ()=>this.endBattle(false));\n    }\n    endBattle(victory) {\n        // Stop BattleScene and resume GameScene\n        this.scene.stop();\n        this.scene.resume(\"GameScene\");\n    }\n    updateHpBars() {\n        if (this.wildHpBar && this.wildHpText) {\n            const wildHpPercent = this.wildHp / this.wildMaxHp;\n            this.wildHpBar.width = 196 * wildHpPercent;\n            this.wildHpBar.fillColor = wildHpPercent > 0.5 ? 0x00ff00 : wildHpPercent > 0.2 ? 0xffff00 : 0xff0000;\n            this.wildHpText.setText(`${this.capitalize(this.wildPokemon.name)} HP: ${this.wildHp}/${this.wildMaxHp}`);\n        }\n        if (this.playerHpBar && this.playerHpText) {\n            const playerHpPercent = this.playerHp / this.playerMaxHp;\n            this.playerHpBar.width = 196 * playerHpPercent;\n            this.playerHpBar.fillColor = playerHpPercent > 0.5 ? 0x00ff00 : playerHpPercent > 0.2 ? 0xffff00 : 0xff0000;\n            this.playerHpText.setText(`${this.capitalize(this.playerPokemon.name)} Lv.${this.playerPokemon.level} HP: ${this.playerHp}/${this.playerMaxHp}`);\n        }\n    }\n    updateBattleText(text) {\n        if (!this.battleText) return;\n        this.battleText.setText(text);\n        this.battleText.setVisible(true);\n        this.time.delayedCall(3000, ()=>{\n            if (this.battleText) this.battleText.setVisible(false);\n        });\n    }\n    showToast(text, duration = 2000) {\n        if (!this.battleText) return;\n        this.battleText.setText(text);\n        this.battleText.setVisible(true);\n        this.time.delayedCall(duration, ()=>{\n            if (this.battleText) this.battleText.setVisible(false);\n        });\n    }\n    async loadTrainerTeam() {\n        try {\n            const wallet =  false ? 0 : null;\n            if (!wallet) return;\n            const res = await fetch(`/api/trainer/load/${encodeURIComponent(wallet)}`, {\n                headers: {\n                    'x-wallet-address': wallet\n                }\n            });\n            if (!res.ok) return;\n            const data = await res.json();\n            const trainer = data?.trainer;\n            // Load Pokemon with proper data from PokeAPI\n            const fromStorage = await Promise.all((trainer?.storage || []).slice(0, 6).map(async (p)=>{\n                const pokeId = p.pokeId || p.id;\n                if (!pokeId) return null;\n                // Fetch Pokemon data from PokeAPI\n                let pokemonData = null;\n                try {\n                    const pokeRes = await fetch(`https://pokeapi.co/api/v2/pokemon/${pokeId}`);\n                    if (pokeRes.ok) pokemonData = await pokeRes.json();\n                } catch  {}\n                return {\n                    id: pokeId,\n                    name: p.name,\n                    data: pokemonData,\n                    sprite: p.image_url || pokemonData?.sprites?.back_default || this.playerPokemon.spriteUrl,\n                    level: p.level || 1,\n                    maxHp: p.hp || 50\n                };\n            }));\n            const validTeam = fromStorage.filter((p)=>p !== null);\n            if (validTeam.length) this.playerTeam = validTeam;\n        } catch  {}\n    }\n    getStatValue(pokemonData, statName, level = 1) {\n        const base = pokemonData?.stats?.find((s)=>s.stat.name === statName)?.base_stat;\n        const b = typeof base === 'number' ? base : 50;\n        // Include IV ~31 and scale by level: floor(((2*base + 31) * L) / 100) + 5\n        return Math.max(1, Math.floor((2 * b + 31) * level / 100) + 5);\n    }\n    showLevelUpAnimation(newLevel) {\n        const { width, height } = this.scale;\n        // Create level up overlay\n        const overlay = this.add.container(width / 2, height / 2);\n        // Background\n        const bg = this.add.rectangle(0, 0, 400, 200, 0x000000, 0.85);\n        const border = this.add.rectangle(0, 0, 400, 200).setStrokeStyle(4, 0xffd700);\n        // \"Level Up!\" text\n        const titleText = this.add.text(0, -50, '🎉 LEVEL UP! 🎉', {\n            fontSize: '32px',\n            color: '#ffd700',\n            fontStyle: 'bold'\n        }).setOrigin(0.5);\n        // New level text\n        const levelText = this.add.text(0, 10, `Level ${newLevel}`, {\n            fontSize: '24px',\n            color: '#fff'\n        }).setOrigin(0.5);\n        // Congratulations message\n        const congrats = this.add.text(0, 50, 'You are getting stronger!', {\n            fontSize: '16px',\n            color: '#aaa',\n            fontStyle: 'italic'\n        }).setOrigin(0.5);\n        overlay.add([\n            bg,\n            border,\n            titleText,\n            levelText,\n            congrats\n        ]);\n        overlay.setDepth(2000);\n        overlay.setAlpha(0);\n        // Animate in\n        this.tweens.add({\n            targets: overlay,\n            alpha: 1,\n            scale: {\n                from: 0.5,\n                to: 1\n            },\n            duration: 500,\n            ease: 'Back.easeOut'\n        });\n        // Pulse animation\n        this.tweens.add({\n            targets: titleText,\n            scale: {\n                from: 1,\n                to: 1.2\n            },\n            duration: 600,\n            yoyo: true,\n            repeat: 2\n        });\n        // Auto dismiss after 3 seconds\n        this.time.delayedCall(3000, ()=>{\n            this.tweens.add({\n                targets: overlay,\n                alpha: 0,\n                duration: 300,\n                onComplete: ()=>overlay.destroy()\n            });\n        });\n    }\n    capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2xpYi9waGFzZXIvQmF0dGxlU2NlbmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpQztBQUNxRDtBQXVCL0UsTUFBTUcsb0JBQW9CSCx5Q0FBWTtJQThCM0MsYUFBYztRQUNaLEtBQUssQ0FBQyxxQkExQkFLLFNBQWlCLFFBQ2pCQyxZQUFvQixRQUNwQkMsWUFBb0IsUUFDcEJDLFdBQW1CLFFBQ25CQyxjQUFzQixRQUN0QkMsYUFBb0IsRUFBRSxPQUN0QkMsZUFBdUIsUUFDdkJDLGVBQW9DLElBQUlDLE1BQU8seUJBQXlCO1VBRWhGLGVBQWU7YUFDUEMsZUFBd0IsV0FDeEJDLG1CQUE0QixZQUM1QkMsaUJBQTBFLFdBVTFFQyxnQkFBMkMsRUFBRTtJQUtyRDtJQUVBQyxLQUFLQyxJQUFnQixFQUFFO1FBQ3JCLElBQUksQ0FBQ0MsV0FBVyxHQUFHRCxLQUFLQyxXQUFXO1FBQ25DLElBQUksQ0FBQ0MsYUFBYSxHQUFHRixLQUFLRSxhQUFhO1FBQ3ZDLElBQUksQ0FBQ1gsVUFBVSxHQUFHUyxLQUFLVCxVQUFVLElBQUksRUFBRTtRQUN2QyxJQUFJLENBQUNDLFlBQVksR0FBR1EsS0FBS1IsWUFBWSxJQUFJO1FBRTdDLGtGQUFrRjtRQUM5RSxJQUFJLENBQUNKLFNBQVMsR0FBRyxJQUFJLENBQUNhLFdBQVcsQ0FBQ0UsS0FBSyxJQUFJO1FBQzNDLE1BQU1DLGFBQWEsSUFBSSxDQUFDSCxXQUFXLENBQUNELElBQUksRUFBRUssT0FBT0MsS0FBSyxDQUFDQyxJQUFXQSxFQUFFQyxJQUFJLENBQUNDLElBQUksS0FBSyxPQUFPQyxhQUFhO1FBQ3RHLElBQUksQ0FBQ3ZCLFNBQVMsR0FBR3dCLEtBQUtDLEtBQUssQ0FBQyxDQUFHLElBQUlSLGFBQWEsRUFBQyxJQUFLLElBQUksQ0FBQ2hCLFNBQVMsR0FBSSxNQUFPLElBQUksQ0FBQ0EsU0FBUyxHQUFHO1FBQ2hHLElBQUksQ0FBQ0QsU0FBUyxHQUFHd0IsS0FBS0UsR0FBRyxDQUFDLElB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QjtZQUNqRUMsVUFBVTtZQUNWQyxPQUFPO1lBQ1BxRCxXQUFXO1FBQ2IsR0FBR3JFLFNBQVMsQ0FBQztRQUViMFIsUUFBUTVSLEdBQUcsQ0FBQztZQUFDdU87WUFBSUM7WUFBUXFEO1lBQVdDO1lBQVdDO1NBQVM7UUFDeERILFFBQVF6UixRQUFRLENBQUM7UUFDakJ5UixRQUFRSSxRQUFRLENBQUM7UUFFakIsYUFBYTtRQUNiLElBQUksQ0FBQ3pILE1BQU0sQ0FBQ3ZLLEdBQUcsQ0FBQztZQUNkd0ssU0FBU29IO1lBQ1RuSCxPQUFPO1lBQ1AxSyxPQUFPO2dCQUFFa1MsTUFBTTtnQkFBS0MsSUFBSTtZQUFFO1lBQzFCeEgsVUFBVTtZQUNWQyxNQUFNO1FBQ1I7UUFFQSxrQkFBa0I7UUFDbEIsSUFBSSxDQUFDSixNQUFNLENBQUN2SyxHQUFHLENBQUM7WUFDZHdLLFNBQVNxSDtZQUNUOVIsT0FBTztnQkFBRWtTLE1BQU07Z0JBQUdDLElBQUk7WUFBSTtZQUMxQnhILFVBQVU7WUFDVnlILE1BQU07WUFDTkMsUUFBUTtRQUNWO1FBRUEsK0JBQStCO1FBQy9CLElBQUksQ0FBQ2xKLElBQUksQ0FBQ0MsV0FBVyxDQUFDLE1BQU07WUFDMUIsSUFBSSxDQUFDb0IsTUFBTSxDQUFDdkssR0FBRyxDQUFDO2dCQUNkd0ssU0FBU29IO2dCQUNUbkgsT0FBTztnQkFDUEMsVUFBVTtnQkFDVkUsWUFBWSxJQUFNZ0gsUUFBUS9OLE9BQU87WUFDbkM7UUFDRjtJQUNGO0lBRVFuRCxXQUFXMlIsR0FBVyxFQUFVO1FBQ3RDLE9BQU9BLElBQUlDLE1BQU0sQ0FBQyxHQUFHNU8sV0FBVyxLQUFLMk8sSUFBSWpQLEtBQUssQ0FBQztJQUNqRDtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFNhaGl0aFxcT25lRHJpdmVcXERlc2t0b3BcXHlva2FpaHVudFxcZnJvbnRlbmRcXGxpYlxccGhhc2VyXFxCYXR0bGVTY2VuZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBjYWxjdWxhdGVEYW1hZ2UsIGdldE1vdmVEYXRhLCB0eXBlIFBva2Vtb25UeXBlIH0gZnJvbSBcIi4uL3R5cGVFZmZlY3RpdmVuZXNzXCI7XHJcblxyXG5pbnRlcmZhY2UgQmF0dGxlRGF0YSB7XHJcbiAgd2lsZFBva2Vtb246IHtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIHBva2VJZDogbnVtYmVyO1xyXG4gICAgZGF0YTogYW55O1xyXG4gICAgc3ByaXRlVXJsOiBzdHJpbmc7XHJcbiAgICBsZXZlbD86IG51bWJlcjtcclxuICB9O1xyXG4gIHBsYXllclBva2Vtb246IHtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIHBva2VJZDogbnVtYmVyO1xyXG4gICAgZGF0YTogYW55O1xyXG4gICAgc3ByaXRlVXJsOiBzdHJpbmc7XHJcbiAgICBsZXZlbDogbnVtYmVyO1xyXG4gICAgY3VycmVudEhwOiBudW1iZXI7XHJcbiAgICBtYXhIcDogbnVtYmVyO1xyXG4gIH07XHJcbiAgcGxheWVyVGVhbT86IGFueVtdOyAvLyBGdWxsIHRlYW0gZm9yIHN3aXRjaGluZ1xyXG4gIHRyYWluZXJMZXZlbD86IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEJhdHRsZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICBwcml2YXRlIHdpbGRQb2tlbW9uITogQmF0dGxlRGF0YVtcIndpbGRQb2tlbW9uXCJdO1xyXG4gIHByaXZhdGUgcGxheWVyUG9rZW1vbiE6IEJhdHRsZURhdGFbXCJwbGF5ZXJQb2tlbW9uXCJdO1xyXG4gIHByaXZhdGUgd2lsZFNwcml0ZT86IFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZTtcclxuICBwcml2YXRlIHBsYXllclNwcml0ZT86IFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZTtcclxuICBwcml2YXRlIHdpbGRIcDogbnVtYmVyID0gMDtcclxuICBwcml2YXRlIHdpbGRNYXhIcDogbnVtYmVyID0gMDtcclxuICBwcml2YXRlIHdpbGRMZXZlbDogbnVtYmVyID0gNTtcclxuICBwcml2YXRlIHBsYXllckhwOiBudW1iZXIgPSAwO1xyXG4gIHByaXZhdGUgcGxheWVyTWF4SHA6IG51bWJlciA9IDA7XHJcbiAgcHJpdmF0ZSBwbGF5ZXJUZWFtOiBhbnlbXSA9IFtdO1xyXG4gIHByaXZhdGUgdHJhaW5lckxldmVsOiBudW1iZXIgPSAxO1xyXG4gIHByaXZhdGUgYmF0dGxlVGVhbUhwOiBNYXA8bnVtYmVyLCBudW1iZXI+ID0gbmV3IE1hcCgpOyAvLyBUcmFjayBIUCBkdXJpbmcgYmF0dGxlXHJcbiAgXHJcbiAgLy8gQmF0dGxlIHN0YXRlXHJcbiAgcHJpdmF0ZSBpc1BsYXllclR1cm46IGJvb2xlYW4gPSB0cnVlO1xyXG4gIHByaXZhdGUgYmF0dGxlSW5Qcm9ncmVzczogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHByaXZhdGUgbGFzdERhbWFnZUluZm86IHsgZGFtYWdlOiBudW1iZXI7IGVmZmVjdGl2ZW5lc3M6IHN0cmluZyB8IG51bGwgfSB8IG51bGwgPSBudWxsO1xyXG4gIFxyXG4gIC8vIFVJIEVsZW1lbnRzXHJcbiAgcHJpdmF0ZSBiYXR0bGVVST86IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XHJcbiAgcHJpdmF0ZSB3aWxkSHBCYXI/OiBQaGFzZXIuR2FtZU9iamVjdHMuUmVjdGFuZ2xlO1xyXG4gIHByaXZhdGUgcGxheWVySHBCYXI/OiBQaGFzZXIuR2FtZU9iamVjdHMuUmVjdGFuZ2xlO1xyXG4gIHByaXZhdGUgd2lsZEhwVGV4dD86IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xyXG4gIHByaXZhdGUgcGxheWVySHBUZXh0PzogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XHJcbiAgcHJpdmF0ZSBiYXR0bGVUZXh0PzogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XHJcbiAgcHJpdmF0ZSBhY3Rpb25CdXR0b25zPzogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcclxuICBwcml2YXRlIGZsb2F0aW5nVGV4dHM6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0W10gPSBbXTtcclxuICBwcml2YXRlIHN0YXR1c1RvYXN0PzogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoXCJCYXR0bGVTY2VuZVwiKTtcclxuICB9XHJcblxyXG4gIGluaXQoZGF0YTogQmF0dGxlRGF0YSkge1xyXG4gICAgdGhpcy53aWxkUG9rZW1vbiA9IGRhdGEud2lsZFBva2Vtb247XHJcbiAgICB0aGlzLnBsYXllclBva2Vtb24gPSBkYXRhLnBsYXllclBva2Vtb247XHJcbiAgICB0aGlzLnBsYXllclRlYW0gPSBkYXRhLnBsYXllclRlYW0gfHwgW107XHJcbiAgICB0aGlzLnRyYWluZXJMZXZlbCA9IGRhdGEudHJhaW5lckxldmVsIHx8IDE7XHJcbiAgICBcclxuLy8gQ2FsY3VsYXRlIHdpbGQgUG9rZW1vbiBIUCB3aXRoIGxldmVsIHNjYWxpbmcgKGluY2x1ZGUgSVYgfjMxKSBhbmQgbWluaW11bSBmbG9vclxyXG4gICAgdGhpcy53aWxkTGV2ZWwgPSB0aGlzLndpbGRQb2tlbW9uLmxldmVsIHx8IDU7XHJcbiAgICBjb25zdCB3aWxkSHBTdGF0ID0gdGhpcy53aWxkUG9rZW1vbi5kYXRhPy5zdGF0cz8uZmluZCgoczogYW55KSA9PiBzLnN0YXQubmFtZSA9PT0gJ2hwJyk/LmJhc2Vfc3RhdCB8fCA1MDtcclxuICAgIHRoaXMud2lsZE1heEhwID0gTWF0aC5mbG9vcigoKCgyICogd2lsZEhwU3RhdCArIDMxKSAqIHRoaXMud2lsZExldmVsKSAvIDEwMCkgKyB0aGlzLndpbGRMZXZlbCArIDEwKTtcclxuICAgIHRoaXMud2lsZE1heEhwID0gTWF0aC5tYXgoMjQsIHRoaXMud2lsZE1heEhwKTtcclxuICAgIHRoaXMud2lsZEhwID0gdGhpcy53aWxkTWF4SHA7XHJcbiAgICBcclxuICAgIC8vIEVuc3VyZSBwbGF5ZXIgSFAgaGFzIHNhbmUgZmxvb3IgYW5kIElWLWJhc2VkIGNhbGMgaWYgbWlzc2luZ1xyXG4gICAgdGhpcy5wbGF5ZXJNYXhIcCA9IE1hdGgubWF4KFxyXG4gICAgICB0aGlzLnBsYXllclBva2Vtb24ubWF4SHAgfHwgMCxcclxuICAgICAgTWF0aC5mbG9vcigoKCgyICogKHRoaXMucGxheWVyUG9rZW1vbi5kYXRhPy5zdGF0cz8uZmluZCgoczogYW55KSA9PiBzLnN0YXQubmFtZSA9PT0gJ2hwJyk/LmJhc2Vfc3RhdCB8fCA1MCkgKyAzMSkgKiB0aGlzLnBsYXllclBva2Vtb24ubGV2ZWwpIC8gMTAwKSArIHRoaXMucGxheWVyUG9rZW1vbi5sZXZlbCArIDEwKVxyXG4gICAgKTtcclxuICAgIHRoaXMucGxheWVyTWF4SHAgPSBNYXRoLm1heCgyOCwgdGhpcy5wbGF5ZXJNYXhIcCk7XHJcbiAgICB0aGlzLnBsYXllckhwID0gTWF0aC5taW4odGhpcy5wbGF5ZXJNYXhIcCwgdGhpcy5wbGF5ZXJQb2tlbW9uLmN1cnJlbnRIcCB8fCB0aGlzLnBsYXllck1heEhwKTtcclxuICAgIFxyXG4gICAgLy8gSW5pdGlhbGl6ZSBiYXR0bGUgSFAgdHJhY2tpbmcgLSBhbGwgUG9rZW1vbiBzdGFydCBhdCBmdWxsIEhQIGF0IGJhdHRsZSBzdGFydFxyXG4gICAgdGhpcy5iYXR0bGVUZWFtSHAuY2xlYXIoKTtcclxuICAgIHRoaXMucGxheWVyVGVhbS5mb3JFYWNoKHAgPT4ge1xyXG4gICAgICB0aGlzLmJhdHRsZVRlYW1IcC5zZXQocC5pZCwgcC5tYXhIcCk7XHJcbiAgICB9KTtcclxuICAgIC8vIFNldCBjdXJyZW50IFBva2Vtb24gSFBcclxuICAgIHRoaXMuYmF0dGxlVGVhbUhwLnNldCh0aGlzLnBsYXllclBva2Vtb24ucG9rZUlkLCB0aGlzLnBsYXllckhwKTtcclxuICAgIFxyXG4gICAgdGhpcy5pc1BsYXllclR1cm4gPSB0cnVlO1xyXG4gICAgdGhpcy5iYXR0bGVJblByb2dyZXNzID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBhc3luYyBwcmVsb2FkKCkge1xyXG4gICAgLy8gTG9hZCBQb2vDqW1vbiBzcHJpdGVzIGlmIG5vdCBhbHJlYWR5IGxvYWRlZFxyXG4gICAgaWYgKCF0aGlzLnRleHR1cmVzLmV4aXN0cyhgd2lsZC0ke3RoaXMud2lsZFBva2Vtb24ucG9rZUlkfWApKSB7XHJcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5sb2FkLm9uY2UoUGhhc2VyLkxvYWRlci5FdmVudHMuQ09NUExFVEUsICgpID0+IHJlc29sdmUoKSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKGB3aWxkLSR7dGhpcy53aWxkUG9rZW1vbi5wb2tlSWR9YCwgdGhpcy53aWxkUG9rZW1vbi5zcHJpdGVVcmwpO1xyXG4gICAgICAgIHRoaXMubG9hZC5zdGFydCgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKCF0aGlzLnRleHR1cmVzLmV4aXN0cyhgcGxheWVyLSR7dGhpcy5wbGF5ZXJQb2tlbW9uLnBva2VJZH1gKSkge1xyXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgIHRoaXMubG9hZC5vbmNlKFBoYXNlci5Mb2FkZXIuRXZlbnRzLkNPTVBMRVRFLCAoKSA9PiByZXNvbHZlKCkpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZShgcGxheWVyLSR7dGhpcy5wbGF5ZXJQb2tlbW9uLnBva2VJZH1gLCB0aGlzLnBsYXllclBva2Vtb24uc3ByaXRlVXJsKTtcclxuICAgICAgICB0aGlzLmxvYWQuc3RhcnQoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjcmVhdGUoKSB7XHJcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcblxyXG4gICAgLy8gQmFja2dyb3VuZFxyXG4gICAgdGhpcy5hZGQucmVjdGFuZ2xlKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCwgMHg4N0NFRUIpLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIEhpZGUgYW55IGxpbmdlcmluZyBtYXAgVUkgYnkgZHJhd2luZyBhbiBvcGFxdWUgZm9vdGVyIChwcmV2ZW50cyBET00gb3ZlcmxhcCBwZXJjZXB0aW9uKVxyXG4gICAgdGhpcy5hZGQucmVjdGFuZ2xlKHdpZHRoIC8gMiwgaGVpZ2h0IC0gMTgsIHdpZHRoLCAzNiwgMHgwMDAwMDAsIDAuMikuc2V0RGVwdGgoNSk7XHJcblxyXG4gICAgLy8gV2lsZCBQb2vDqW1vbiAoZW5lbXksIHRvcCByaWdodClcclxuICAgIHRoaXMud2lsZFNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKHdpZHRoICogMC43NSwgaGVpZ2h0ICogMC4zLCBgd2lsZC0ke3RoaXMud2lsZFBva2Vtb24ucG9rZUlkfWApXHJcbiAgICAgIC5zZXRTY2FsZSgyKVxyXG4gICAgICAuc2V0RmxpcFgoZmFsc2UpO1xyXG5cclxuICAgIC8vIFBsYXllciBQb2vDqW1vbiAoYm90dG9tIGxlZnQsIGJhY2sgc3ByaXRlKVxyXG4gICAgdGhpcy5wbGF5ZXJTcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSh3aWR0aCAqIDAuMjUsIGhlaWdodCAqIDAuNjUsIGBwbGF5ZXItJHt0aGlzLnBsYXllclBva2Vtb24ucG9rZUlkfWApXHJcbiAgICAgIC5zZXRTY2FsZSgyKVxyXG4gICAgICAuc2V0RmxpcFgodHJ1ZSk7XHJcblxyXG4gICAgdGhpcy5jcmVhdGVVSSgpO1xyXG4gICAgdGhpcy5zaG93VG9hc3QoYEEgd2lsZCAke3RoaXMuY2FwaXRhbGl6ZSh0aGlzLndpbGRQb2tlbW9uLm5hbWUpfSBhcHBlYXJlZCFgLCAxNTAwKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlVUkoKSB7XHJcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcblxyXG4gICAgLy8gQmF0dGxlIFVJIENvbnRhaW5lclxyXG4gICAgdGhpcy5iYXR0bGVVSSA9IHRoaXMuYWRkLmNvbnRhaW5lcigwLCAwKTtcclxuXHJcbiAgICAvLyBXaWxkIFBva8OpbW9uIEhQIEJhciAodG9wIGxlZnQpXHJcbiAgICBjb25zdCB3aWxkSHBCZyA9IHRoaXMuYWRkLnJlY3RhbmdsZSgyMCwgMjAsIDIwMCwgMjAsIDB4MzMzMzMzKS5zZXRPcmlnaW4oMCk7XHJcbiAgICB0aGlzLndpbGRIcEJhciA9IHRoaXMuYWRkLnJlY3RhbmdsZSgyMiwgMjIsIDE5NiwgMTYsIDB4MDBmZjAwKS5zZXRPcmlnaW4oMCk7XHJcbiAgICB0aGlzLndpbGRIcFRleHQgPSB0aGlzLmFkZC50ZXh0KDIwLCA0NSwgYCR7dGhpcy5jYXBpdGFsaXplKHRoaXMud2lsZFBva2Vtb24ubmFtZSl9IEhQOiAke3RoaXMud2lsZEhwfS8ke3RoaXMud2lsZE1heEhwfWAsIHtcclxuICAgICAgZm9udFNpemU6ICcxNHB4JyxcclxuICAgICAgY29sb3I6ICcjMDAwJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUGxheWVyIFBva8OpbW9uIEhQIEJhciAoYm90dG9tIHJpZ2h0KVxyXG4gICAgY29uc3QgcGxheWVySHBCZyA9IHRoaXMuYWRkLnJlY3RhbmdsZSh3aWR0aCAtIDIyMCwgaGVpZ2h0IC0gODAsIDIwMCwgMjAsIDB4MzMzMzMzKS5zZXRPcmlnaW4oMCk7XHJcbiAgICB0aGlzLnBsYXllckhwQmFyID0gdGhpcy5hZGQucmVjdGFuZ2xlKHdpZHRoIC0gMjE4LCBoZWlnaHQgLSA3OCwgMTk2LCAxNiwgMHgwMGZmMDApLnNldE9yaWdpbigwKTtcclxuICAgIHRoaXMucGxheWVySHBUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAtIDIyMCwgaGVpZ2h0IC0gNTUsIGAke3RoaXMuY2FwaXRhbGl6ZSh0aGlzLnBsYXllclBva2Vtb24ubmFtZSl9IEx2LiR7dGhpcy5wbGF5ZXJQb2tlbW9uLmxldmVsfSBIUDogJHt0aGlzLnBsYXllckhwfS8ke3RoaXMucGxheWVyTWF4SHB9YCwge1xyXG4gICAgICBmb250U2l6ZTogJzE0cHgnLFxyXG4gICAgICBjb2xvcjogJyMwMDAnXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBNaW5pbWFsIHN0YXR1cyB0b2FzdCAodG9wLXJpZ2h0KSwgbm8gYmlnIGRpYWxvZyBib3hcclxuICAgIHRoaXMuYmF0dGxlVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLSAzNjAsIDEyLCAnJywge1xyXG4gICAgICBmb250U2l6ZTogJzE0cHgnLCBjb2xvcjogJyMwMDAnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmZTYnLCBwYWRkaW5nOiB7IHg6IDEwLCB5OiA2IH0sIHdvcmRXcmFwOiB7IHdpZHRoOiAzNDAgfVxyXG4gICAgfSkuc2V0RGVwdGgoMTAwMikuc2V0VmlzaWJsZShmYWxzZSk7XHJcblxyXG4gICAgLy8gQWN0aW9uIGJ1dHRvbnMgKHBsYWNlZCBhdCByaWdodC1taWRkbGUgYXMgdmVydGljYWwgc3RhY2spXHJcbiAgICB0aGlzLmNyZWF0ZUFjdGlvbkJ1dHRvbnMoKTtcclxuXHJcbiAgICB0aGlzLmJhdHRsZVVJLmFkZChbd2lsZEhwQmcsIHRoaXMud2lsZEhwQmFyLCB0aGlzLndpbGRIcFRleHQsIHBsYXllckhwQmcsIHRoaXMucGxheWVySHBCYXIsIHRoaXMucGxheWVySHBUZXh0XSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUFjdGlvbkJ1dHRvbnMoKSB7XHJcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcblxyXG4gICAgdGhpcy5hY3Rpb25CdXR0b25zID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApO1xyXG5cclxuICAgIGNvbnN0IGJhc2VYID0gd2lkdGggLSAxMjA7XHJcbiAgICBjb25zdCBiYXNlWSA9IGhlaWdodCAvIDIgLSAxMDA7XHJcbiAgICBjb25zdCB2R2FwID0gMzQ7XHJcbiAgICBjb25zdCBidXR0b25EYXRhID0gW1xyXG4gICAgICB7IHRleHQ6ICdGSUdIVCcsIHg6IGJhc2VYLCB5OiBiYXNlWSArIHZHYXAgKiAwLCBhY3Rpb246ICgpID0+IHRoaXMuc2hvd01vdmVTZWxlY3Rpb24oKSB9LFxyXG4gICAgICB7IHRleHQ6ICdTV0lUQ0gnLCB4OiBiYXNlWCwgeTogYmFzZVkgKyB2R2FwICogMSwgYWN0aW9uOiAoKSA9PiB0aGlzLnNob3dUZWFtU2VsZWN0aW9uKCkgfSxcclxuICAgICAgeyB0ZXh0OiAnQkFHJywgeDogYmFzZVgsIHk6IGJhc2VZICsgdkdhcCAqIDIsIGFjdGlvbjogKCkgPT4gdGhpcy5vcGVuQmFnKCkgfSxcclxuICAgICAgeyB0ZXh0OiAnQ0FUQ0gnLCB4OiBiYXNlWCwgeTogYmFzZVkgKyB2R2FwICogMywgYWN0aW9uOiAoKSA9PiB0aGlzLmF0dGVtcHRDYXRjaCgpIH0sXHJcbiAgICAgIHsgdGV4dDogJ1JVTicsIHg6IGJhc2VYLCB5OiBiYXNlWSArIHZHYXAgKiA0LCBhY3Rpb246ICgpID0+IHRoaXMucnVuQXdheSgpIH1cclxuICAgIF07XHJcblxyXG4gICAgYnV0dG9uRGF0YS5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuYWRkLnRleHQoYnRuLngsIGJ0bi55LCBidG4udGV4dCwge1xyXG4gICAgICAgIGZvbnRTaXplOiAnMTRweCcsXHJcbiAgICAgICAgY29sb3I6ICcjZmZmJyxcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMzMzJyxcclxuICAgICAgICBwYWRkaW5nOiB7IHg6IDgsIHk6IDQgfVxyXG4gICAgICB9KS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgYnRuLmFjdGlvbik7XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLmFjdGlvbkJ1dHRvbnM/LmFkZChidXR0b24pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKHRoaXMuYWN0aW9uQnV0dG9ucykgdGhpcy5iYXR0bGVVST8uYWRkKHRoaXMuYWN0aW9uQnV0dG9ucyk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNob3dNb3ZlU2VsZWN0aW9uKCkge1xyXG4gICAgaWYgKCF0aGlzLmlzUGxheWVyVHVybiB8fCB0aGlzLmJhdHRsZUluUHJvZ3Jlc3MpIHJldHVybjtcclxuXHJcbiAgICAvLyBIaWRlIG1haW4gYWN0aW9uIGJ1dHRvbnNcclxuICAgIGlmICh0aGlzLmFjdGlvbkJ1dHRvbnMpIHRoaXMuYWN0aW9uQnV0dG9ucy5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICBjb25zdCBtb3ZlcyA9IHRoaXMuZ2V0UGxheWVyTW92ZXMoKTtcclxuXHJcbiAgICAvLyBDcmVhdGUgbW92ZSBzZWxlY3Rpb24gY29udGFpbmVyXHJcbiAgICBjb25zdCBtb3ZlQ29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApO1xyXG5cclxuICAgIC8vIEJhY2tncm91bmQgZm9yIG1vdmUgc2VsZWN0aW9uIChyaWdodC1jZW50ZXIgcGFuZWwpXHJcbiAgICBjb25zdCBwYW5lbFcgPSAzMDA7IGNvbnN0IHBhbmVsSCA9IDE0MDtcclxuICAgIGNvbnN0IG1vdmVCZyA9IHRoaXMuYWRkLnJlY3RhbmdsZSh3aWR0aCAtIHBhbmVsVyAtIDIwLCBoZWlnaHQgLyAyIC0gcGFuZWxIIC8gMiwgcGFuZWxXLCBwYW5lbEgsIDB4MjIyMjIyLCAwLjk1KS5zZXRPcmlnaW4oMCk7XHJcbiAgICBtb3ZlQ29udGFpbmVyLmFkZChtb3ZlQmcpO1xyXG5cclxuICAgIC8vIERpc3BsYXkgdXAgdG8gNCBtb3ZlcyBpbiBhIDJ4MiBncmlkXHJcbiAgICBtb3Zlcy5zbGljZSgwLCA0KS5mb3JFYWNoKChtb3ZlLCBpbmRleCkgPT4ge1xyXG4gICAgICBjb25zdCBjb2wgPSBpbmRleCAlIDI7XHJcbiAgICAgIGNvbnN0IHJvdyA9IE1hdGguZmxvb3IoaW5kZXggLyAyKTtcclxuICAgICAgY29uc3QgeCA9IHdpZHRoIC0gcGFuZWxXIC0gMTAgKyBjb2wgKiAxNTA7XHJcbiAgICAgIGNvbnN0IHkgPSBoZWlnaHQgLyAyIC0gcGFuZWxIIC8gMiArIDEwICsgcm93ICogNjA7XHJcblxyXG4gICAgICBjb25zdCBtb3ZlQnV0dG9uID0gdGhpcy5hZGQudGV4dCh4LCB5LCBtb3ZlLm5hbWUudG9VcHBlckNhc2UoKSwge1xyXG4gICAgICAgIGZvbnRTaXplOiAnMTNweCcsXHJcbiAgICAgICAgY29sb3I6ICcjZmZmJyxcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMuZ2V0TW92ZVR5cGVDb2xvcihtb3ZlLnR5cGUpLFxyXG4gICAgICAgIHBhZGRpbmc6IHsgeDogMTAsIHk6IDYgfVxyXG4gICAgICB9KS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgbW92ZUNvbnRhaW5lci5kZXN0cm95KCk7XHJcbiAgICAgICAgICBpZiAodGhpcy5hY3Rpb25CdXR0b25zKSB0aGlzLmFjdGlvbkJ1dHRvbnMuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgIHRoaXMudXNlTW92ZShtb3ZlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIG1vdmVDb250YWluZXIuYWRkKG1vdmVCdXR0b24pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQmFjayBidXR0b25cclxuICAgIGNvbnN0IGJhY2tCdXR0b24gPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC0gcGFuZWxXLCBoZWlnaHQgLyAyICsgcGFuZWxIIC8gMiArIDgsICdCQUNLJywge1xyXG4gICAgICBmb250U2l6ZTogJzEycHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmYnLFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNjY2JyxcclxuICAgICAgcGFkZGluZzogeyB4OiA4LCB5OiA0IH1cclxuICAgIH0pLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgIG1vdmVDb250YWluZXIuZGVzdHJveSgpO1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGlvbkJ1dHRvbnMpIHRoaXMuYWN0aW9uQnV0dG9ucy5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICBtb3ZlQ29udGFpbmVyLmFkZChiYWNrQnV0dG9uKTtcclxuICAgIHRoaXMuYmF0dGxlVUk/LmFkZChtb3ZlQ29udGFpbmVyKTtcclxuICB9XHJcbiAgXHJcbiAgcHJpdmF0ZSBzaG93VGVhbVNlbGVjdGlvbigpIHtcclxuICAgIGlmICghdGhpcy5pc1BsYXllclR1cm4gfHwgdGhpcy5iYXR0bGVJblByb2dyZXNzKSByZXR1cm47XHJcbiAgICBpZiAodGhpcy5wbGF5ZXJUZWFtLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAvLyBUcnkgbGF6eS1sb2FkIHRlYW0gZnJvbSB0cmFpbmVyIHN0b3JhZ2VcclxuICAgICAgdGhpcy5sb2FkVHJhaW5lclRlYW0oKS50aGVuKCgpID0+IHRoaXMuaW50ZXJuYWxTaG93VGVhbVNlbGVjdGlvbigpKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pbnRlcm5hbFNob3dUZWFtU2VsZWN0aW9uKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGludGVybmFsU2hvd1RlYW1TZWxlY3Rpb24oKSB7XHJcbiAgICBcclxuICAgIC8vIEhpZGUgbWFpbiBhY3Rpb24gYnV0dG9uc1xyXG4gICAgaWYgKHRoaXMuYWN0aW9uQnV0dG9ucykgdGhpcy5hY3Rpb25CdXR0b25zLnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuXHJcbiAgICAvLyBDcmVhdGUgdGVhbSBzZWxlY3Rpb24gY29udGFpbmVyXHJcbiAgICBjb25zdCB0ZWFtQ29udGFpbmVyID0gdGhpcy5hZGQuY29udGFpbmVyKDAsIDApO1xyXG5cclxuICAgIC8vIEJhY2tncm91bmQgZm9yIHRlYW0gc2VsZWN0aW9uXHJcbiAgICBjb25zdCB0ZWFtQmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUod2lkdGggLyAyIC0gMjAwLCBoZWlnaHQgLyAyIC0gMTUwLCA0MDAsIDMwMCwgMHgyMjIyMjIsIDAuOTUpLnNldE9yaWdpbigwKTtcclxuICAgIHRlYW1Db250YWluZXIuYWRkKHRlYW1CZyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHRpdGxlID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgLSAxMzAsICdDaG9vc2UgUG9rZW1vbicsIHtcclxuICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgY29sb3I6ICcjZmZmJyxcclxuICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgdGVhbUNvbnRhaW5lci5hZGQodGl0bGUpO1xyXG5cclxuICAgIC8vIERpc3BsYXkgdGVhbSBtZW1iZXJzXHJcbiAgICB0aGlzLnBsYXllclRlYW0uZm9yRWFjaCgocG9rZW1vbiwgaW5kZXgpID0+IHtcclxuICAgICAgY29uc3QgeSA9IGhlaWdodCAvIDIgLSA5MCArIGluZGV4ICogNTA7XHJcbiAgICAgIGNvbnN0IG1heEhwID0gcG9rZW1vbi5tYXhIcCB8fCAxMDA7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRIcCA9IHRoaXMuYmF0dGxlVGVhbUhwLmdldChwb2tlbW9uLmlkKSB8fCBtYXhIcDtcclxuICAgICAgY29uc3QgaXNGYWludGVkID0gY3VycmVudEhwIDw9IDA7XHJcbiAgICAgIGNvbnN0IGlzQ3VycmVudCA9IHBva2Vtb24uaWQgPT09IHRoaXMucGxheWVyUG9rZW1vbi5wb2tlSWQ7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBwb2tlbW9uQnV0dG9uID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIgLSAxODAsIHksIFxyXG4gICAgICAgIGAke3RoaXMuY2FwaXRhbGl6ZShwb2tlbW9uLm5hbWUpfSBMdi4ke3Bva2Vtb24ubGV2ZWwgfHwgMX0gIEhQOiAke2N1cnJlbnRIcH0vJHttYXhIcH1gLCBcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmb250U2l6ZTogJzE0cHgnLFxyXG4gICAgICAgICAgY29sb3I6IGlzRmFpbnRlZCA/ICcjNjY2JyA6IGlzQ3VycmVudCA/ICcjZmZkNzAwJyA6ICcjZmZmJyxcclxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogaXNDdXJyZW50ID8gJyM0NDQnIDogJyMzMzMnLFxyXG4gICAgICAgICAgcGFkZGluZzogeyB4OiAxMCwgeTogNiB9XHJcbiAgICAgICAgfVxyXG4gICAgICApLnNldE9yaWdpbigwKTtcclxuICAgICAgXHJcbiAgICAgIGlmICghaXNGYWludGVkICYmICFpc0N1cnJlbnQpIHtcclxuICAgICAgICBwb2tlbW9uQnV0dG9uLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGVhbUNvbnRhaW5lci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGlvbkJ1dHRvbnMpIHRoaXMuYWN0aW9uQnV0dG9ucy5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLnN3aXRjaFBva2Vtb24ocG9rZW1vbik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGVhbUNvbnRhaW5lci5hZGQocG9rZW1vbkJ1dHRvbik7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBCYWNrIGJ1dHRvblxyXG4gICAgY29uc3QgYmFja0J1dHRvbiA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyICsgMTMwLCAnQkFDSycsIHtcclxuICAgICAgZm9udFNpemU6ICcxNHB4JyxcclxuICAgICAgY29sb3I6ICcjZmZmJyxcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzY2NicsXHJcbiAgICAgIHBhZGRpbmc6IHsgeDogMTUsIHk6IDggfVxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgdGVhbUNvbnRhaW5lci5kZXN0cm95KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aW9uQnV0dG9ucykgdGhpcy5hY3Rpb25CdXR0b25zLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHRlYW1Db250YWluZXIuYWRkKGJhY2tCdXR0b24pO1xyXG4gICAgdGVhbUNvbnRhaW5lci5zZXREZXB0aCgxMDAxKTtcclxuICAgIHRoaXMuYmF0dGxlVUk/LmFkZCh0ZWFtQ29udGFpbmVyKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0UGxheWVyTW92ZXMoKSB7XHJcbiAgICAvLyBFbnN1cmUgNCB1bmlxdWUgbW92ZXMgd2l0aCBhdCBsZWFzdCBvbmUgU1RBQiAodHlwZS1tYXRjaGluZykgbW92ZVxyXG4gICAgY29uc3QgcG9rZW1vbk1vdmVzID0gdGhpcy5wbGF5ZXJQb2tlbW9uLmRhdGE/Lm1vdmVzIHx8IFtdO1xyXG4gICAgY29uc3QgdHlwZXMgPSAodGhpcy5wbGF5ZXJQb2tlbW9uLmRhdGE/LnR5cGVzIHx8IFtdKS5tYXAoKHQ6IGFueSkgPT4gdC50eXBlLm5hbWUpO1xyXG4gICAgY29uc3QgcHJpbWFyeVR5cGU6IHN0cmluZyA9IHR5cGVzWzBdIHx8ICdub3JtYWwnO1xyXG4gICAgY29uc3Qgc2Vjb25kYXJ5VHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkID0gdHlwZXNbMV07XHJcblxyXG4gICAgdHlwZSBNb3ZlTGl0ZSA9IHsgbmFtZTogc3RyaW5nOyB0eXBlOiBzdHJpbmcgfTtcclxuICAgIGNvbnN0IGNob3NlbjogTW92ZUxpdGVbXSA9IFtdO1xyXG4gICAgY29uc3Qgc2VlbiA9IG5ldyBTZXQ8c3RyaW5nPigpO1xyXG5cclxuICAgIGNvbnN0IGFkZE1vdmUgPSAobmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBnZXRNb3ZlRGF0YShuYW1lKTtcclxuICAgICAgY29uc3Qgbm9ybSA9IG5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICctJyk7XHJcbiAgICAgIGlmIChkYXRhLnBvd2VyIDw9IDApIHJldHVybjtcclxuICAgICAgaWYgKHNlZW4uaGFzKG5vcm0pKSByZXR1cm47XHJcbiAgICAgIHNlZW4uYWRkKG5vcm0pO1xyXG4gICAgICBjaG9zZW4ucHVzaCh7IG5hbWU6IGRhdGEubmFtZSwgdHlwZTogZGF0YS50eXBlIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAxKSBQcmVmZXIgU1RBQiBmcm9tIFBva2VBUEktcHJvdmlkZWQgbW92ZXMgaWYgYXZhaWxhYmxlXHJcbiAgICBjb25zdCBzaHVmZmxlZCA9IFsuLi5wb2tlbW9uTW92ZXNdLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSk7XHJcbiAgICBmb3IgKGNvbnN0IG0gb2Ygc2h1ZmZsZWQpIHtcclxuICAgICAgY29uc3QgbW92ZU5hbWUgPSBtLm1vdmU/Lm5hbWUgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG4gICAgICBpZiAoIW1vdmVOYW1lKSBjb250aW51ZTtcclxuICAgICAgY29uc3QgZGF0YSA9IGdldE1vdmVEYXRhKG1vdmVOYW1lKTtcclxuICAgICAgaWYgKGRhdGEucG93ZXIgPiAwICYmIHR5cGVzLmluY2x1ZGVzKGRhdGEudHlwZSkpIHtcclxuICAgICAgICBhZGRNb3ZlKGRhdGEubmFtZSk7XHJcbiAgICAgICAgaWYgKGNob3Nlbi5sZW5ndGggPj0gMikgYnJlYWs7IC8vIGdyYWIgdXAgdG8gdHdvIFNUQUIgb3B0aW9ucyBmaXJzdFxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gMikgR3VhcmFudGVlIGF0IGxlYXN0IG9uZSBTVEFCIG1vdmUgZm9yIHByaW1hcnkgdHlwZVxyXG4gICAgaWYgKCFjaG9zZW4uc29tZSgobXYpID0+IG12LnR5cGUgPT09IHByaW1hcnlUeXBlKSkge1xyXG4gICAgICBhZGRNb3ZlKHRoaXMuZ2V0VHlwZWRNb3ZlKHByaW1hcnlUeXBlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gMykgSWYgZHVhbC10eXBlZCwgdHJ5IHRvIGluY2x1ZGUgYSBtb3ZlIG9mIHRoZSBzZWNvbmRhcnkgdHlwZVxyXG4gICAgaWYgKHNlY29uZGFyeVR5cGUgJiYgIWNob3Nlbi5zb21lKChtdikgPT4gbXYudHlwZSA9PT0gc2Vjb25kYXJ5VHlwZSkgJiYgY2hvc2VuLmxlbmd0aCA8IDQpIHtcclxuICAgICAgYWRkTW92ZSh0aGlzLmdldFNlY29uZGFyeVR5cGVkTW92ZShzZWNvbmRhcnlUeXBlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gNCkgRmlsbCByZW1haW5pbmcgc2xvdHMgd2l0aCBvZmZlbnNpdmUsIHVuaXF1ZSBtb3ZlcyBmcm9tIFBva2VBUEkgbGlzdFxyXG4gICAgZm9yIChjb25zdCBtIG9mIHNodWZmbGVkKSB7XHJcbiAgICAgIGlmIChjaG9zZW4ubGVuZ3RoID49IDQpIGJyZWFrO1xyXG4gICAgICBjb25zdCBtb3ZlTmFtZSA9IG0ubW92ZT8ubmFtZSBhcyBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbiAgICAgIGlmICghbW92ZU5hbWUpIGNvbnRpbnVlO1xyXG4gICAgICBjb25zdCBkYXRhID0gZ2V0TW92ZURhdGEobW92ZU5hbWUpO1xyXG4gICAgICBpZiAoZGF0YS5wb3dlciA+IDApIGFkZE1vdmUoZGF0YS5uYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyA1KSBGaW5hbCBmYWxsYmFjayBjb3ZlcmFnZSBwb29sIChhdm9pZCBkdXBsaWNhdGVzIGFuZCBhdm9pZCB0d28gU2NyYXRjaGVzKVxyXG4gICAgY29uc3QgZmFsbGJhY2tQb29sID0gW1xyXG4gICAgICAnUXVpY2sgQXR0YWNrJyxcclxuICAgICAgJ1RhY2tsZScsXHJcbiAgICAgICdCaXRlJyxcclxuICAgICAgJ1JvY2sgVGhyb3cnLFxyXG4gICAgICAnQ29uZnVzaW9uJyxcclxuICAgICAgJ01ldGFsIENsYXcnLFxyXG4gICAgXTtcclxuICAgIGZvciAoY29uc3QgZiBvZiBmYWxsYmFja1Bvb2wpIHtcclxuICAgICAgaWYgKGNob3Nlbi5sZW5ndGggPj0gNCkgYnJlYWs7XHJcbiAgICAgIGFkZE1vdmUoZik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRW5mb3JjZSBTVEFCIGZvciBrbm93biBzdGFydGVycyBpZiBzdGlsbCBtaXNzaW5nXHJcbiAgICBjb25zdCBlbmZvcmNlU3RhYiA9ICh0eXBlOiBzdHJpbmcsIG1vdmVOYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgaWYgKCFjaG9zZW4uc29tZSgobXYpID0+IG12LnR5cGUgPT09IHR5cGUpKSB7XHJcbiAgICAgICAgYWRkTW92ZShtb3ZlTmFtZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gU3F1aXJ0bGUgKGlkIDcpIG11c3QgaGF2ZSBXYXRlciBHdW5cclxuICAgIGlmICh0aGlzLnBsYXllclBva2Vtb24ucG9rZUlkID09PSA3KSB7XHJcbiAgICAgIGVuZm9yY2VTdGFiKCd3YXRlcicsICdXYXRlciBHdW4nKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBjaG9zZW4gZXhjZWVkcyA0IGFmdGVyIGVuZm9yY2VtZW50LCBkcm9wIGxvd2VzdC1wcmlvcml0eSBnZW5lcmljIG1vdmVzXHJcbiAgICBjb25zdCBkcm9wT3JkZXIgPSBbJ1NjcmF0Y2gnLCAnVGFja2xlJywgJ1F1aWNrIEF0dGFjaycsICdCaXRlJ107XHJcbiAgICB3aGlsZSAoY2hvc2VuLmxlbmd0aCA+IDQpIHtcclxuICAgICAgY29uc3QgaWR4ID0gY2hvc2VuLmZpbmRJbmRleCgobXYpID0+IGRyb3BPcmRlci5pbmNsdWRlcyhtdi5uYW1lKSk7XHJcbiAgICAgIGlmIChpZHggPj0gMCkgY2hvc2VuLnNwbGljZShpZHgsIDEpO1xyXG4gICAgICBlbHNlIGNob3Nlbi5wb3AoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQcmVmZXIgdG8gc2hvdyBTVEFCIGZpcnN0XHJcbiAgICBjb25zdCBwcmltYXJ5SWR4ID0gY2hvc2VuLmZpbmRJbmRleCgobXYpID0+IG12LnR5cGUgPT09IHByaW1hcnlUeXBlKTtcclxuICAgIGlmIChwcmltYXJ5SWR4ID4gMCkge1xyXG4gICAgICBjb25zdCBbbXZdID0gY2hvc2VuLnNwbGljZShwcmltYXJ5SWR4LCAxKTtcclxuICAgICAgY2hvc2VuLnVuc2hpZnQobXYpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRyaW0gdG8gNCBqdXN0IGluIGNhc2VcclxuICAgIHJldHVybiBjaG9zZW4uc2xpY2UoMCwgNCk7XHJcbiAgfVxyXG4gIFxyXG4gIHByaXZhdGUgZ2V0VHlwZWRNb3ZlKHR5cGU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBjb25zdCB0eXBlTW92ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgICAgIGZpcmU6ICdFbWJlcicsXHJcbiAgICAgIHdhdGVyOiAnV2F0ZXIgR3VuJyxcclxuICAgICAgZ3Jhc3M6ICdWaW5lIFdoaXAnLFxyXG4gICAgICBlbGVjdHJpYzogJ1RodW5kZXIgU2hvY2snLFxyXG4gICAgICBpY2U6ICdQb3dkZXIgU25vdycsXHJcbiAgICAgIGZpZ2h0aW5nOiAnS2FyYXRlIENob3AnLFxyXG4gICAgICBwb2lzb246ICdQb2lzb24gU3RpbmcnLFxyXG4gICAgICBncm91bmQ6ICdNdWQgU2xhcCcsXHJcbiAgICAgIGZseWluZzogJ0d1c3QnLFxyXG4gICAgICBwc3ljaGljOiAnQ29uZnVzaW9uJyxcclxuICAgICAgYnVnOiAnQnVnIEJpdGUnLFxyXG4gICAgICByb2NrOiAnUm9jayBUaHJvdycsXHJcbiAgICAgIGdob3N0OiAnTGljaycsXHJcbiAgICAgIGRyYWdvbjogJ0RyYWdvbiBCcmVhdGgnLFxyXG4gICAgICBkYXJrOiAnQml0ZScsXHJcbiAgICAgIHN0ZWVsOiAnTWV0YWwgQ2xhdycsXHJcbiAgICAgIGZhaXJ5OiAnRmFpcnkgV2luZCcsXHJcbiAgICAgIG5vcm1hbDogJ1NjcmF0Y2gnXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHR5cGVNb3Zlc1t0eXBlXSB8fCAnU2NyYXRjaCc7XHJcbiAgfVxyXG4gIFxyXG4gIHByaXZhdGUgZ2V0U2Vjb25kYXJ5VHlwZWRNb3ZlKHR5cGU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBzZWNvbmRhcnlNb3ZlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuICAgICAgZmlyZTogJ0ZsYW1lIEJ1cnN0JyxcclxuICAgICAgd2F0ZXI6ICdCdWJibGUnLFxyXG4gICAgICBncmFzczogJ1Jhem9yIExlYWYnLFxyXG4gICAgICBlbGVjdHJpYzogJ1NwYXJrJyxcclxuICAgICAgaWNlOiAnSWNlIFNoYXJkJyxcclxuICAgICAgZmlnaHRpbmc6ICdMb3cgS2ljaycsXHJcbiAgICAgIHBvaXNvbjogJ0FjaWQnLFxyXG4gICAgICBncm91bmQ6ICdCdWxsZG96ZScsXHJcbiAgICAgIGZseWluZzogJ1dpbmcgQXR0YWNrJyxcclxuICAgICAgcHN5Y2hpYzogJ1BzeWJlYW0nLFxyXG4gICAgICBidWc6ICdGdXJ5IEN1dHRlcicsXHJcbiAgICAgIHJvY2s6ICdSb2NrIEJsYXN0JyxcclxuICAgICAgZ2hvc3Q6ICdTaGFkb3cgU25lYWsnLFxyXG4gICAgICBkcmFnb246ICdUd2lzdGVyJyxcclxuICAgICAgZGFyazogJ0ZlaW50IEF0dGFjaycsXHJcbiAgICAgIHN0ZWVsOiAnSXJvbiBEZWZlbnNlJyxcclxuICAgICAgZmFpcnk6ICdEcmFpbmluZyBLaXNzJyxcclxuICAgICAgbm9ybWFsOiAnQm9keSBTbGFtJ1xyXG4gICAgfTtcclxuICAgIHJldHVybiBzZWNvbmRhcnlNb3Zlc1t0eXBlXSB8fCAnQm9keSBTbGFtJztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0TW92ZVR5cGVDb2xvcih0eXBlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgY29sb3JzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICBub3JtYWw6ICcjQThBODc4JyxcclxuICAgICAgZmlyZTogJyNGMDgwMzAnLFxyXG4gICAgICB3YXRlcjogJyM2ODkwRjAnLFxyXG4gICAgICBncmFzczogJyM3OEM4NTAnLFxyXG4gICAgICBlbGVjdHJpYzogJyNGOEQwMzAnLFxyXG4gICAgICBpY2U6ICcjOThEOEQ4JyxcclxuICAgICAgZmlnaHRpbmc6ICcjQzAzMDI4JyxcclxuICAgICAgcG9pc29uOiAnI0EwNDBBMCcsXHJcbiAgICAgIGdyb3VuZDogJyNFMEMwNjgnLFxyXG4gICAgICBmbHlpbmc6ICcjQTg5MEYwJyxcclxuICAgICAgcHN5Y2hpYzogJyNGODU4ODgnLFxyXG4gICAgICBidWc6ICcjQThCODIwJyxcclxuICAgICAgcm9jazogJyNCOEEwMzgnLFxyXG4gICAgICBnaG9zdDogJyM3MDU4OTgnLFxyXG4gICAgICBkcmFnb246ICcjNzAzOEY4JyxcclxuICAgICAgZGFyazogJyM3MDU4NDgnLFxyXG4gICAgICBzdGVlbDogJyNCOEI4RDAnLFxyXG4gICAgICBmYWlyeTogJyNFRTk5QUMnXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGNvbG9yc1t0eXBlXSB8fCBjb2xvcnMubm9ybWFsO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1c2VNb3ZlKG1vdmU6IGFueSkge1xyXG4gICAgaWYgKHRoaXMuYmF0dGxlSW5Qcm9ncmVzcykgcmV0dXJuO1xyXG4gICAgdGhpcy5iYXR0bGVJblByb2dyZXNzID0gdHJ1ZTtcclxuICAgIHRoaXMuaXNQbGF5ZXJUdXJuID0gZmFsc2U7XHJcbiAgICBcclxuICAgIC8vIEdldCBtb3ZlIGRhdGFcclxuICAgIGNvbnN0IG1vdmVEYXRhID0gZ2V0TW92ZURhdGEobW92ZS5uYW1lKTtcclxuY29uc3QgcGxheWVyQXR0YWNrID0gdGhpcy5nZXRTdGF0VmFsdWUodGhpcy5wbGF5ZXJQb2tlbW9uLmRhdGEsIG1vdmVEYXRhLmNhdGVnb3J5ID09PSAncGh5c2ljYWwnID8gJ2F0dGFjaycgOiAnc3BlY2lhbC1hdHRhY2snLCB0aGlzLnBsYXllclBva2Vtb24ubGV2ZWwpO1xyXG4gICAgY29uc3Qgd2lsZERlZmVuc2UgPSB0aGlzLmdldFN0YXRWYWx1ZSh0aGlzLndpbGRQb2tlbW9uLmRhdGEsIG1vdmVEYXRhLmNhdGVnb3J5ID09PSAncGh5c2ljYWwnID8gJ2RlZmVuc2UnIDogJ3NwZWNpYWwtZGVmZW5zZScsIHRoaXMud2lsZExldmVsKTtcclxuICAgIFxyXG4gICAgLy8gR2V0IFBva2Vtb24gdHlwZXNcclxuICAgIGNvbnN0IHdpbGRUeXBlcyA9ICh0aGlzLndpbGRQb2tlbW9uLmRhdGE/LnR5cGVzIHx8IFtdKS5tYXAoKHQ6IGFueSkgPT4gdC50eXBlLm5hbWUpIGFzIFBva2Vtb25UeXBlW107XHJcbiAgICBcclxuLy8gQ2FsY3VsYXRlIGRhbWFnZSB3aXRoIHR5cGUgZWZmZWN0aXZlbmVzcyArIFNUQUJcclxuICAgIGNvbnN0IHBsYXllclR5cGVzID0gKHRoaXMucGxheWVyUG9rZW1vbi5kYXRhPy50eXBlcyB8fCBbXSkubWFwKCh0OiBhbnkpID0+IHQudHlwZS5uYW1lKSBhcyBQb2tlbW9uVHlwZVtdO1xyXG4gICAgY29uc3QgZGFtYWdlUmVzdWx0ID0gY2FsY3VsYXRlRGFtYWdlKFxyXG4gICAgICB0aGlzLnBsYXllclBva2Vtb24ubGV2ZWwsXHJcbiAgICAgIG1vdmVEYXRhLnBvd2VyLFxyXG4gICAgICBwbGF5ZXJBdHRhY2ssXHJcbiAgICAgIHdpbGREZWZlbnNlLFxyXG4gICAgICBtb3ZlRGF0YS50eXBlIGFzIFBva2Vtb25UeXBlLFxyXG4gICAgICB3aWxkVHlwZXMsXHJcbiAgICAgIHBsYXllclR5cGVzXHJcbiAgICApO1xyXG4gICAgXHJcbiAgICBjb25zdCBkYW1hZ2UgPSBkYW1hZ2VSZXN1bHQuZGFtYWdlO1xyXG4gICAgdGhpcy53aWxkSHAgPSBNYXRoLm1heCgwLCB0aGlzLndpbGRIcCAtIGRhbWFnZSk7XHJcbiAgICBcclxuICAgIC8vIFVwZGF0ZSBiYXR0bGUgdGV4dFxyXG4gICAgbGV0IGJhdHRsZU1zZyA9IGAke3RoaXMuY2FwaXRhbGl6ZSh0aGlzLnBsYXllclBva2Vtb24ubmFtZSl9IHVzZWQgJHttb3ZlRGF0YS5uYW1lfSFgO1xyXG4gICAgdGhpcy51cGRhdGVCYXR0bGVUZXh0KGJhdHRsZU1zZyk7XHJcbiAgICBcclxuICAgIC8vIFNob3cgZmxvYXRpbmcgZGFtYWdlIHRleHQgb24gd2lsZCBQb2tlbW9uXHJcbiAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNTAwLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2hvd0Zsb2F0aW5nVGV4dChgLSR7ZGFtYWdlfSBIUGAsIHRoaXMud2lsZFNwcml0ZSEueCwgdGhpcy53aWxkU3ByaXRlIS55IC0gMzAsICcjZmY0NDQ0Jyk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZGFtYWdlUmVzdWx0LmVmZmVjdGl2ZW5lc3NUZXh0KSB7XHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDMwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5zaG93RmxvYXRpbmdUZXh0KGRhbWFnZVJlc3VsdC5lZmZlY3RpdmVuZXNzVGV4dCEsIHRoaXMud2lsZFNwcml0ZSEueCwgdGhpcy53aWxkU3ByaXRlIS55IC0gNTAsICcjZmZmZjAwJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICB0aGlzLnVwZGF0ZUhwQmFycygpO1xyXG4gICAgXHJcbiAgICBpZiAodGhpcy53aWxkSHAgPD0gMCkge1xyXG4gICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYmF0dGxlSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMud2lsZERlZmVhdGVkKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcclxuICAgICAgICB0aGlzLmJhdHRsZUluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLndpbGRBdHRhY2soKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHByaXZhdGUgc3dpdGNoUG9rZW1vbihuZXdQb2tlbW9uOiBhbnkpIHtcclxuICAgIGlmICh0aGlzLmJhdHRsZUluUHJvZ3Jlc3MpIHJldHVybjtcclxuICAgIHRoaXMuYmF0dGxlSW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICBcclxuICAgIC8vIFNhdmUgY3VycmVudCBQb2tlbW9uJ3MgSFAgYmVmb3JlIHN3aXRjaGluZ1xyXG4gICAgdGhpcy5iYXR0bGVUZWFtSHAuc2V0KHRoaXMucGxheWVyUG9rZW1vbi5wb2tlSWQsIHRoaXMucGxheWVySHApO1xyXG4gICAgXHJcbiAgICAvLyBHZXQgbmV3IFBva2Vtb24ncyBjdXJyZW50IEhQIGZyb20gYmF0dGxlIHRyYWNraW5nXHJcbiAgICBjb25zdCBuZXdDdXJyZW50SHAgPSB0aGlzLmJhdHRsZVRlYW1IcC5nZXQobmV3UG9rZW1vbi5pZCkgfHwgbmV3UG9rZW1vbi5tYXhIcDtcclxuICAgIFxyXG4gICAgLy8gVXBkYXRlIHBsYXllciBQb2tlbW9uXHJcbiAgICB0aGlzLnBsYXllclBva2Vtb24gPSB7XHJcbiAgICAgIG5hbWU6IG5ld1Bva2Vtb24ubmFtZSxcclxuICAgICAgcG9rZUlkOiBuZXdQb2tlbW9uLmlkLFxyXG4gICAgICBkYXRhOiBuZXdQb2tlbW9uLmRhdGEsXHJcbiAgICAgIHNwcml0ZVVybDogbmV3UG9rZW1vbi5zcHJpdGUsXHJcbiAgICAgIGxldmVsOiBuZXdQb2tlbW9uLmxldmVsIHx8IDEsXHJcbiAgICAgIGN1cnJlbnRIcDogbmV3Q3VycmVudEhwLFxyXG4gICAgICBtYXhIcDogbmV3UG9rZW1vbi5tYXhIcCxcclxuICAgIH07XHJcbiAgICBcclxuICAgIHRoaXMucGxheWVySHAgPSBuZXdDdXJyZW50SHA7XHJcbiAgICB0aGlzLnBsYXllck1heEhwID0gdGhpcy5wbGF5ZXJQb2tlbW9uLm1heEhwO1xyXG4gICAgXHJcbiAgICAvLyBVcGRhdGUgc3ByaXRlXHJcbiAgICBpZiAodGhpcy5wbGF5ZXJTcHJpdGUpIHtcclxuICAgICAgdGhpcy5wbGF5ZXJTcHJpdGUuc2V0VGV4dHVyZShgcGxheWVyLSR7bmV3UG9rZW1vbi5pZH1gKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhpcy51cGRhdGVCYXR0bGVUZXh0KGBHbywgJHt0aGlzLmNhcGl0YWxpemUobmV3UG9rZW1vbi5uYW1lKX0hYCk7XHJcbiAgICB0aGlzLnVwZGF0ZUhwQmFycygpO1xyXG4gICAgXHJcbiAgICAvLyBXaWxkIFBva2Vtb24gYXR0YWNrcyBhZnRlciBzd2l0Y2hcclxuICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuYmF0dGxlSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLndpbGRBdHRhY2soKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwbGF5ZXJBdHRhY2soKSB7XHJcbmNvbnN0IHBsYXllckF0dGFjayA9IHRoaXMuZ2V0U3RhdFZhbHVlKHRoaXMucGxheWVyUG9rZW1vbi5kYXRhLCAnYXR0YWNrJywgdGhpcy5wbGF5ZXJQb2tlbW9uLmxldmVsKTtcclxuICAgIGNvbnN0IHdpbGREZWZlbnNlID0gdGhpcy5nZXRTdGF0VmFsdWUodGhpcy53aWxkUG9rZW1vbi5kYXRhLCAnZGVmZW5zZScsIHRoaXMud2lsZExldmVsKTtcclxuICAgIFxyXG4gICAgY29uc3QgYmFzZURhbWFnZSA9IE1hdGgubWF4KDEsIHBsYXllckF0dGFjayAtIHdpbGREZWZlbnNlKTtcclxuICAgIGNvbnN0IGRhbWFnZSA9IE1hdGguZmxvb3IoYmFzZURhbWFnZSAqICgwLjggKyBNYXRoLnJhbmRvbSgpICogMC40KSk7IC8vIDAuOC0xLjIgbXVsdGlwbGllclxyXG4gICAgXHJcbiAgICB0aGlzLndpbGRIcCA9IE1hdGgubWF4KDAsIHRoaXMud2lsZEhwIC0gZGFtYWdlKTtcclxuICAgIHRoaXMudXBkYXRlQmF0dGxlVGV4dChgJHt0aGlzLmNhcGl0YWxpemUodGhpcy5wbGF5ZXJQb2tlbW9uLm5hbWUpfSBhdHRhY2tzISBEZWFsdCAke2RhbWFnZX0gZGFtYWdlIWApO1xyXG4gICAgXHJcbiAgICB0aGlzLnVwZGF0ZUhwQmFycygpO1xyXG4gICAgXHJcbiAgICBpZiAodGhpcy53aWxkSHAgPD0gMCkge1xyXG4gICAgICB0aGlzLndpbGREZWZlYXRlZCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDE1MDAsICgpID0+IHRoaXMud2lsZEF0dGFjaygpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgd2lsZEF0dGFjaygpIHtcclxuICAgIGlmICh0aGlzLmJhdHRsZUluUHJvZ3Jlc3MpIHJldHVybjtcclxuICAgIHRoaXMuYmF0dGxlSW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICBcclxuICAgIC8vIFBpY2sgYSByYW5kb20gbW92ZSB0eXBlIGJhc2VkIG9uIHdpbGQgUG9rZW1vbidzIHR5cGVzXHJcbiAgICBjb25zdCB3aWxkVHlwZXMgPSAodGhpcy53aWxkUG9rZW1vbi5kYXRhPy50eXBlcyB8fCBbXSkubWFwKCh0OiBhbnkpID0+IHQudHlwZS5uYW1lKTtcclxuICAgIGNvbnN0IGF0dGFja1R5cGUgPSAod2lsZFR5cGVzWzBdIHx8ICdub3JtYWwnKSBhcyBQb2tlbW9uVHlwZTtcclxuY29uc3QgbW92ZVBvd2VyID0gMzU7IC8vIEJhc2UgbW92ZSBwb3dlciBmb3Igd2lsZCBQb2tlbW9uICh0b25lZCBkb3duKVxyXG4gICAgXHJcbmNvbnN0IHdpbGRBdHRhY2sgPSB0aGlzLmdldFN0YXRWYWx1ZSh0aGlzLndpbGRQb2tlbW9uLmRhdGEsICdhdHRhY2snLCB0aGlzLndpbGRMZXZlbCk7XHJcbiAgICBjb25zdCBwbGF5ZXJEZWZlbnNlID0gdGhpcy5nZXRTdGF0VmFsdWUodGhpcy5wbGF5ZXJQb2tlbW9uLmRhdGEsICdkZWZlbnNlJywgdGhpcy5wbGF5ZXJQb2tlbW9uLmxldmVsKTtcclxuICAgIFxyXG4gICAgLy8gR2V0IHBsYXllciBQb2tlbW9uIHR5cGVzXHJcbiAgICBjb25zdCBwbGF5ZXJUeXBlcyA9ICh0aGlzLnBsYXllclBva2Vtb24uZGF0YT8udHlwZXMgfHwgW10pLm1hcCgodDogYW55KSA9PiB0LnR5cGUubmFtZSkgYXMgUG9rZW1vblR5cGVbXTtcclxuICAgIFxyXG4vLyBTcXVpcnRsZSBkZWZlbnNpdmUgYnVmZlxyXG4gICAgY29uc3QgZWZmZWN0aXZlUGxheWVyRGVmZW5zZSA9ICh0aGlzLnBsYXllclBva2Vtb24ucG9rZUlkID09PSA3KVxyXG4gICAgICA/IE1hdGguZmxvb3IocGxheWVyRGVmZW5zZSAqIDEuMjUpXHJcbiAgICAgIDogcGxheWVyRGVmZW5zZTtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgZGFtYWdlIHdpdGggdHlwZSBlZmZlY3RpdmVuZXNzICsgU1RBQlxyXG4gICAgY29uc3Qgd2lsZFR5cGVzRm9yU3RhYiA9ICh0aGlzLndpbGRQb2tlbW9uLmRhdGE/LnR5cGVzIHx8IFtdKS5tYXAoKHQ6IGFueSkgPT4gdC50eXBlLm5hbWUpIGFzIFBva2Vtb25UeXBlW107XHJcbiAgICBjb25zdCBkYW1hZ2VSZXN1bHQgPSBjYWxjdWxhdGVEYW1hZ2UoXHJcbiAgICAgIHRoaXMud2lsZExldmVsLFxyXG4gICAgICBtb3ZlUG93ZXIsXHJcbiAgICAgIHdpbGRBdHRhY2ssXHJcbiAgICAgIGVmZmVjdGl2ZVBsYXllckRlZmVuc2UsXHJcbiAgICAgIGF0dGFja1R5cGUsXHJcbiAgICAgIHBsYXllclR5cGVzLFxyXG4gICAgICB3aWxkVHlwZXNGb3JTdGFiXHJcbiAgICApO1xyXG4gICAgXHJcbiAgICBjb25zdCBkYW1hZ2UgPSBkYW1hZ2VSZXN1bHQuZGFtYWdlO1xyXG4gICAgdGhpcy5wbGF5ZXJIcCA9IE1hdGgubWF4KDAsIHRoaXMucGxheWVySHAgLSBkYW1hZ2UpO1xyXG4gICAgXHJcbiAgICB0aGlzLnVwZGF0ZUJhdHRsZVRleHQoYFdpbGQgJHt0aGlzLmNhcGl0YWxpemUodGhpcy53aWxkUG9rZW1vbi5uYW1lKX0gYXR0YWNrcyFgKTtcclxuICAgIFxyXG4gICAgLy8gU2hvdyBmbG9hdGluZyBkYW1hZ2UgdGV4dCBvbiBwbGF5ZXIgUG9rZW1vblxyXG4gICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDUwMCwgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNob3dGbG9hdGluZ1RleHQoYC0ke2RhbWFnZX0gSFBgLCB0aGlzLnBsYXllclNwcml0ZSEueCwgdGhpcy5wbGF5ZXJTcHJpdGUhLnkgLSAzMCwgJyNmZjQ0NDQnKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChkYW1hZ2VSZXN1bHQuZWZmZWN0aXZlbmVzc1RleHQpIHtcclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMzAwLCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnNob3dGbG9hdGluZ1RleHQoZGFtYWdlUmVzdWx0LmVmZmVjdGl2ZW5lc3NUZXh0ISwgdGhpcy5wbGF5ZXJTcHJpdGUhLngsIHRoaXMucGxheWVyU3ByaXRlIS55IC0gNTAsICcjZmZmZjAwJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICB0aGlzLnVwZGF0ZUhwQmFycygpO1xyXG4gICAgXHJcbiAgICBpZiAodGhpcy5wbGF5ZXJIcCA8PSAwKSB7XHJcbiAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5iYXR0bGVJblByb2dyZXNzID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJEZWZlYXRlZCgpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgxNTAwLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5iYXR0bGVJblByb2dyZXNzID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc1BsYXllclR1cm4gPSB0cnVlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgcHJpdmF0ZSBzaG93RmxvYXRpbmdUZXh0KHRleHQ6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIsIGNvbG9yOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGZsb2F0aW5nVGV4dCA9IHRoaXMuYWRkLnRleHQoeCwgeSwgdGV4dCwge1xyXG4gICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICBjb2xvcjogY29sb3IsXHJcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICBzdHJva2U6ICcjMDAwJyxcclxuICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA0XHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgyMDAwKTtcclxuICAgIFxyXG4gICAgdGhpcy5mbG9hdGluZ1RleHRzLnB1c2goZmxvYXRpbmdUZXh0KTtcclxuICAgIFxyXG4gICAgLy8gQW5pbWF0ZSBmbG9hdGluZyB0ZXh0XHJcbiAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICB0YXJnZXRzOiBmbG9hdGluZ1RleHQsXHJcbiAgICAgIHk6IHkgLSA1MCxcclxuICAgICAgYWxwaGE6IDAsXHJcbiAgICAgIGR1cmF0aW9uOiAxNTAwLFxyXG4gICAgICBlYXNlOiAnUG93ZXIyJyxcclxuICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgIGZsb2F0aW5nVGV4dC5kZXN0cm95KCk7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmZsb2F0aW5nVGV4dHMuaW5kZXhPZihmbG9hdGluZ1RleHQpO1xyXG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB0aGlzLmZsb2F0aW5nVGV4dHMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGF0dGVtcHRDYXRjaCgpIHtcclxuICAgIC8vIE9ubHkgYWxsb3cgY2F0Y2hpbmcgaWYgd2lsZCBQb2tlbW9uIEhQIDwgMTAlXHJcbiAgICBjb25zdCBocFBlcmNlbnQgPSB0aGlzLndpbGRIcCAvIHRoaXMud2lsZE1heEhwO1xyXG4gICAgaWYgKGhwUGVyY2VudCA+PSAwLjEwKSB7XHJcbiAgICAgIHRoaXMuc2hvd1RvYXN0KGBUaGUgd2lsZCAke3RoaXMuY2FwaXRhbGl6ZSh0aGlzLndpbGRQb2tlbW9uLm5hbWUpfSBpcyB0b28gc3Ryb25nIHRvIGNhdGNoISBXZWFrZW4gaXQgZmlyc3QgKEhQIDwgMTAlKWAsIDMwMDApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNob3cgUG9rZWJhbGwgc2VsZWN0aW9uIFVJXHJcbiAgICB0aGlzLnNob3dQb2tlYmFsbFNlbGVjdGlvbigpO1xyXG4gIH1cclxuICBcclxuICBwcml2YXRlIHNob3dQb2tlYmFsbFNlbGVjdGlvbigpIHtcclxuICAgIGlmICghdGhpcy5pc1BsYXllclR1cm4gfHwgdGhpcy5iYXR0bGVJblByb2dyZXNzKSByZXR1cm47XHJcbiAgICBcclxuICAgIC8vIEhpZGUgbWFpbiBhY3Rpb24gYnV0dG9uc1xyXG4gICAgaWYgKHRoaXMuYWN0aW9uQnV0dG9ucykgdGhpcy5hY3Rpb25CdXR0b25zLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgXHJcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICBcclxuICAgIC8vIENyZWF0ZSBQb2tlYmFsbCBzZWxlY3Rpb24gY29udGFpbmVyXHJcbiAgICBjb25zdCBwb2tlYmFsbENvbnRhaW5lciA9IHRoaXMuYWRkLmNvbnRhaW5lcigwLCAwKTtcclxuICAgIFxyXG4gICAgLy8gQmFja2dyb3VuZFxyXG4gICAgY29uc3QgcGFuZWxXID0gMzAwOyBjb25zdCBwYW5lbEggPSAyMDA7XHJcbiAgICBjb25zdCBiYWxsQmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUod2lkdGggLyAyIC0gcGFuZWxXIC8gMiwgaGVpZ2h0IC8gMiAtIHBhbmVsSCAvIDIsIHBhbmVsVywgcGFuZWxILCAweDIyMjIyMiwgMC45NSkuc2V0T3JpZ2luKDApO1xyXG4gICAgcG9rZWJhbGxDb250YWluZXIuYWRkKGJhbGxCZyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHRpdGxlID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgLSBwYW5lbEggLyAyICsgMjAsICdDaG9vc2UgUG9rZWJhbGwnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZicsXHJcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgIHBva2ViYWxsQ29udGFpbmVyLmFkZCh0aXRsZSk7XHJcbiAgICBcclxuICAgIC8vIFBva2ViYWxsIHR5cGVzIHdpdGggZGlmZmVyZW50IGNhdGNoIHJhdGVzXHJcbiAgICBjb25zdCBwb2tlYmFsbHMgPSBbXHJcbiAgICAgIHsgbmFtZTogJ1Bva2UgQmFsbCcsIGNhdGNoQm9udXM6IDEuMCwgY29sb3I6ICcjZmY0NDQ0JyB9LFxyXG4gICAgICB7IG5hbWU6ICdHcmVhdCBCYWxsJywgY2F0Y2hCb251czogMS41LCBjb2xvcjogJyM0NDQ0ZmYnIH0sXHJcbiAgICAgIHsgbmFtZTogJ1VsdHJhIEJhbGwnLCBjYXRjaEJvbnVzOiAyLjAsIGNvbG9yOiAnI2ZmZmYwMCcgfSxcclxuICAgIF07XHJcbiAgICBcclxuICAgIHBva2ViYWxscy5mb3JFYWNoKChiYWxsLCBpbmRleCkgPT4ge1xyXG4gICAgICBjb25zdCB5ID0gaGVpZ2h0IC8gMiAtIHBhbmVsSCAvIDIgKyA2MCArIGluZGV4ICogNDA7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBiYWxsQnV0dG9uID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIgLSAxMDAsIHksIGJhbGwubmFtZSwge1xyXG4gICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgY29sb3I6ICcjZmZmJyxcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJhbGwuY29sb3IsXHJcbiAgICAgICAgcGFkZGluZzogeyB4OiAxNSwgeTogOCB9XHJcbiAgICAgIH0pLnNldE9yaWdpbigwKS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgcG9rZWJhbGxDb250YWluZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgaWYgKHRoaXMuYWN0aW9uQnV0dG9ucykgdGhpcy5hY3Rpb25CdXR0b25zLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICB0aGlzLnBlcmZvcm1DYXRjaChiYWxsLmNhdGNoQm9udXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgcG9rZWJhbGxDb250YWluZXIuYWRkKGJhbGxCdXR0b24pO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIEJhY2sgYnV0dG9uXHJcbiAgICBjb25zdCBiYWNrQnV0dG9uID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgKyBwYW5lbEggLyAyIC0gMjAsICdCQUNLJywge1xyXG4gICAgICBmb250U2l6ZTogJzE0cHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmYnLFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNjY2JyxcclxuICAgICAgcGFkZGluZzogeyB4OiAxNSwgeTogOCB9XHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICBwb2tlYmFsbENvbnRhaW5lci5kZXN0cm95KCk7XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aW9uQnV0dG9ucykgdGhpcy5hY3Rpb25CdXR0b25zLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgXHJcbiAgICBwb2tlYmFsbENvbnRhaW5lci5hZGQoYmFja0J1dHRvbik7XHJcbiAgICBwb2tlYmFsbENvbnRhaW5lci5zZXREZXB0aCgxMDAxKTtcclxuICAgIHRoaXMuYmF0dGxlVUk/LmFkZChwb2tlYmFsbENvbnRhaW5lcik7XHJcbiAgfVxyXG4gIFxyXG4gIHByaXZhdGUgYXN5bmMgcGVyZm9ybUNhdGNoKGNhdGNoQm9udXM6IG51bWJlciA9IDEuMCkge1xyXG4gICAgY29uc3QgYmFzZUNhdGNoUmF0ZSA9IHRoaXMud2lsZEhwIDwgKHRoaXMud2lsZE1heEhwICogMC4yKSA/IDAuOCA6IDAuMzsgLy8gSGlnaGVyIHJhdGUgaWYgSFAgPCAyMCVcclxuICAgIGNvbnN0IGNhdGNoUmF0ZSA9IE1hdGgubWluKDAuOTUsIGJhc2VDYXRjaFJhdGUgKiBjYXRjaEJvbnVzKTsgLy8gQ2FwIGF0IDk1JVxyXG4gICAgXHJcbiAgICBpZiAoTWF0aC5yYW5kb20oKSA8IGNhdGNoUmF0ZSkge1xyXG4gICAgICB0aGlzLnVwZGF0ZUJhdHRsZVRleHQoYEdvdGNoYSEgJHt0aGlzLmNhcGl0YWxpemUodGhpcy53aWxkUG9rZW1vbi5uYW1lKX0gd2FzIGNhdWdodCFgKTtcclxuICAgICAgXHJcbiAgICAgIC8vIE1pbnQgTkZUIG9uIGJsb2NrY2hhaW5cclxuICAgICAgYXdhaXQgdGhpcy5taW50Q2F1Z2h0UG9rZW1vbk5GVCgpO1xyXG5cclxuICAgICAgLy8gU2F2ZSBjYXVnaHQgcG9rZW1vbiB2aWEgYmF0dGxlUmVzdWx0IGVuZHBvaW50XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3Qgd2FsbGV0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWxnb3JhbmRfd2FsbGV0X2FkZHJlc3MnKSA6IG51bGw7XHJcbiAgICAgICAgaWYgKHdhbGxldCkge1xyXG4gICAgICAgICAgY29uc3QgY2F1Z2h0ID0ge1xyXG4gICAgICAgICAgICBwb2tlSWQ6IHRoaXMud2lsZFBva2Vtb24ucG9rZUlkLFxyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLndpbGRQb2tlbW9uLm5hbWUsXHJcbiAgICAgICAgICAgIGxldmVsOiB0aGlzLndpbGRMZXZlbCxcclxuICAgICAgICAgICAgaHA6IHRoaXMud2lsZE1heEhwLFxyXG5hdHRhY2s6IHRoaXMuZ2V0U3RhdFZhbHVlKHRoaXMud2lsZFBva2Vtb24uZGF0YSwgJ2F0dGFjaycsIHRoaXMud2lsZExldmVsKSxcclxuICAgICAgICAgICAgZGVmZW5zZTogdGhpcy5nZXRTdGF0VmFsdWUodGhpcy53aWxkUG9rZW1vbi5kYXRhLCAnZGVmZW5zZScsIHRoaXMud2lsZExldmVsKSxcclxuICAgICAgICAgICAgbW92ZXM6ICh0aGlzLndpbGRQb2tlbW9uLmRhdGE/Lm1vdmVzIHx8IFtdKS5zbGljZSgwLCA0KS5tYXAoKG06IGFueSkgPT4gbS5tb3ZlPy5uYW1lPy5yZXBsYWNlKC8tL2csICcgJykpLmZpbHRlcihCb29sZWFuKSxcclxuICAgICAgICAgICAgcmFyaXR5OiB0aGlzLmRldGVybWluZVJhcml0eSh0aGlzLndpbGRQb2tlbW9uLmRhdGEpLFxyXG4gICAgICAgICAgICBpbWFnZV91cmw6IHRoaXMud2lsZFBva2Vtb24uc3ByaXRlVXJsLFxyXG4gICAgICAgICAgICBjYXVnaHRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFN5bmMgd2l0aCBiYWNrZW5kXHJcbiAgICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS90cmFpbmVyL2JhdHRsZVJlc3VsdCcsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywgJ3gtd2FsbGV0LWFkZHJlc3MnOiB3YWxsZXQgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgIHdhbGxldEFkZHJlc3M6IHdhbGxldCxcclxuICAgICAgICAgICAgICBvdXRjb21lOiAnY2F1Z2h0JyxcclxuICAgICAgICAgICAgICB4cEdhaW5lZDogdGhpcy53aWxkTGV2ZWwgKiA1LCAvLyBBbHNvIGF3YXJkIFhQIGZvciBjYXRjaGluZ1xyXG4gICAgICAgICAgICAgIGNhdWdodFBva2Vtb246IGNhdWdodCxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBEZWNyZW1lbnQgcG9rZWJhbGxcclxuICAgICAgICAgIGNvbnN0IHsgdXBkYXRlSW52ZW50b3J5IH0gPSBhd2FpdCBpbXBvcnQoJy4uLy4uL3NyYy9zZXJ2aWNlcy90cmFpbmVyJyk7XHJcbiAgICAgICAgICBhd2FpdCB1cGRhdGVJbnZlbnRvcnkoeyB3YWxsZXRBZGRyZXNzOiB3YWxsZXQsIGludmVudG9yeURlbHRhOiB7IHBva2ViYWxsczogLTEgfSB9KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQWRkIHRvIGxvY2FsIHRlYW0gY2FjaGVcclxuICAgICAgICAgIHRoaXMucGxheWVyVGVhbS5wdXNoKHtcclxuICAgICAgICAgICAgaWQ6IHRoaXMud2lsZFBva2Vtb24ucG9rZUlkLFxyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLndpbGRQb2tlbW9uLm5hbWUsXHJcbiAgICAgICAgICAgIGRhdGE6IHRoaXMud2lsZFBva2Vtb24uZGF0YSxcclxuICAgICAgICAgICAgc3ByaXRlOiB0aGlzLndpbGRQb2tlbW9uLnNwcml0ZVVybCxcclxuICAgICAgICAgICAgbGV2ZWw6IHRoaXMud2lsZExldmVsLFxyXG4gICAgICAgICAgICBtYXhIcDogdGhpcy53aWxkTWF4SHAsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgY2F1Z2h0IFBva2Vtb246JywgZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4gdGhpcy5lbmRCYXR0bGUodHJ1ZSkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy51cGRhdGVCYXR0bGVUZXh0KGAke3RoaXMuY2FwaXRhbGl6ZSh0aGlzLndpbGRQb2tlbW9uLm5hbWUpfSBicm9rZSBmcmVlIWApO1xyXG4gICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTUwMCwgKCkgPT4gdGhpcy53aWxkQXR0YWNrKCkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBtaW50Q2F1Z2h0UG9rZW1vbk5GVCgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEdldCB3YWxsZXQgYWRkcmVzcyBmcm9tIGxvY2FsU3RvcmFnZSBvciB3YWxsZXQgbWFuYWdlclxyXG4gICAgICBjb25zdCB3YWxsZXRBZGRyZXNzID0gdGhpcy5nZXRXYWxsZXRBZGRyZXNzKCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXdhbGxldEFkZHJlc3MpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ05vIHdhbGxldCBjb25uZWN0ZWQuIFBva2Vtb24gY2F1Z2h0IGJ1dCBub3QgbWludGVkIGFzIE5GVC4nKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMudXBkYXRlQmF0dGxlVGV4dCgnTWludGluZyB5b3VyIE5GVCBvbiBibG9ja2NoYWluLi4uJyk7XHJcblxyXG4gICAgICAvLyBEZXRlcm1pbmUgcmFyaXR5IGJhc2VkIG9uIHN0YXRzXHJcbiAgICAgIGNvbnN0IHJhcml0eSA9IHRoaXMuZGV0ZXJtaW5lUmFyaXR5KHRoaXMud2lsZFBva2Vtb24uZGF0YSk7XHJcbiAgICAgIGNvbnN0IGlzTGVnZW5kYXJ5ID0gdGhpcy5jaGVja0lmTGVnZW5kYXJ5KHRoaXMud2lsZFBva2Vtb24ucG9rZUlkKTtcclxuXHJcbiAgICAgIGNvbnN0IHBva2Vtb25EYXRhID0ge1xyXG4gICAgICAgIG5hbWU6IHRoaXMud2lsZFBva2Vtb24ubmFtZSxcclxuICAgICAgICBwb2tlSWQ6IHRoaXMud2lsZFBva2Vtb24ucG9rZUlkLFxyXG4gICAgICAgIHJhcml0eSxcclxuICAgICAgICBsZXZlbDogMSxcclxuICAgICAgICBpc0xlZ2VuZGFyeSxcclxuICAgICAgICBzdGF0czogdGhpcy53aWxkUG9rZW1vbi5kYXRhLnN0YXRzLFxyXG4gICAgICAgIHR5cGVzOiB0aGlzLndpbGRQb2tlbW9uLmRhdGEudHlwZXMsXHJcbiAgICAgICAgaW1hZ2VVcmw6IHRoaXMud2lsZFBva2Vtb24uc3ByaXRlVXJsLFxyXG4gICAgICAgIC4uLnRoaXMud2lsZFBva2Vtb24uZGF0YVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9taW50L3Bva2Vtb24nLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLCAneC13YWxsZXQtYWRkcmVzcyc6IHdhbGxldEFkZHJlc3MgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICB3YWxsZXRBZGRyZXNzLFxyXG4gICAgICAgICAgcG9rZW1vbjogcG9rZW1vbkRhdGFcclxuICAgICAgICB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgIHRoaXMudXBkYXRlQmF0dGxlVGV4dChcclxuICAgICAgICAgIGDinIUgJHt0aGlzLmNhcGl0YWxpemUodGhpcy53aWxkUG9rZW1vbi5uYW1lKX0gbWludGVkIGFzIE5GVCAjJHtyZXN1bHQubmZ0LmFzc2V0SWR9IVxcblR4OiAke3Jlc3VsdC5uZnQudHhJZC5zdWJzdHJpbmcoMCwgMTApfS4uLmBcclxuICAgICAgICApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNob3cgcG9wdXAgd2l0aCB0cmFuc2FjdGlvbiBkZXRhaWxzXHJcbiAgICAgICAgdGhpcy5zaG93TkZUTWludGVkUG9wdXAocmVzdWx0Lm5mdCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIG1pbnQgTkZUOicsIHJlc3VsdC5lcnJvcik7XHJcbiAgICAgICAgdGhpcy51cGRhdGVCYXR0bGVUZXh0KGBDYXVnaHQgJHt0aGlzLmNhcGl0YWxpemUodGhpcy53aWxkUG9rZW1vbi5uYW1lKX0hIChORlQgbWludGluZyBmYWlsZWQpYCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBtaW50aW5nIE5GVDonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMudXBkYXRlQmF0dGxlVGV4dChgQ2F1Z2h0ICR7dGhpcy5jYXBpdGFsaXplKHRoaXMud2lsZFBva2Vtb24ubmFtZSl9IWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzaG93TkZUTWludGVkUG9wdXAobmZ0OiBhbnkpIHtcclxuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgIFxyXG4gICAgLy8gQ3JlYXRlIHBvcHVwIGNvbnRhaW5lclxyXG4gICAgY29uc3QgcG9wdXAgPSB0aGlzLmFkZC5jb250YWluZXIod2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcclxuICAgIFxyXG4gICAgLy8gQmFja2dyb3VuZFxyXG4gICAgY29uc3QgYmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgNDAwLCAyNTAsIDB4MDAwMDAwLCAwLjkpO1xyXG4gICAgY29uc3QgYm9yZGVyID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIDQwMCwgMjUwLCAweGZmZDcwMCkuc2V0U3Ryb2tlU3R5bGUoNCwgMHhmZmQ3MDApO1xyXG4gICAgXHJcbiAgICAvLyBUaXRsZVxyXG4gICAgY29uc3QgdGl0bGUgPSB0aGlzLmFkZC50ZXh0KDAsIC05MCwgJ/CfjokgTkZUIE1pbnRlZCEnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZDcwMCcsXHJcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgIFxyXG4gICAgLy8gUG9rZW1vbiBuYW1lXHJcbiAgICBjb25zdCBwb2tlbW9uTmFtZSA9IHRoaXMuYWRkLnRleHQoMCwgLTUwLCBgJHt0aGlzLmNhcGl0YWxpemUobmZ0Lm5hbWUpfWAsIHtcclxuICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgY29sb3I6ICcjZmZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICBcclxuICAgIC8vIEFzc2V0IElEXHJcbiAgICBjb25zdCBhc3NldElkVGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgLTIwLCBgQXNzZXQgSUQ6ICR7bmZ0LmFzc2V0SWR9YCwge1xyXG4gICAgICBmb250U2l6ZTogJzE0cHgnLFxyXG4gICAgICBjb2xvcjogJyNhYWEnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgIFxyXG4gICAgLy8gVHggaGFzaCAoc2hvcnRlbmVkKVxyXG4gICAgY29uc3QgdHhIYXNoVGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgNSwgYFR4OiAke25mdC50eElkLnN1YnN0cmluZygwLCAyMCl9Li4uYCwge1xyXG4gICAgICBmb250U2l6ZTogJzEycHgnLFxyXG4gICAgICBjb2xvcjogJyM4ODgnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgIFxyXG4gICAgLy8gRXhwbG9yZXIgbGluayBoaW50XHJcbiAgICBjb25zdCBleHBsb3JlclRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDMwLCAnVmlldyBvbiBBbGdvRXhwbG9yZXIgKFRlc3ROZXQpJywge1xyXG4gICAgICBmb250U2l6ZTogJzEycHgnLFxyXG4gICAgICBjb2xvcjogJyM0ZGE2ZmYnLFxyXG4gICAgICBmb250U3R5bGU6ICdpdGFsaWMnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgIFxyXG4gICAgLy8gUmFyaXR5IGJhZGdlXHJcbiAgICBjb25zdCByYXJpdHlCYWRnZSA9IHRoaXMuYWRkLnRleHQoMCwgNjAsIGDirZAgJHtuZnQucmFyaXR5IHx8ICdDb21tb24nfWAsIHtcclxuICAgICAgZm9udFNpemU6ICcxNHB4JyxcclxuICAgICAgY29sb3I6ICcjZmZkNzAwJyxcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzMzMycsXHJcbiAgICAgIHBhZGRpbmc6IHsgeDogMTAsIHk6IDUgfVxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICBcclxuICAgIC8vIE9LIGJ1dHRvblxyXG4gICAgY29uc3Qgb2tCdXR0b24gPSB0aGlzLmFkZC50ZXh0KDAsIDEwMCwgJ09LJywge1xyXG4gICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmYnLFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNENBRjUwJyxcclxuICAgICAgcGFkZGluZzogeyB4OiAzMCwgeTogMTAgfVxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgcG9wdXAuZGVzdHJveSgpO1xyXG4gICAgICB9KTtcclxuICAgIFxyXG4gICAgcG9wdXAuYWRkKFtiZywgYm9yZGVyLCB0aXRsZSwgcG9rZW1vbk5hbWUsIGFzc2V0SWRUZXh0LCB0eEhhc2hUZXh0LCBleHBsb3JlclRleHQsIHJhcml0eUJhZGdlLCBva0J1dHRvbl0pO1xyXG4gICAgcG9wdXAuc2V0RGVwdGgoMTAwMCk7XHJcbiAgICBcclxuICAgIC8vIEF1dG8tZGlzbWlzcyBhZnRlciAxMCBzZWNvbmRzXHJcbiAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMDAsICgpID0+IHtcclxuICAgICAgaWYgKHBvcHVwLnNjZW5lKSBwb3B1cC5kZXN0cm95KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZGV0ZXJtaW5lUmFyaXR5KHBva2Vtb25EYXRhOiBhbnkpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgdG90YWxTdGF0cyA9IHBva2Vtb25EYXRhLnN0YXRzPy5yZWR1Y2UoKHN1bTogbnVtYmVyLCBzdGF0OiBhbnkpID0+IHN1bSArIHN0YXQuYmFzZV9zdGF0LCAwKSB8fCAwO1xyXG4gICAgXHJcbiAgICBpZiAodG90YWxTdGF0cyA+IDYwMCkgcmV0dXJuICdMZWdlbmRhcnknO1xyXG4gICAgaWYgKHRvdGFsU3RhdHMgPiA1MDApIHJldHVybiAnUmFyZSc7XHJcbiAgICBpZiAodG90YWxTdGF0cyA+IDQwMCkgcmV0dXJuICdVbmNvbW1vbic7XHJcbiAgICByZXR1cm4gJ0NvbW1vbic7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrSWZMZWdlbmRhcnkocG9rZUlkOiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIGNvbnN0IGxlZ2VuZGFyeUlkcyA9IFtcclxuICAgICAgMTUwLCAvLyBNZXd0d29cclxuICAgICAgMTQ0LCAxNDUsIDE0NiwgLy8gTGVnZW5kYXJ5IEJpcmRzXHJcbiAgICAgIDI0MywgMjQ0LCAyNDUsIC8vIExlZ2VuZGFyeSBCZWFzdHNcclxuICAgICAgMjQ5LCAyNTAsIC8vIEhvLU9oLCBMdWdpYVxyXG4gICAgICAzODIsIDM4MywgMzg0LCAvLyBIb2VubiBsZWdlbmRzXHJcbiAgICAgIDQ4MCwgNDgxLCA0ODIsIC8vIExha2UgVHJpb1xyXG4gICAgICA0ODMsIDQ4NCwgNDg3LCAvLyBEaWFsZ2EsIFBhbGtpYSwgR2lyYXRpbmFcclxuICAgIF07XHJcbiAgICByZXR1cm4gbGVnZW5kYXJ5SWRzLmluY2x1ZGVzKHBva2VJZCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFdhbGxldEFkZHJlc3MoKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgICAvLyBUcnkgdG8gZ2V0IGZyb20gd2FsbGV0IG1hbmFnZXJcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBjb25zdCBzdG9yZWRBZGRyZXNzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FsZ29yYW5kX3dhbGxldF9hZGRyZXNzJyk7XHJcbiAgICAgIHJldHVybiBzdG9yZWRBZGRyZXNzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFVzZXJJZCgpOiBzdHJpbmcgfCBudWxsIHtcclxuICAgIC8vIEdldCB1c2VyIElEIGZyb20gc2Vzc2lvbi9hdXRoXHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyX2lkJykgfHwgJ2RlbW9fdXNlcic7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb3BlbkJhZygpIHtcclxuICAgIHRoaXMudXBkYXRlQmF0dGxlVGV4dChcIllvdSBydW1tYWdlIHRocm91Z2ggeW91ciBiYWcuLi5cIik7XHJcbiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgYmFnL2l0ZW0gdXNhZ2VcclxuICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgxMDAwLCAoKSA9PiB0aGlzLndpbGRBdHRhY2soKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIHJ1bkF3YXkoKSB7XHJcbiAgICB0aGlzLnVwZGF0ZUJhdHRsZVRleHQoXCJZb3UgcmFuIGF3YXkhICg1JSBYUCBwZW5hbHR5KVwiKTtcclxuICAgIFxyXG4gICAgLy8gQXBwbHkgNSUgWFAgcGVuYWx0eVxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgd2FsbGV0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWxnb3JhbmRfd2FsbGV0X2FkZHJlc3MnKSA6IG51bGw7XHJcbiAgICAgIGlmICh3YWxsZXQpIHtcclxuICAgICAgICBjb25zdCBjdXJyZW50WFAgPSBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHJhaW5lcl9leHAnKSB8fCAnMCcpO1xyXG4gICAgICAgIGNvbnN0IHBlbmFsdHkgPSBNYXRoLmZsb29yKGN1cnJlbnRYUCAqIDAuMDUpO1xyXG4gICAgICAgIGNvbnN0IG5ld1hQID0gTWF0aC5tYXgoMCwgY3VycmVudFhQIC0gcGVuYWx0eSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RyYWluZXJfZXhwJywgU3RyaW5nKG5ld1hQKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU3luYyB3aXRoIGJhY2tlbmRcclxuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS90cmFpbmVyL2JhdHRsZVJlc3VsdCcsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLCAneC13YWxsZXQtYWRkcmVzcyc6IHdhbGxldCB9LFxyXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICB3YWxsZXRBZGRyZXNzOiB3YWxsZXQsXHJcbiAgICAgICAgICAgIG91dGNvbWU6ICdydW4nLFxyXG4gICAgICAgICAgICB4cEdhaW5lZDogLXBlbmFsdHksXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgndHJhaW5lci14cC11cGRhdGUnLCB7IGRldGFpbDogeyBuZXdYUCB9IH0pKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCB7fVxyXG4gICAgXHJcbiAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTUwMCwgKCkgPT4gdGhpcy5lbmRCYXR0bGUoZmFsc2UpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgd2lsZERlZmVhdGVkKCkge1xyXG4gICAgLy8gQ2FsY3VsYXRlIEVYUDogZW5lbXlMZXZlbCAqIDUgKGFzIHBlciBzcGVjKVxyXG4gICAgY29uc3QgZXhwR2FpbmVkID0gdGhpcy53aWxkTGV2ZWwgKiA1O1xyXG4gICAgdGhpcy51cGRhdGVCYXR0bGVUZXh0KGBXaWxkICR7dGhpcy5jYXBpdGFsaXplKHRoaXMud2lsZFBva2Vtb24ubmFtZSl9IGZhaW50ZWQhIEdhaW5lZCAke2V4cEdhaW5lZH0gRVhQIWApO1xyXG5cclxuICAgIC8vIFVwZGF0ZSB0cmFpbmVyIFhQIGFuZCBjaGVjayBmb3IgbGV2ZWwgdXBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHdhbGxldCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FsZ29yYW5kX3dhbGxldF9hZGRyZXNzJykgOiBudWxsO1xyXG4gICAgICBpZiAod2FsbGV0KSB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudExldmVsID0gcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RyYWluZXJfbGV2ZWwnKSB8fCAnMScpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFN5bmMgd2l0aCBiYWNrZW5kIHVzaW5nIGJhdHRsZVJlc3VsdCBlbmRwb2ludFxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvdHJhaW5lci9iYXR0bGVSZXN1bHQnLCB7XHJcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywgJ3gtd2FsbGV0LWFkZHJlc3MnOiB3YWxsZXQgfSxcclxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgd2FsbGV0QWRkcmVzczogd2FsbGV0LFxyXG4gICAgICAgICAgICBvdXRjb21lOiAnd2luJyxcclxuICAgICAgICAgICAgeHBHYWluZWQ6IGV4cEdhaW5lZCxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgY29uc3QgbmV3TGV2ZWwgPSBkYXRhLnRyYWluZXI/LmxldmVsIHx8IGN1cnJlbnRMZXZlbDtcclxuICAgICAgICAgIGNvbnN0IG5ld1hQID0gZGF0YS50cmFpbmVyPy54cCB8fCAwO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndHJhaW5lcl9leHAnLCBTdHJpbmcobmV3WFApKTtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0cmFpbmVyX2xldmVsJywgU3RyaW5nKG5ld0xldmVsKSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFNob3cgbGV2ZWwgdXAgYW5pbWF0aW9uIGlmIGxldmVsZWQgdXBcclxuICAgICAgICAgIGlmIChkYXRhLmxldmVsZWRVcCkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTUwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMuc2hvd0xldmVsVXBBbmltYXRpb24obmV3TGV2ZWwpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCd0cmFpbmVyLXhwLXVwZGF0ZScsIHsgZGV0YWlsOiB7IG5ld1hQLCBuZXdMZXZlbCB9IH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzeW5jIFhQOicsIGVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMzAwMCwgKCkgPT4gdGhpcy5lbmRCYXR0bGUodHJ1ZSkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwbGF5ZXJEZWZlYXRlZCgpIHtcclxuICAgIHRoaXMudXBkYXRlQmF0dGxlVGV4dChgJHt0aGlzLmNhcGl0YWxpemUodGhpcy5wbGF5ZXJQb2tlbW9uLm5hbWUpfSBmYWludGVkISBZb3UgbG9zdCB0aGUgYmF0dGxlIWApO1xyXG4gICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDMwMDAsICgpID0+IHRoaXMuZW5kQmF0dGxlKGZhbHNlKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGVuZEJhdHRsZSh2aWN0b3J5OiBib29sZWFuKSB7XHJcbiAgICAvLyBTdG9wIEJhdHRsZVNjZW5lIGFuZCByZXN1bWUgR2FtZVNjZW5lXHJcbiAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgIHRoaXMuc2NlbmUucmVzdW1lKFwiR2FtZVNjZW5lXCIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVIcEJhcnMoKSB7XHJcbiAgICBpZiAodGhpcy53aWxkSHBCYXIgJiYgdGhpcy53aWxkSHBUZXh0KSB7XHJcbiAgICAgIGNvbnN0IHdpbGRIcFBlcmNlbnQgPSB0aGlzLndpbGRIcCAvIHRoaXMud2lsZE1heEhwO1xyXG4gICAgICB0aGlzLndpbGRIcEJhci53aWR0aCA9IDE5NiAqIHdpbGRIcFBlcmNlbnQ7XHJcbiAgICAgIHRoaXMud2lsZEhwQmFyLmZpbGxDb2xvciA9IHdpbGRIcFBlcmNlbnQgPiAwLjUgPyAweDAwZmYwMCA6IHdpbGRIcFBlcmNlbnQgPiAwLjIgPyAweGZmZmYwMCA6IDB4ZmYwMDAwO1xyXG4gICAgICB0aGlzLndpbGRIcFRleHQuc2V0VGV4dChgJHt0aGlzLmNhcGl0YWxpemUodGhpcy53aWxkUG9rZW1vbi5uYW1lKX0gSFA6ICR7dGhpcy53aWxkSHB9LyR7dGhpcy53aWxkTWF4SHB9YCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh0aGlzLnBsYXllckhwQmFyICYmIHRoaXMucGxheWVySHBUZXh0KSB7XHJcbiAgICAgIGNvbnN0IHBsYXllckhwUGVyY2VudCA9IHRoaXMucGxheWVySHAgLyB0aGlzLnBsYXllck1heEhwO1xyXG4gICAgICB0aGlzLnBsYXllckhwQmFyLndpZHRoID0gMTk2ICogcGxheWVySHBQZXJjZW50O1xyXG4gICAgICB0aGlzLnBsYXllckhwQmFyLmZpbGxDb2xvciA9IHBsYXllckhwUGVyY2VudCA+IDAuNSA/IDB4MDBmZjAwIDogcGxheWVySHBQZXJjZW50ID4gMC4yID8gMHhmZmZmMDAgOiAweGZmMDAwMDtcclxuICAgICAgdGhpcy5wbGF5ZXJIcFRleHQuc2V0VGV4dChgJHt0aGlzLmNhcGl0YWxpemUodGhpcy5wbGF5ZXJQb2tlbW9uLm5hbWUpfSBMdi4ke3RoaXMucGxheWVyUG9rZW1vbi5sZXZlbH0gSFA6ICR7dGhpcy5wbGF5ZXJIcH0vJHt0aGlzLnBsYXllck1heEhwfWApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVCYXR0bGVUZXh0KHRleHQ6IHN0cmluZykge1xyXG4gICAgaWYgKCF0aGlzLmJhdHRsZVRleHQpIHJldHVybjtcclxuICAgIHRoaXMuYmF0dGxlVGV4dC5zZXRUZXh0KHRleHQpO1xyXG4gICAgdGhpcy5iYXR0bGVUZXh0LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMzAwMCwgKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5iYXR0bGVUZXh0KSB0aGlzLmJhdHRsZVRleHQuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2hvd1RvYXN0KHRleHQ6IHN0cmluZywgZHVyYXRpb246IG51bWJlciA9IDIwMDApIHtcclxuICAgIGlmICghdGhpcy5iYXR0bGVUZXh0KSByZXR1cm47XHJcbiAgICB0aGlzLmJhdHRsZVRleHQuc2V0VGV4dCh0ZXh0KTtcclxuICAgIHRoaXMuYmF0dGxlVGV4dC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKGR1cmF0aW9uLCAoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLmJhdHRsZVRleHQpIHRoaXMuYmF0dGxlVGV4dC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBsb2FkVHJhaW5lclRlYW0oKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB3YWxsZXQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhbGdvcmFuZF93YWxsZXRfYWRkcmVzcycpIDogbnVsbDtcclxuICAgICAgaWYgKCF3YWxsZXQpIHJldHVybjtcclxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvdHJhaW5lci9sb2FkLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHdhbGxldCl9YCwgeyBoZWFkZXJzOiB7ICd4LXdhbGxldC1hZGRyZXNzJzogd2FsbGV0IH0gfSk7XHJcbiAgICAgIGlmICghcmVzLm9rKSByZXR1cm47XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgICBjb25zdCB0cmFpbmVyID0gZGF0YT8udHJhaW5lcjtcclxuICAgICAgXHJcbiAgICAgIC8vIExvYWQgUG9rZW1vbiB3aXRoIHByb3BlciBkYXRhIGZyb20gUG9rZUFQSVxyXG4gICAgICBjb25zdCBmcm9tU3RvcmFnZSA9IGF3YWl0IFByb21pc2UuYWxsKFxyXG4gICAgICAgICh0cmFpbmVyPy5zdG9yYWdlIHx8IFtdKS5zbGljZSgwLCA2KS5tYXAoYXN5bmMgKHA6IGFueSkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgcG9rZUlkID0gcC5wb2tlSWQgfHwgcC5pZDtcclxuICAgICAgICAgIGlmICghcG9rZUlkKSByZXR1cm4gbnVsbDtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gRmV0Y2ggUG9rZW1vbiBkYXRhIGZyb20gUG9rZUFQSVxyXG4gICAgICAgICAgbGV0IHBva2Vtb25EYXRhID0gbnVsbDtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBva2VSZXMgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9wb2tlYXBpLmNvL2FwaS92Mi9wb2tlbW9uLyR7cG9rZUlkfWApO1xyXG4gICAgICAgICAgICBpZiAocG9rZVJlcy5vaykgcG9rZW1vbkRhdGEgPSBhd2FpdCBwb2tlUmVzLmpzb24oKTtcclxuICAgICAgICAgIH0gY2F0Y2gge31cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaWQ6IHBva2VJZCxcclxuICAgICAgICAgICAgbmFtZTogcC5uYW1lLFxyXG4gICAgICAgICAgICBkYXRhOiBwb2tlbW9uRGF0YSwgLy8gRnVsbCBQb2tlQVBJIGRhdGEgZm9yIG1vdmVzL3R5cGVzXHJcbiAgICAgICAgICAgIHNwcml0ZTogcC5pbWFnZV91cmwgfHwgcG9rZW1vbkRhdGE/LnNwcml0ZXM/LmJhY2tfZGVmYXVsdCB8fCB0aGlzLnBsYXllclBva2Vtb24uc3ByaXRlVXJsLFxyXG4gICAgICAgICAgICBsZXZlbDogcC5sZXZlbCB8fCAxLFxyXG4gICAgICAgICAgICBtYXhIcDogcC5ocCB8fCA1MCxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHZhbGlkVGVhbSA9IGZyb21TdG9yYWdlLmZpbHRlcigocCk6IHAgaXMgTm9uTnVsbGFibGU8dHlwZW9mIHA+ID0+IHAgIT09IG51bGwpO1xyXG4gICAgICBpZiAodmFsaWRUZWFtLmxlbmd0aCkgdGhpcy5wbGF5ZXJUZWFtID0gdmFsaWRUZWFtO1xyXG4gICAgfSBjYXRjaCB7fVxyXG4gIH1cclxuXHJcbnByaXZhdGUgZ2V0U3RhdFZhbHVlKHBva2Vtb25EYXRhOiBhbnksIHN0YXROYW1lOiBzdHJpbmcsIGxldmVsOiBudW1iZXIgPSAxKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IGJhc2UgPSBwb2tlbW9uRGF0YT8uc3RhdHM/LmZpbmQoKHM6IGFueSkgPT4gcy5zdGF0Lm5hbWUgPT09IHN0YXROYW1lKT8uYmFzZV9zdGF0O1xyXG4gICAgY29uc3QgYiA9IHR5cGVvZiBiYXNlID09PSAnbnVtYmVyJyA/IGJhc2UgOiA1MDtcclxuICAgIC8vIEluY2x1ZGUgSVYgfjMxIGFuZCBzY2FsZSBieSBsZXZlbDogZmxvb3IoKCgyKmJhc2UgKyAzMSkgKiBMKSAvIDEwMCkgKyA1XHJcbiAgICByZXR1cm4gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcigoKDIgKiBiICsgMzEpICogbGV2ZWwpIC8gMTAwKSArIDUpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzaG93TGV2ZWxVcEFuaW1hdGlvbihuZXdMZXZlbDogbnVtYmVyKSB7XHJcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICBcclxuICAgIC8vIENyZWF0ZSBsZXZlbCB1cCBvdmVybGF5XHJcbiAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5hZGQuY29udGFpbmVyKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XHJcbiAgICBcclxuICAgIC8vIEJhY2tncm91bmRcclxuICAgIGNvbnN0IGJnID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIDQwMCwgMjAwLCAweDAwMDAwMCwgMC44NSk7XHJcbiAgICBjb25zdCBib3JkZXIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgNDAwLCAyMDApLnNldFN0cm9rZVN0eWxlKDQsIDB4ZmZkNzAwKTtcclxuICAgIFxyXG4gICAgLy8gXCJMZXZlbCBVcCFcIiB0ZXh0XHJcbiAgICBjb25zdCB0aXRsZVRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIC01MCwgJ/CfjokgTEVWRUwgVVAhIPCfjoknLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZDcwMCcsXHJcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgIFxyXG4gICAgLy8gTmV3IGxldmVsIHRleHRcclxuICAgIGNvbnN0IGxldmVsVGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMTAsIGBMZXZlbCAke25ld0xldmVsfWAsIHtcclxuICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgY29sb3I6ICcjZmZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICBcclxuICAgIC8vIENvbmdyYXR1bGF0aW9ucyBtZXNzYWdlXHJcbiAgICBjb25zdCBjb25ncmF0cyA9IHRoaXMuYWRkLnRleHQoMCwgNTAsICdZb3UgYXJlIGdldHRpbmcgc3Ryb25nZXIhJywge1xyXG4gICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICBjb2xvcjogJyNhYWEnLFxyXG4gICAgICBmb250U3R5bGU6ICdpdGFsaWMnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgIFxyXG4gICAgb3ZlcmxheS5hZGQoW2JnLCBib3JkZXIsIHRpdGxlVGV4dCwgbGV2ZWxUZXh0LCBjb25ncmF0c10pO1xyXG4gICAgb3ZlcmxheS5zZXREZXB0aCgyMDAwKTtcclxuICAgIG92ZXJsYXkuc2V0QWxwaGEoMCk7XHJcbiAgICBcclxuICAgIC8vIEFuaW1hdGUgaW5cclxuICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgIHRhcmdldHM6IG92ZXJsYXksXHJcbiAgICAgIGFscGhhOiAxLFxyXG4gICAgICBzY2FsZTogeyBmcm9tOiAwLjUsIHRvOiAxIH0sXHJcbiAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgIGVhc2U6ICdCYWNrLmVhc2VPdXQnXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gUHVsc2UgYW5pbWF0aW9uXHJcbiAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICB0YXJnZXRzOiB0aXRsZVRleHQsXHJcbiAgICAgIHNjYWxlOiB7IGZyb206IDEsIHRvOiAxLjIgfSxcclxuICAgICAgZHVyYXRpb246IDYwMCxcclxuICAgICAgeW95bzogdHJ1ZSxcclxuICAgICAgcmVwZWF0OiAyXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gQXV0byBkaXNtaXNzIGFmdGVyIDMgc2Vjb25kc1xyXG4gICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDMwMDAsICgpID0+IHtcclxuICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICB0YXJnZXRzOiBvdmVybGF5LFxyXG4gICAgICAgIGFscGhhOiAwLFxyXG4gICAgICAgIGR1cmF0aW9uOiAzMDAsXHJcbiAgICAgICAgb25Db21wbGV0ZTogKCkgPT4gb3ZlcmxheS5kZXN0cm95KClcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2FwaXRhbGl6ZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiUGhhc2VyIiwiY2FsY3VsYXRlRGFtYWdlIiwiZ2V0TW92ZURhdGEiLCJCYXR0bGVTY2VuZSIsIlNjZW5lIiwid2lsZEhwIiwid2lsZE1heEhwIiwid2lsZExldmVsIiwicGxheWVySHAiLCJwbGF5ZXJNYXhIcCIsInBsYXllclRlYW0iLCJ0cmFpbmVyTGV2ZWwiLCJiYXR0bGVUZWFtSHAiLCJNYXAiLCJpc1BsYXllclR1cm4iLCJiYXR0bGVJblByb2dyZXNzIiwibGFzdERhbWFnZUluZm8iLCJmbG9hdGluZ1RleHRzIiwiaW5pdCIsImRhdGEiLCJ3aWxkUG9rZW1vbiIsInBsYXllclBva2Vtb24iLCJsZXZlbCIsIndpbGRIcFN0YXQiLCJzdGF0cyIsImZpbmQiLCJzIiwic3RhdCIsIm5hbWUiLCJiYXNlX3N0YXQiLCJNYXRoIiwiZmxvb3IiLCJtYXgiLCJtYXhIcCIsIm1pbiIsImN1cnJlbnRIcCIsImNsZWFyIiwiZm9yRWFjaCIsInAiLCJzZXQiLCJpZCIsInBva2VJZCIsInByZWxvYWQiLCJ0ZXh0dXJlcyIsImV4aXN0cyIsIlByb21pc2UiLCJyZXNvbHZlIiwibG9hZCIsIm9uY2UiLCJMb2FkZXIiLCJFdmVudHMiLCJDT01QTEVURSIsImltYWdlIiwic3ByaXRlVXJsIiwic3RhcnQiLCJjcmVhdGUiLCJ3aWR0aCIsImhlaWdodCIsInNjYWxlIiwiYWRkIiwicmVjdGFuZ2xlIiwic2V0T3JpZ2luIiwic2V0RGVwdGgiLCJ3aWxkU3ByaXRlIiwic2V0U2NhbGUiLCJzZXRGbGlwWCIsInBsYXllclNwcml0ZSIsImNyZWF0ZVVJIiwic2hvd1RvYXN0IiwiY2FwaXRhbGl6ZSIsImJhdHRsZVVJIiwiY29udGFpbmVyIiwid2lsZEhwQmciLCJ3aWxkSHBCYXIiLCJ3aWxkSHBUZXh0IiwidGV4dCIsImZvbnRTaXplIiwiY29sb3IiLCJwbGF5ZXJIcEJnIiwicGxheWVySHBCYXIiLCJwbGF5ZXJIcFRleHQiLCJiYXR0bGVUZXh0IiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsIngiLCJ5Iiwid29yZFdyYXAiLCJzZXRWaXNpYmxlIiwiY3JlYXRlQWN0aW9uQnV0dG9ucyIsImFjdGlvbkJ1dHRvbnMiLCJiYXNlWCIsImJhc2VZIiwidkdhcCIsImJ1dHRvbkRhdGEiLCJhY3Rpb24iLCJzaG93TW92ZVNlbGVjdGlvbiIsInNob3dUZWFtU2VsZWN0aW9uIiwib3BlbkJhZyIsImF0dGVtcHRDYXRjaCIsInJ1bkF3YXkiLCJidG4iLCJidXR0b24iLCJzZXRJbnRlcmFjdGl2ZSIsInVzZUhhbmRDdXJzb3IiLCJvbiIsIm1vdmVzIiwiZ2V0UGxheWVyTW92ZXMiLCJtb3ZlQ29udGFpbmVyIiwicGFuZWxXIiwicGFuZWxIIiwibW92ZUJnIiwic2xpY2UiLCJtb3ZlIiwiaW5kZXgiLCJjb2wiLCJyb3ciLCJtb3ZlQnV0dG9uIiwidG9VcHBlckNhc2UiLCJnZXRNb3ZlVHlwZUNvbG9yIiwidHlwZSIsImRlc3Ryb3kiLCJ1c2VNb3ZlIiwiYmFja0J1dHRvbiIsImxlbmd0aCIsImxvYWRUcmFpbmVyVGVhbSIsInRoZW4iLCJpbnRlcm5hbFNob3dUZWFtU2VsZWN0aW9uIiwidGVhbUNvbnRhaW5lciIsInRlYW1CZyIsInRpdGxlIiwiZm9udFN0eWxlIiwicG9rZW1vbiIsImdldCIsImlzRmFpbnRlZCIsImlzQ3VycmVudCIsInBva2Vtb25CdXR0b24iLCJzd2l0Y2hQb2tlbW9uIiwicG9rZW1vbk1vdmVzIiwidHlwZXMiLCJtYXAiLCJ0IiwicHJpbWFyeVR5cGUiLCJzZWNvbmRhcnlUeXBlIiwiY2hvc2VuIiwic2VlbiIsIlNldCIsImFkZE1vdmUiLCJub3JtIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwicG93ZXIiLCJoYXMiLCJwdXNoIiwic2h1ZmZsZWQiLCJzb3J0IiwicmFuZG9tIiwibSIsIm1vdmVOYW1lIiwiaW5jbHVkZXMiLCJzb21lIiwibXYiLCJnZXRUeXBlZE1vdmUiLCJnZXRTZWNvbmRhcnlUeXBlZE1vdmUiLCJmYWxsYmFja1Bvb2wiLCJmIiwiZW5mb3JjZVN0YWIiLCJkcm9wT3JkZXIiLCJpZHgiLCJmaW5kSW5kZXgiLCJzcGxpY2UiLCJwb3AiLCJwcmltYXJ5SWR4IiwidW5zaGlmdCIsInR5cGVNb3ZlcyIsImZpcmUiLCJ3YXRlciIsImdyYXNzIiwiZWxlY3RyaWMiLCJpY2UiLCJmaWdodGluZyIsInBvaXNvbiIsImdyb3VuZCIsImZseWluZyIsInBzeWNoaWMiLCJidWciLCJyb2NrIiwiZ2hvc3QiLCJkcmFnb24iLCJkYXJrIiwic3RlZWwiLCJmYWlyeSIsIm5vcm1hbCIsInNlY29uZGFyeU1vdmVzIiwiY29sb3JzIiwibW92ZURhdGEiLCJwbGF5ZXJBdHRhY2siLCJnZXRTdGF0VmFsdWUiLCJjYXRlZ29yeSIsIndpbGREZWZlbnNlIiwid2lsZFR5cGVzIiwicGxheWVyVHlwZXMiLCJkYW1hZ2VSZXN1bHQiLCJkYW1hZ2UiLCJiYXR0bGVNc2ciLCJ1cGRhdGVCYXR0bGVUZXh0IiwidGltZSIsImRlbGF5ZWRDYWxsIiwic2hvd0Zsb2F0aW5nVGV4dCIsImVmZmVjdGl2ZW5lc3NUZXh0IiwidXBkYXRlSHBCYXJzIiwid2lsZERlZmVhdGVkIiwid2lsZEF0dGFjayIsIm5ld1Bva2Vtb24iLCJuZXdDdXJyZW50SHAiLCJzcHJpdGUiLCJzZXRUZXh0dXJlIiwiYmFzZURhbWFnZSIsImF0dGFja1R5cGUiLCJtb3ZlUG93ZXIiLCJwbGF5ZXJEZWZlbnNlIiwiZWZmZWN0aXZlUGxheWVyRGVmZW5zZSIsIndpbGRUeXBlc0ZvclN0YWIiLCJwbGF5ZXJEZWZlYXRlZCIsImZsb2F0aW5nVGV4dCIsInN0cm9rZSIsInN0cm9rZVRoaWNrbmVzcyIsInR3ZWVucyIsInRhcmdldHMiLCJhbHBoYSIsImR1cmF0aW9uIiwiZWFzZSIsIm9uQ29tcGxldGUiLCJpbmRleE9mIiwiaHBQZXJjZW50Iiwic2hvd1Bva2ViYWxsU2VsZWN0aW9uIiwicG9rZWJhbGxDb250YWluZXIiLCJiYWxsQmciLCJwb2tlYmFsbHMiLCJjYXRjaEJvbnVzIiwiYmFsbCIsImJhbGxCdXR0b24iLCJwZXJmb3JtQ2F0Y2giLCJiYXNlQ2F0Y2hSYXRlIiwiY2F0Y2hSYXRlIiwibWludENhdWdodFBva2Vtb25ORlQiLCJ3YWxsZXQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiY2F1Z2h0IiwiaHAiLCJhdHRhY2siLCJkZWZlbnNlIiwiZmlsdGVyIiwiQm9vbGVhbiIsInJhcml0eSIsImRldGVybWluZVJhcml0eSIsImltYWdlX3VybCIsImNhdWdodEF0IiwiRGF0ZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwid2FsbGV0QWRkcmVzcyIsIm91dGNvbWUiLCJ4cEdhaW5lZCIsImNhdWdodFBva2Vtb24iLCJ1cGRhdGVJbnZlbnRvcnkiLCJpbnZlbnRvcnlEZWx0YSIsImVycm9yIiwiY29uc29sZSIsImVuZEJhdHRsZSIsImdldFdhbGxldEFkZHJlc3MiLCJ3YXJuIiwiaXNMZWdlbmRhcnkiLCJjaGVja0lmTGVnZW5kYXJ5IiwicG9rZW1vbkRhdGEiLCJpbWFnZVVybCIsInJlc3BvbnNlIiwicmVzdWx0IiwianNvbiIsInN1Y2Nlc3MiLCJuZnQiLCJhc3NldElkIiwidHhJZCIsInN1YnN0cmluZyIsInNob3dORlRNaW50ZWRQb3B1cCIsInBvcHVwIiwiYmciLCJib3JkZXIiLCJzZXRTdHJva2VTdHlsZSIsInBva2Vtb25OYW1lIiwiYXNzZXRJZFRleHQiLCJ0eEhhc2hUZXh0IiwiZXhwbG9yZXJUZXh0IiwicmFyaXR5QmFkZ2UiLCJva0J1dHRvbiIsInNjZW5lIiwidG90YWxTdGF0cyIsInJlZHVjZSIsInN1bSIsImxlZ2VuZGFyeUlkcyIsInN0b3JlZEFkZHJlc3MiLCJnZXRVc2VySWQiLCJjdXJyZW50WFAiLCJwYXJzZUludCIsInBlbmFsdHkiLCJuZXdYUCIsInNldEl0ZW0iLCJTdHJpbmciLCJ3aW5kb3ciLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJleHBHYWluZWQiLCJjdXJyZW50TGV2ZWwiLCJvayIsIm5ld0xldmVsIiwidHJhaW5lciIsInhwIiwibGV2ZWxlZFVwIiwic2hvd0xldmVsVXBBbmltYXRpb24iLCJ2aWN0b3J5Iiwic3RvcCIsInJlc3VtZSIsIndpbGRIcFBlcmNlbnQiLCJmaWxsQ29sb3IiLCJzZXRUZXh0IiwicGxheWVySHBQZXJjZW50IiwicmVzIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZnJvbVN0b3JhZ2UiLCJhbGwiLCJzdG9yYWdlIiwicG9rZVJlcyIsInNwcml0ZXMiLCJiYWNrX2RlZmF1bHQiLCJ2YWxpZFRlYW0iLCJzdGF0TmFtZSIsImJhc2UiLCJiIiwib3ZlcmxheSIsInRpdGxlVGV4dCIsImxldmVsVGV4dCIsImNvbmdyYXRzIiwic2V0QWxwaGEiLCJmcm9tIiwidG8iLCJ5b3lvIiwicmVwZWF0Iiwic3RyIiwiY2hhckF0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./lib/phaser/BattleScene.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./lib/phaser/GameScene.ts":
/*!*********************************!*\
  !*** ./lib/phaser/GameScene.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameScene: () => (/* binding */ GameScene)\n/* harmony export */ });\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! socket.io-client */ \"socket.io-client\");\n/* harmony import */ var _spawnUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../spawnUtils */ \"(pages-dir-node)/./lib/spawnUtils.ts\");\n/* harmony import */ var _mapZones__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../mapZones */ \"(pages-dir-node)/./lib/mapZones.ts\");\n/* harmony import */ var _biomes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../biomes */ \"(pages-dir-node)/./lib/biomes.ts\");\n/* harmony import */ var _managers_UIManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./managers/UIManager */ \"(pages-dir-node)/./lib/phaser/managers/UIManager.ts\");\n/* harmony import */ var _managers_MultiplayerHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./managers/MultiplayerHandler */ \"(pages-dir-node)/./lib/phaser/managers/MultiplayerHandler.ts\");\n/* harmony import */ var _renderers_OtherPlayers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./renderers/OtherPlayers */ \"(pages-dir-node)/./lib/phaser/renderers/OtherPlayers.ts\");\n/* harmony import */ var _managers_TransactionManager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./managers/TransactionManager */ \"(pages-dir-node)/./lib/phaser/managers/TransactionManager.ts\");\n/* harmony import */ var _managers_XPManager__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./managers/XPManager */ \"(pages-dir-node)/./lib/phaser/managers/XPManager.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([socket_io_client__WEBPACK_IMPORTED_MODULE_1__, _managers_MultiplayerHandler__WEBPACK_IMPORTED_MODULE_6__]);\n([socket_io_client__WEBPACK_IMPORTED_MODULE_1__, _managers_MultiplayerHandler__WEBPACK_IMPORTED_MODULE_6__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\nfunction capitalize(s) {\n    return (s || \"\").charAt(0).toUpperCase() + (s || \"\").slice(1);\n}\nclass GameScene extends phaser__WEBPACK_IMPORTED_MODULE_0__.Scene {\n    constructor(){\n        super(\"GameScene\"), this.configData = {\n            tileSize: 32,\n            mapWidth: 50,\n            mapHeight: 38,\n            playerSpeed: 200\n        }, this.playerSpeed = 200, // Cached map dimensions\n        this.mapWidthTiles = 0, this.mapHeightTiles = 0, this.tileSizePx = 32, this.others = new Map(), this.otherPositions = new Map(), this.lastSent = 0, // Nearby trainers (ghost avatars)\n        this.ghosts = new Map(), // UI (sidebar) - removed in favor of React/Next UI\n        this.lastStatusAt = 0, this.miniW = 160, this.miniH = 160, // Floating text animations\n        this.floatingTexts = [], // Multiplayer players (from MultiplayerHandler)\n        this.multiplayerPlayers = new Map(), this.onlineCount = 0, // Backend spawns\n        this.backendSpawns = new Map(), // Structures\n        this.structures = [], this.insideStructure = {\n            active: false,\n            type: null\n        };\n    }\n    init(data) {\n        this.configData = {\n            ...this.configData,\n            ...data\n        };\n        if (this.configData.playerSpeed) this.playerSpeed = this.configData.playerSpeed;\n    }\n    preload() {\n        // Generate a simple 2-tile spritesheet (grass, wall) programmatically\n        const { tileSize } = this.configData;\n        const width = tileSize * 2;\n        const height = tileSize;\n        // Check if texture already exists, destroy it first\n        if (this.textures.exists(\"tilesheet\")) {\n            this.textures.remove(\"tilesheet\");\n        }\n        const sheet = this.textures.createCanvas(\"tilesheet\", width, height);\n        if (!sheet) {\n            throw new Error(\"Failed to create canvas texture 'tilesheet'\");\n        }\n        const ctx = sheet.getContext();\n        if (!ctx) {\n            throw new Error(\"Failed to get 2D rendering context from canvas 'tilesheet'\");\n        }\n        // Grass tile (index 0)\n        ctx.fillStyle = \"#2d6a4f\";\n        ctx.fillRect(0, 0, tileSize, tileSize);\n        // sprinkle dots\n        ctx.fillStyle = \"#40916c\";\n        for(let i = 0; i < 30; i++){\n            const x = Math.random() * (tileSize - 2);\n            const y = Math.random() * (tileSize - 2);\n            ctx.fillRect(x, y, 2, 2);\n        }\n        // Wall tile (index 1)\n        ctx.fillStyle = \"#6c757d\";\n        ctx.fillRect(tileSize, 0, tileSize, tileSize);\n        ctx.strokeStyle = \"#495057\";\n        for(let i = 0; i < tileSize; i += 4){\n            ctx.beginPath();\n            ctx.moveTo(tileSize, i + 0.5);\n            ctx.lineTo(tileSize * 2, i + 0.5);\n            ctx.stroke();\n        }\n        sheet.refresh();\n        // Generate a player texture (circle)\n        if (this.textures.exists(\"player\")) {\n            this.textures.remove(\"player\");\n        }\n        const g = this.make.graphics({\n            x: 0,\n            y: 0\n        });\n        g.fillStyle(0xffd166, 1);\n        g.fillCircle(tileSize / 2, tileSize / 2, tileSize * 0.4);\n        g.lineStyle(2, 0x073b4c, 1);\n        g.strokeCircle(tileSize / 2, tileSize / 2, tileSize * 0.4);\n        g.generateTexture(\"player\", tileSize, tileSize);\n        g.destroy();\n    }\n    create() {\n        const { tileSize, mapWidth, mapHeight } = this.configData;\n        this.tileSizePx = tileSize;\n        this.mapWidthTiles = mapWidth;\n        this.mapHeightTiles = mapHeight;\n        // Create a blank tilemap and a dynamic layer using our generated spritesheet\n        const map = this.make.tilemap({\n            tileWidth: tileSize,\n            tileHeight: tileSize,\n            width: mapWidth,\n            height: mapHeight\n        });\n        const tileset = map.addTilesetImage(\"tiles\", \"tilesheet\", tileSize, tileSize, 0, 0);\n        if (!tileset) throw new Error(\"Failed to create tileset from tilesheet\");\n        const layer = map.createBlankLayer(\"ground\", tileset, 0, 0);\n        if (!layer) throw new Error(\"Failed to create blank ground layer\");\n        this.groundLayer = layer;\n        // Fill ground (index 0) and carve walls (index 1) along the border + a few random obstacles\n        this.groundLayer.fill(0, 0, 0, mapWidth, mapHeight);\n        for(let x = 0; x < mapWidth; x++){\n            this.groundLayer.putTileAt(1, x, 0);\n            this.groundLayer.putTileAt(1, x, mapHeight - 1);\n        }\n        for(let y = 0; y < mapHeight; y++){\n            this.groundLayer.putTileAt(1, 0, y);\n            this.groundLayer.putTileAt(1, mapWidth - 1, y);\n        }\n        // random obstacles\n        for(let i = 0; i < Math.floor(mapWidth * mapHeight * 0.05); i++){\n            const rx = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Between(1, mapWidth - 2);\n            const ry = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Between(1, mapHeight - 2);\n            this.groundLayer.putTileAt(1, rx, ry);\n        }\n        // Enable collisions for wall tiles (index 1)\n        this.groundLayer.setCollision(1, true);\n        // Player setup\n        const startX = this.configData.initialX ?? tileSize * 2;\n        const startY = this.configData.initialY ?? tileSize * 2;\n        this.player = this.physics.add.sprite(startX, startY, \"player\");\n        this.player.setDepth(10);\n        this.player.setCollideWorldBounds(true);\n        // Camera and world bounds\n        const worldWidth = mapWidth * tileSize;\n        const worldHeight = mapHeight * tileSize;\n        this.cameras.main.setBounds(0, 0, worldWidth, worldHeight);\n        this.cameras.main.startFollow(this.player, true, 0.1, 0.1);\n        this.physics.world.setBounds(0, 0, worldWidth, worldHeight);\n        // Collide player with walls\n        this.physics.add.collider(this.player, this.groundLayer);\n        // Input\n        this.cursors = this.input.keyboard?.createCursorKeys();\n        this.wasd = this.input.keyboard?.addKeys({\n            W: phaser__WEBPACK_IMPORTED_MODULE_0__.Input.Keyboard.KeyCodes.W,\n            A: phaser__WEBPACK_IMPORTED_MODULE_0__.Input.Keyboard.KeyCodes.A,\n            S: phaser__WEBPACK_IMPORTED_MODULE_0__.Input.Keyboard.KeyCodes.S,\n            D: phaser__WEBPACK_IMPORTED_MODULE_0__.Input.Keyboard.KeyCodes.D\n        });\n        this.enterKey = this.input.keyboard?.addKey(phaser__WEBPACK_IMPORTED_MODULE_0__.Input.Keyboard.KeyCodes.ENTER);\n        // Multiplayer socket (kept from your original)\n        this.initMultiplayer();\n        // Environment overlay\n        this.envOverlay = this.add.rectangle(0, 0, this.scale.width, this.scale.height, 0xffffff, 0.08).setOrigin(0).setScrollFactor(0).setDepth(900);\n        // Phase 2 managers\n        this.ui = new _managers_UIManager__WEBPACK_IMPORTED_MODULE_5__.UIManager(this);\n        // Initialize simpler multiplayer system\n        this.mp = new _managers_MultiplayerHandler__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n        this.otherPlayers = new _renderers_OtherPlayers__WEBPACK_IMPORTED_MODULE_7__[\"default\"](this);\n        // Join game with initial position\n        const wallet =  false ? 0 : null;\n        if (wallet) {\n            this.mp.joinGame(wallet, startX, startY, \"default\");\n        }\n        // Subscribe to player updates\n        this.mp.onPlayersUpdate((players)=>{\n            this.otherPlayers?.updatePlayers(players);\n        });\n        // Initialize XP Manager with current XP from trainer data\n        const initialXP =  false ? 0 : 0;\n        this.xpManager = new _managers_XPManager__WEBPACK_IMPORTED_MODULE_9__.XPManager(initialXP);\n        // Listen for XP updates\n        _managers_XPManager__WEBPACK_IMPORTED_MODULE_9__.XPManager.onXPUpdate((event)=>{\n            this.handleXPUpdate(event);\n        });\n        // Hook TransactionManager to wallet events\n        if (false) {}\n        // Minimap overlay (no grid lines)\n        this.createMiniMap();\n        // HUD (Level + XP)\n        this.createHUD();\n        // Zone-aware spawn manager with trainer level\n        const trainerLevel = this.configData.trainerLevel || 1;\n        this.spawnManager = new _spawnUtils__WEBPACK_IMPORTED_MODULE_2__.SpawnManager(this, tileSize, mapWidth, mapHeight, trainerLevel);\n        this.spawnManager.on(\"spawned\", (rec)=>{\n            this.addMiniMarker(rec.key, rec.position.x, rec.position.y);\n            this.statusOnce(`A wild ${capitalize(rec.name)} appeared near you!`, 800);\n            this.configData.onPokemonSpotted?.({\n                name: rec.name,\n                spriteUrl: rec.spriteUrl,\n                pokeId: rec.pokeId\n            });\n            this.pushSpawnsToUI();\n        });\n        this.spawnManager.on(\"despawned\", (_key)=>{\n            this.removeMiniMarker(_key);\n            if (this.spawnManager.getActiveSpawns().length === 0) this.configData.onPokemonCleared?.();\n            this.pushSpawnsToUI();\n        });\n        this.spawnManager.on(\"spawnClicked\", async (key)=>{\n            await this.startBattleFromKey(key);\n        });\n        this.spawnManager.on(\"zoneChanged\", (z)=>{\n            this.highlightMiniZone();\n            const czx = (z.col * _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES + _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES / 2) * tileSize;\n            const czy = (z.row * _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES + _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES / 2) * tileSize;\n            const cam = this.cameras.main;\n            cam.stopFollow();\n            cam.pan(czx, czy, 300, \"Sine.easeInOut\", true, (camera, progress)=>{\n                if (progress === 1) cam.startFollow(this.player, true, 0.1, 0.1);\n            });\n            // apply biome environment tint\n            const zones = (0,_mapZones__WEBPACK_IMPORTED_MODULE_3__.generateZones)(Math.floor(this.mapWidthTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES), Math.floor(this.mapHeightTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES));\n            const meta = zones.find((q)=>q.id === `${z.col},${z.row}`);\n            if (meta) this.applyBiome(meta.biome);\n        });\n        this.generateStructures();\n        this.spawnManager.start();\n        // Backend spawn polling\n        const jitter = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Between(20000, 40000);\n        this.spawnPoll = this.time.addEvent({\n            delay: jitter,\n            loop: true,\n            callback: ()=>this.pollBackendSpawns()\n        });\n        // Kick first poll after a short delay\n        this.time.delayedCall(1500, ()=>this.pollBackendSpawns());\n        // Load trainer data if wallet connected\n        this.initTrainerPersistence();\n        // Start nearby trainers polling/heartbeat every 10s\n        this.startNearbyPolling();\n        // Listen for capture attempts from React overlay\n        if (false) {}\n        // Autosave every ~2.5 minutes\n        this.autosaveTimer = this.time.addEvent({\n            delay: 150000,\n            loop: true,\n            callback: ()=>this.autosave(\"interval\")\n        });\n        // Save on unload\n        if (false) {}\n    }\n    update() {\n        if (!this.player || !this.player.body) return;\n        const speed = this.playerSpeed;\n        let vx = 0;\n        let vy = 0;\n        // Arrow keys\n        if (this.cursors?.left?.isDown) vx -= 1;\n        if (this.cursors?.right?.isDown) vx += 1;\n        if (this.cursors?.up?.isDown) vy -= 1;\n        if (this.cursors?.down?.isDown) vy += 1;\n        // WASD\n        if (this.wasd?.A?.isDown) vx -= 1;\n        if (this.wasd?.D?.isDown) vx += 1;\n        if (this.wasd?.W?.isDown) vy -= 1;\n        if (this.wasd?.S?.isDown) vy += 1;\n        const body = this.player.body;\n        if (vx === 0 && vy === 0) {\n            body.setVelocity(0, 0);\n        } else {\n            const len = Math.hypot(vx, vy) || 1;\n            body.setVelocity(vx / len * speed, vy / len * speed);\n        }\n        // Keep UI + minimap pinned\n        if (this.mini) this.mini.setScrollFactor(0);\n        // Throttled position sync (multiplayer)\n        const now = this.time.now;\n        if (this.socket && now - this.lastSent > 100) {\n            this.socket.emit(\"move\", {\n                x: this.player.x,\n                y: this.player.y\n            });\n            this.lastSent = now;\n        }\n        // Send position via simpler multiplayer handler\n        try {\n            const wallet =  false ? 0 : null;\n            if (wallet && this.mp) {\n                this.mp.sendPosition(wallet, this.player.x, this.player.y);\n            }\n        } catch  {}\n        // Interpolate other players' positions (legacy socket.io)\n        const INTERP_SPEED = 0.15; // Lerp factor (0-1)\n        this.otherPositions.forEach((pos, id)=>{\n            const sprite = this.others.get(id);\n            if (sprite) {\n                // Smooth interpolation toward target\n                pos.x = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Linear(pos.x, pos.targetX, INTERP_SPEED);\n                pos.y = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Linear(pos.y, pos.targetY, INTERP_SPEED);\n                sprite.setPosition(pos.x, pos.y);\n            }\n        });\n        // Update zone tracking for spawns/minimap\n        this.spawnManager?.updatePlayerPos(this.player.x, this.player.y);\n        // Check spawn proximity every frame\n        this.checkSpawnProximity();\n        // Battle when near and Enter pressed (compat)\n        if (this.enterKey && phaser__WEBPACK_IMPORTED_MODULE_0__.Input.Keyboard.JustDown(this.enterKey)) {\n            const nearest = this.getNearestActive(64);\n            if (nearest) this.startBattleFromKey(nearest.key);\n        }\n    }\n    // ---- UI helpers ----\n    statusOnce(_text, cooldownMs = 800) {\n        const now = this.time.now;\n        if (now - this.lastStatusAt < cooldownMs) return;\n        this.lastStatusAt = now;\n    // React sidebar now handles messaging\n    }\n    createHUD() {\n        const w = 220;\n        const h = 14;\n        // Place HUD below minimap to avoid overlap\n        const y = (this.miniH || 160) + 20;\n        this.hud = this.add.container(12, y).setScrollFactor(0).setDepth(2000);\n        const bg = this.add.rectangle(0, 0, w, h + 16, 0x000000, 0.5).setOrigin(0);\n        this.hudBarBg = this.add.rectangle(10, 8, w - 20, h, 0x333333, 1).setOrigin(0);\n        this.hudBarFg = this.add.rectangle(10, 8, 0, h, 0x2ecc71, 1).setOrigin(0);\n        this.hudText = this.add.text(12, -8, 'Lv.1 0/100 XP', {\n            fontSize: '12px',\n            color: '#fff'\n        });\n        // Online players counter\n        this.hudOnlineText = this.add.text(w + 20, -8, '0 Trainers Online', {\n            fontSize: '11px',\n            color: '#aaa'\n        });\n        this.hud.add([\n            bg,\n            this.hudBarBg,\n            this.hudBarFg,\n            this.hudText,\n            this.hudOnlineText\n        ]);\n    }\n    updateHUD(level, currentXP, nextLevelXP) {\n        const w = this.hudBarBg?.width || 200;\n        const pct = Math.max(0, Math.min(1, nextLevelXP ? currentXP / nextLevelXP : 0));\n        // Smooth animated progress bar\n        if (this.hudBarFg) {\n            const targetWidth = Math.floor(w * pct);\n            this.tweens.add({\n                targets: this.hudBarFg,\n                width: targetWidth,\n                duration: 500,\n                ease: 'Power2'\n            });\n        }\n        if (this.hudText) {\n            this.hudText.setText(`Lv.${level} ${currentXP}/${nextLevelXP} XP`);\n        }\n    }\n    async initTrainerPersistence() {\n        try {\n            const wallet =  false ? 0 : null;\n            if (!wallet) return;\n            const { loadTrainer, autosaveTrainer } = await __webpack_require__.e(/*! import() */ \"_pages-dir-node_src_services_trainer_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ../../src/services/trainer */ \"(pages-dir-node)/./src/services/trainer.ts\"));\n            const { flushQueue } = await __webpack_require__.e(/*! import() */ \"_pages-dir-node_src_services_saveQueue_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ../../src/services/saveQueue */ \"(pages-dir-node)/./src/services/saveQueue.ts\"));\n            // try to flush any queued saves first\n            try {\n                await flushQueue();\n            } catch  {}\n            const res = await loadTrainer(wallet).catch(()=>null);\n            if (res?.trainer) {\n                const t = res.trainer;\n                if (t?.location) {\n                    this.player.setPosition(t.location.x || this.player.x, t.location.y || this.player.y);\n                }\n                if (typeof t.level === 'number') this.configData.trainerLevel = t.level;\n                this.updateHUD(t.level || 1, t.currentXP || 0, t.nextLevelXP || 100);\n                // Initialize XPManager with loaded XP\n                if (this.xpManager && t.xp !== undefined) {\n                    this.xpManager.setXP(t.xp);\n                }\n                this.showSavedToast('Trainer data loaded successfully!');\n            } else {\n                // create initial snapshot\n                await autosaveTrainer({\n                    walletAddress: wallet,\n                    level: 1,\n                    xp: 0,\n                    location: {\n                        x: this.player.x,\n                        y: this.player.y,\n                        biome: 'grassland'\n                    }\n                });\n            }\n            // Listen for XP updates from battle\n            if (false) {}\n        } catch  {}\n    }\n    handleXPUpdate(event) {\n        // Update HUD\n        this.updateHUD(event.newLevel, event.currentXP, event.nextLevelXP);\n        // Persist XP\n        if (false) {}\n        // Update config\n        this.configData.trainerLevel = event.newLevel;\n        // Show floating XP animation\n        this.showFloatingXP(this.player.x, this.player.y - 20, `+${event.xpGained} XP`);\n        // Handle level up\n        if (event.leveledUp) {\n            this.ui?.toastTop(`🎉 Level Up! You reached Level ${event.newLevel}!`);\n            this.showFloatingXP(this.player.x, this.player.y - 40, 'LEVEL UP!', 0xffff00);\n            this.playLevelUpEffect();\n            // Broadcast level up event\n            if (false) {}\n        }\n        // Broadcast XP update event\n        if (false) {}\n    }\n    playLevelUpEffect() {\n        // Particle burst effect around player\n        const particles = this.add.particles(this.player.x, this.player.y, 'player', {\n            speed: {\n                min: 50,\n                max: 150\n            },\n            scale: {\n                start: 0.3,\n                end: 0\n            },\n            lifespan: 600,\n            quantity: 20,\n            tint: [\n                0xffff00,\n                0xffd700,\n                0xffa500\n            ]\n        });\n        this.time.delayedCall(600, ()=>{\n            particles.destroy();\n        });\n        // Flash effect\n        const flash = this.add.rectangle(this.player.x, this.player.y, 100, 100, 0xffff00, 0.3);\n        flash.setDepth(3001);\n        this.tweens.add({\n            targets: flash,\n            alpha: 0,\n            scale: 2,\n            duration: 500,\n            onComplete: ()=>flash.destroy()\n        });\n    }\n    async autosave(reason) {\n        try {\n            const wallet =  false ? 0 : null;\n            if (!wallet) return;\n            const { autosaveTrainer } = await __webpack_require__.e(/*! import() */ \"_pages-dir-node_src_services_trainer_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ../../src/services/trainer */ \"(pages-dir-node)/./src/services/trainer.ts\"));\n            const xp =  false ? 0 : 0;\n            await autosaveTrainer({\n                walletAddress: wallet,\n                xp,\n                level: this.configData.trainerLevel || 1,\n                location: {\n                    x: this.player.x,\n                    y: this.player.y\n                }\n            });\n            this.showSavedToast('Progress Saved');\n        } catch (e) {\n            // enqueue offline save\n            try {\n                const base = (process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:4000') + '/api/autosave';\n                const { enqueueSave } = await __webpack_require__.e(/*! import() */ \"_pages-dir-node_src_services_saveQueue_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ../../src/services/saveQueue */ \"(pages-dir-node)/./src/services/saveQueue.ts\"));\n                const wallet =  false ? 0 : undefined;\n                await enqueueSave({\n                    url: base,\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        ...wallet ? {\n                            'x-wallet-address': wallet\n                        } : {}\n                    },\n                    body: {\n                        walletAddress: wallet,\n                        level: this.configData.trainerLevel || 1,\n                        location: {\n                            x: this.player.x,\n                            y: this.player.y\n                        }\n                    }\n                });\n            } catch  {}\n        }\n    }\n    async pollBackendSpawns() {\n        try {\n            const biome = this.getCurrentBiomeId();\n            const lvl = this.configData.trainerLevel || 1;\n            // Simple zone calculation fallback (10x10 tiles per zone)\n            const zoneCol = Math.floor(this.player.x / (this.tileSizePx * 10));\n            const zoneRow = Math.floor(this.player.y / (this.tileSizePx * 10));\n            const zoneId = `zone_${zoneCol}_${zoneRow}`;\n            // Poll spawns for current zone\n            const url = `${process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:4000'}/api/spawn/sync?biome=${encodeURIComponent(biome)}&level=${lvl}&players=1&zoneId=${encodeURIComponent(zoneId)}&x=${Math.floor(this.player.x)}&y=${Math.floor(this.player.y)}`;\n            const res = await fetch(url, {\n                cache: 'no-store'\n            });\n            const data = await res.json().catch(()=>({}));\n            const list = data.spawns || [];\n            // Add new spawns\n            list.forEach((s)=>{\n                if (this.backendSpawns.has(s.id)) {\n                    // Update existing spawn position if changed\n                    const existing = this.backendSpawns.get(s.id);\n                    if (existing && (existing.data.x !== s.x || existing.data.y !== s.y)) {\n                        existing.sprite.setPosition(s.x, s.y);\n                        existing.data = s;\n                    }\n                    return;\n                }\n                const sprite = this.add.image(s.x, s.y, `pk-${s.pokeId}`).setVisible(false).setDepth(18).setInteractive({\n                    useHandCursor: true\n                });\n                if (!this.textures.exists(`pk-${s.pokeId}`)) {\n                    this.load.image(`pk-${s.pokeId}`, `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${s.pokeId}.png`);\n                    this.load.once(phaser__WEBPACK_IMPORTED_MODULE_0__.Loader.Events.COMPLETE, ()=>sprite.setTexture(`pk-${s.pokeId}`));\n                    this.load.start();\n                }\n                // Glowing spawn circle (pulsing animation)\n                const glowCircle = this.add.circle(s.x, s.y, 24, 0xffff66, 0.4).setDepth(17);\n                const pulseTween = this.tweens.add({\n                    targets: glowCircle,\n                    radius: {\n                        from: 20,\n                        to: 32\n                    },\n                    alpha: {\n                        from: 0.3,\n                        to: 0.6\n                    },\n                    duration: 1200,\n                    yoyo: true,\n                    repeat: -1,\n                    ease: 'Sine.easeInOut'\n                });\n                // Spawn circle animation on first appearance\n                const circle = this.add.circle(s.x, s.y, 6, 0xffff66, 0.6).setDepth(17);\n                this.tweens.add({\n                    targets: circle,\n                    radius: 26,\n                    alpha: 0,\n                    duration: 600,\n                    onComplete: ()=>circle.destroy()\n                });\n                // Click to attempt capture if near\n                sprite.on('pointerdown', ()=>this.tryCaptureBackendSpawn(s));\n                sprite.setVisible(true);\n                this.backendSpawns.set(s.id, {\n                    sprite,\n                    data: s,\n                    glowCircle,\n                    pulseTween\n                });\n            });\n            // Cleanup expired or missing (only for current zone)\n            const cleanupZoneCol = Math.floor(this.player.x / (this.tileSizePx * 10));\n            const cleanupZoneRow = Math.floor(this.player.y / (this.tileSizePx * 10));\n            const currentZone = `zone_${cleanupZoneCol}_${cleanupZoneRow}`;\n            for (const [id, rec] of this.backendSpawns.entries()){\n                // Remove if not in list OR if zone changed\n                const inList = list.find((q)=>q.id === id);\n                const wrongZone = currentZone && rec.data.zoneId && rec.data.zoneId !== currentZone;\n                if (!inList || wrongZone) {\n                    rec.sprite.destroy();\n                    if (rec.glowCircle) rec.glowCircle.destroy();\n                    if (rec.pulseTween) rec.pulseTween.destroy();\n                    this.backendSpawns.delete(id);\n                }\n            }\n            // Check proximity for auto-opening CaptureModal\n            this.checkSpawnProximity();\n            if (list.length) this.ui?.toastTop('Pokémon nearby');\n        } catch  {}\n    }\n    checkSpawnProximity() {\n        const PROXIMITY_THRESHOLD = this.tileSizePx * 2.5; // ~80px\n        Array.from(this.backendSpawns.values()).forEach((rec)=>{\n            const dist = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Distance.Between(this.player.x, this.player.y, rec.data.x, rec.data.y);\n            if (dist <= PROXIMITY_THRESHOLD && !rec.data.proximityTriggered) {\n                rec.data.proximityTriggered = true;\n                // Open CaptureModal via React overlay\n                if (false) {}\n            } else if (dist > PROXIMITY_THRESHOLD) {\n                rec.data.proximityTriggered = false;\n            }\n        });\n    }\n    async tryCaptureBackendSpawn(spawn) {\n        try {\n            const d = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Distance.Between(this.player.x, this.player.y, spawn.x, spawn.y);\n            if (d > this.tileSizePx * 2.5) {\n                this.ui?.toastTop('Move closer to catch');\n                return;\n            }\n            const wallet =  false ? 0 : null;\n            if (!wallet) {\n                this.ui?.toastTop('Connect wallet to catch');\n                return;\n            }\n            // Open CaptureModal via React overlay\n            if (false) {}\n        } catch  {}\n    }\n    async performCapture(spawn) {\n        try {\n            const wallet =  false ? 0 : null;\n            if (!wallet) {\n                this.ui?.toastTop('Connect wallet to catch');\n                return;\n            }\n            // Convert sprite URL to base64\n            const spriteUrl = spawn.sprite || `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${spawn.pokeId}.png`;\n            let imageBase64 = '';\n            try {\n                const imgResp = await fetch(spriteUrl);\n                const blob = await imgResp.blob();\n                const reader = new FileReader();\n                imageBase64 = await new Promise((resolve, reject)=>{\n                    reader.onloadend = ()=>resolve(reader.result);\n                    reader.onerror = reject;\n                    reader.readAsDataURL(blob);\n                });\n            } catch (e) {\n                console.error('Failed to convert image to base64:', e);\n                this.ui?.toastTop('Failed to process image');\n                return;\n            }\n            // Call new /api/pokemon/caught endpoint\n            const resp = await fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:4000'}/api/pokemon/caught`, {\n                method: 'POST',\n                headers: {\n                    'content-type': 'application/json',\n                    'x-wallet-address': wallet\n                },\n                body: JSON.stringify({\n                    wallet,\n                    name: spawn.name,\n                    imageBase64,\n                    rarity: spawn.rarity || 'common'\n                })\n            });\n            const js = await resp.json().catch(()=>({}));\n            if (js.success) {\n                // Calculate XP gained (5 for attempt + 25 for success = 30 total)\n                const xpGained = 30;\n                // Use XPManager to add XP\n                if (this.xpManager) {\n                    const xpEvent = this.xpManager.addXP(xpGained);\n                // XPManager will trigger handleXPUpdate via listener\n                } else {\n                    // Fallback if XPManager not initialized\n                    const oldLevel = this.configData.trainerLevel || 1;\n                    const oldXP =  false ? 0 : 0;\n                    const newXP = oldXP + xpGained;\n                    if (false) {}\n                    const levelData = _managers_XPManager__WEBPACK_IMPORTED_MODULE_9__.XPManager.levelFromXP(newXP);\n                    this.updateHUD(levelData.level, levelData.currentXP, levelData.nextLevelXP);\n                    this.configData.trainerLevel = levelData.level;\n                    this.showFloatingXP(this.player.x, this.player.y - 20, `+${xpGained} XP`);\n                    if (levelData.level > oldLevel) {\n                        this.ui?.toastTop('Level up!');\n                        this.showFloatingXP(this.player.x, this.player.y - 40, 'LEVEL UP!', 0xffff00);\n                    }\n                }\n                this.ui?.toastTop('Capture success!');\n                // Remove spawn from map\n                const rec = this.backendSpawns.get(spawn.id);\n                if (rec) {\n                    rec.sprite.destroy();\n                    if (rec.glowCircle) rec.glowCircle.destroy();\n                    if (rec.pulseTween) rec.pulseTween.destroy();\n                    this.backendSpawns.delete(spawn.id);\n                }\n                // Broadcast capture success event\n                if (false) {}\n                // Log tx for 📜 Log\n                if (js.txId) {\n                    await _managers_TransactionManager__WEBPACK_IMPORTED_MODULE_8__.TransactionManager.logCapture({\n                        wallet,\n                        txId: js.txId,\n                        meta: {\n                            pokeId: spawn.pokeId,\n                            name: spawn.name\n                        }\n                    });\n                }\n                // Log XP transaction\n                if (this.xpManager) {\n                    const levelData = this.xpManager.getLevelData();\n                    await _managers_TransactionManager__WEBPACK_IMPORTED_MODULE_8__.TransactionManager.logTransaction({\n                        wallet,\n                        txId: js.txId || `XP-${Date.now()}`,\n                        type: 'XP_GAIN',\n                        asset: 'XP',\n                        meta: {\n                            xpGained,\n                            level: levelData.level,\n                            currentXP: levelData.currentXP\n                        }\n                    });\n                }\n            } else {\n                // Failed capture - still gain attempt XP\n                const attemptXP = 5;\n                if (this.xpManager) {\n                    this.xpManager.addXP(attemptXP);\n                }\n                this.ui?.toastTop('Pokémon escaped! You still gained +5 XP.');\n                if (false) {}\n            }\n        } catch (e) {\n            this.ui?.toastTop('Capture failed');\n        }\n    }\n    showFloatingXP(x, y, text, color = 0x2ecc71) {\n        const txt = this.add.text(x, y, text, {\n            fontSize: '18px',\n            color: `#${color.toString(16).padStart(6, '0')}`,\n            stroke: '#000000',\n            strokeThickness: 3,\n            fontStyle: 'bold'\n        }).setOrigin(0.5).setDepth(3000);\n        // Animate floating up and fading out\n        this.tweens.add({\n            targets: txt,\n            y: y - 40,\n            alpha: 0,\n            duration: 1200,\n            ease: 'Power2',\n            onComplete: ()=>txt.destroy()\n        });\n    }\n    showSavedToast(text) {\n        if (this.toast) {\n            this.toast.destroy();\n            this.toast = undefined;\n        }\n        const t = this.add.text(12, this.scale.height - 28, `💾 ${text}`, {\n            fontSize: '14px',\n            color: '#0f0',\n            backgroundColor: '#000',\n            padding: {\n                x: 8,\n                y: 4\n            }\n        }).setScrollFactor(0).setDepth(2000);\n        this.toast = t;\n        this.time.delayedCall(1600, ()=>{\n            if (t.scene) t.destroy();\n            if (this.toast === t) this.toast = undefined;\n        });\n    }\n    getCurrentBiomeId() {\n        const cols = Math.max(1, Math.floor(this.mapWidthTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES));\n        const rows = Math.max(1, Math.floor(this.mapHeightTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES));\n        const zones = (0,_mapZones__WEBPACK_IMPORTED_MODULE_3__.generateZones)(cols, rows);\n        const cur = this.spawnManager?.getCurrentZone();\n        const meta = cur ? zones.find((q)=>q.id === `${cur.col},${cur.row}`) : undefined;\n        return meta?.biome || 'grassland';\n    }\n    startNearbyPolling() {\n        // Clear existing\n        this.nearbyTimer?.remove(false);\n        this.nearbyTimer = this.time.addEvent({\n            delay: 10000,\n            loop: true,\n            callback: async ()=>{\n                try {\n                    const wallet =  false ? 0 : null;\n                    const username =  false ? 0 : 'Trainer';\n                    if (!wallet) return;\n                    const biome = this.getCurrentBiomeId();\n                    const tileX = Math.floor(this.player.x / this.tileSizePx);\n                    const tileY = Math.floor(this.player.y / this.tileSizePx);\n                    const svc = await __webpack_require__.e(/*! import() */ \"_pages-dir-node_src_services_trainer_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ../../src/services/trainer */ \"(pages-dir-node)/./src/services/trainer.ts\"));\n                    // upsert presence\n                    await svc.updateActivePosition({\n                        walletAddress: wallet,\n                        x: tileX,\n                        y: tileY,\n                        biome\n                    });\n                    // fetch nearby\n                    const data = await svc.fetchNearby({\n                        walletAddress: wallet,\n                        x: tileX,\n                        y: tileY,\n                        biome\n                    }).catch(()=>null);\n                    const list = data?.trainers || [];\n                    this.renderGhosts(list);\n                } catch  {}\n            }\n        });\n        // first immediate tick\n        this.time.delayedCall(500, ()=>this.nearbyTimer?.callback?.());\n        this.events.once(phaser__WEBPACK_IMPORTED_MODULE_0__.Scenes.Events.SHUTDOWN, ()=>{\n            this.nearbyTimer?.remove(false);\n            this.ghosts.forEach((g)=>{\n                g.sprite.destroy();\n                g.label?.destroy();\n            });\n            this.ghosts.clear();\n        });\n    }\n    renderGhosts(list) {\n        const wanted = new Set(list.map((t)=>t.walletAddress.toLowerCase()));\n        // remove stale\n        Array.from(this.ghosts.keys()).forEach((k)=>{\n            if (!wanted.has(k.toLowerCase())) {\n                const g = this.ghosts.get(k);\n                g.sprite.destroy();\n                g.label?.destroy();\n                this.ghosts.delete(k);\n            }\n        });\n        // upsert\n        list.forEach((t)=>{\n            const id = t.walletAddress;\n            const wx = (t.x || 0) * this.tileSizePx + this.tileSizePx / 2;\n            const wy = (t.y || 0) * this.tileSizePx + this.tileSizePx / 2;\n            let g = this.ghosts.get(id);\n            if (!g) {\n                const s = this.add.image(wx, wy, 'player').setTint(0xffffff).setAlpha(0.5).setDepth(8);\n                s.setScale(0.9);\n                s.setInteractive({\n                    useHandCursor: true\n                });\n                const showTip = ()=>{\n                    if (g?.label) g.label.destroy();\n                    g.label = this.add.text(s.x, s.y - 18, t.username || 'Trainer', {\n                        fontSize: '10px',\n                        color: '#fff',\n                        backgroundColor: '#00000088',\n                        padding: {\n                            x: 4,\n                            y: 2\n                        }\n                    }).setOrigin(0.5).setDepth(1001);\n                };\n                s.on('pointerover', showTip);\n                s.on('pointerout', ()=>{\n                    g?.label?.destroy();\n                    g.label = undefined;\n                });\n                s.on('pointerdown', ()=>this.promptChallenge(t.username || 'Trainer'));\n                g = {\n                    sprite: s,\n                    username: t.username || 'Trainer'\n                };\n                this.ghosts.set(id, g);\n            }\n            // move/update\n            g.sprite.x = wx;\n            g.sprite.y = wy;\n            g.username = t.username || g.username;\n            if (g.label) {\n                g.label.x = wx;\n                g.label.y = wy - 18;\n                g.label.setText(g.username);\n            }\n        });\n    }\n    promptChallenge(name) {\n        const { width, height } = this.scale;\n        const modal = this.add.container(width / 2, height / 2).setDepth(2001);\n        const bg = this.add.rectangle(0, 0, 300, 160, 0x000000, 0.85);\n        const border = this.add.rectangle(0, 0, 300, 160).setStrokeStyle(2, 0xffffff);\n        const txt = this.add.text(0, -30, `Challenge ${name}?`, {\n            fontSize: '16px',\n            color: '#fff'\n        }).setOrigin(0.5);\n        const ok = this.add.text(-40, 30, 'Challenge', {\n            fontSize: '14px',\n            color: '#0f0',\n            backgroundColor: '#222',\n            padding: {\n                x: 10,\n                y: 6\n            }\n        }).setOrigin(0.5).setInteractive({\n            useHandCursor: true\n        });\n        const cancel = this.add.text(60, 30, 'Cancel', {\n            fontSize: '14px',\n            color: '#fff',\n            backgroundColor: '#444',\n            padding: {\n                x: 10,\n                y: 6\n            }\n        }).setOrigin(0.5).setInteractive({\n            useHandCursor: true\n        });\n        ok.on('pointerdown', ()=>{\n            this.showSavedToast(`You challenged ${name}! (mock)`);\n            modal.destroy();\n        });\n        cancel.on('pointerdown', ()=>modal.destroy());\n        modal.add([\n            bg,\n            border,\n            txt,\n            ok,\n            cancel\n        ]);\n    }\n    // ---- Multiplayer (kept) ----\n    initMultiplayer() {\n        if (this.socket) return; // already connected\n        const socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_1__.io)(\"http://localhost:4000\", {\n            transports: [\n                \"websocket\"\n            ],\n            autoConnect: true\n        });\n        this.socket = socket;\n        socket.on(\"connect\", ()=>{\n            this.myId = socket.id;\n        });\n        socket.on(\"initState\", (payload)=>{\n            Object.entries(payload.players).forEach(([id, pos])=>{\n                if (id === this.myId) return;\n                this.spawnOther(id, pos.x, pos.y);\n            });\n        });\n        socket.on(\"playerJoined\", ({ id, x, y })=>{\n            if (id === this.myId) return;\n            this.spawnOther(id, x, y);\n        });\n        socket.on(\"playerMoved\", ({ id, x, y })=>{\n            const sprite = this.others.get(id);\n            if (sprite) {\n                // Update interpolation target\n                const pos = this.otherPositions.get(id);\n                if (pos) {\n                    pos.targetX = x;\n                    pos.targetY = y;\n                    pos.lastUpdate = this.time.now;\n                } else {\n                    // Initialize position tracking\n                    this.otherPositions.set(id, {\n                        x,\n                        y,\n                        targetX: x,\n                        targetY: y,\n                        lastUpdate: this.time.now\n                    });\n                    sprite.setPosition(x, y);\n                }\n            }\n        });\n        socket.on(\"playerLeft\", ({ id })=>{\n            const sprite = this.others.get(id);\n            if (sprite) {\n                sprite.destroy();\n                this.others.delete(id);\n            }\n            this.otherPositions.delete(id);\n        });\n        this.events.once(phaser__WEBPACK_IMPORTED_MODULE_0__.Scenes.Events.SHUTDOWN, ()=>{\n            socket.removeAllListeners();\n            socket.disconnect();\n            this.socket = undefined;\n            this.myId = undefined;\n            this.others.forEach((s)=>s.destroy());\n            this.others.clear();\n            this.otherPositions.clear();\n            // Cleanup multiplayer players\n            this.multiplayerPlayers.forEach((player)=>{\n                player.sprite.destroy();\n                if (player.label) player.label.destroy();\n            });\n            this.multiplayerPlayers.clear();\n            // Disconnect MultiplayerHandler\n            this.mp?.disconnect();\n        });\n    }\n    spawnOther(id, x, y) {\n        const s = this.add.sprite(x, y, \"player\").setTint(0x118ab2);\n        s.setDepth(5);\n        this.others.set(id, s);\n        // Initialize position tracking for interpolation\n        this.otherPositions.set(id, {\n            x,\n            y,\n            targetX: x,\n            targetY: y,\n            lastUpdate: this.time.now\n        });\n    }\n    // ---- Minimap ----\n    createMiniMap() {\n        // Place top-left inside gameplay area (away from right sidebar)\n        const baseX = 12;\n        const baseY = 12;\n        this.mini = this.add.container(baseX, baseY).setDepth(1000);\n        this.mini.setScrollFactor(0);\n        const bg = this.add.rectangle(0, 0, this.miniW, this.miniH, 0x111111, 0.6).setOrigin(0);\n        this.miniGfx = this.add.graphics();\n        this.miniMarkers = this.add.container(0, 0);\n        this.miniBuildings = this.add.container(0, 0);\n        this.miniHighlight = this.add.graphics();\n        // no grid lines to keep zones invisible\n        const cols = Math.max(1, Math.floor(this.mapWidthTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES));\n        const rows = Math.max(1, Math.floor(this.mapHeightTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES));\n        this.miniGfx.clear();\n        this.miniGfx.lineStyle(1, 0x333333, 0.8);\n        this.miniGfx.strokeRect(0, 0, this.miniW, this.miniH);\n        // clickable zone\n        const hit = this.add.zone(0, 0, this.miniW, this.miniH).setOrigin(0).setInteractive({\n            useHandCursor: true\n        });\n        hit.on('pointerdown', (_pointer, localX, localY)=>{\n            const zc = Math.floor(localX / (this.miniW / cols));\n            const zr = Math.floor(localY / (this.miniH / rows));\n            const cx = (zc * _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES + _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES / 2) * this.tileSizePx;\n            const cy = (zr * _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES + _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES / 2) * this.tileSizePx;\n            const cam = this.cameras.main;\n            cam.stopFollow();\n            cam.pan(cx, cy, 300, 'Sine.easeInOut', true, (camera, progress)=>{\n                if (progress === 1) cam.startFollow(this.player, true, 0.1, 0.1);\n            });\n        });\n        this.mini.add([\n            bg,\n            this.miniGfx,\n            this.miniHighlight,\n            this.miniBuildings,\n            this.miniMarkers,\n            hit\n        ]);\n        this.highlightMiniZone();\n    }\n    highlightMiniZone() {\n        if (!this.miniHighlight) return;\n        const grid = this.spawnManager?.getZoneGrid();\n        const cols = grid?.cols ?? Math.max(1, Math.floor(this.mapWidthTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES));\n        const rows = grid?.rows ?? Math.max(1, Math.floor(this.mapHeightTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES));\n        const cur = this.spawnManager?.getCurrentZone();\n        if (!cur) return;\n        const cw = this.miniW / cols;\n        const ch = this.miniH / rows;\n        this.miniHighlight.clear();\n        this.miniHighlight.lineStyle(2, 0xffff66, 1);\n        this.miniHighlight.strokeRect(cur.col * cw, cur.row * ch, cw, ch);\n    }\n    worldToMini(x, y) {\n        const sx = this.miniW / (this.mapWidthTiles * this.tileSizePx);\n        const sy = this.miniH / (this.mapHeightTiles * this.tileSizePx);\n        return {\n            x: x * sx,\n            y: y * sy\n        };\n    }\n    addMiniMarker(key, wx, wy) {\n        if (!this.miniMarkers) return;\n        const pt = this.worldToMini(wx, wy);\n        const dot = this.add.rectangle(pt.x, pt.y, 4, 4, 0xffffff, 1).setOrigin(0.5);\n        dot.name = key;\n        this.miniMarkers.add(dot);\n    }\n    removeMiniMarker(key) {\n        if (!this.miniMarkers) return;\n        const list = this.miniMarkers.list;\n        const found = list.find((ch)=>ch.name === key);\n        if (found) found.destroy();\n    }\n    getNearestActive(radius) {\n        if (!this.spawnManager) return null;\n        let best = null;\n        let bestD = Number.POSITIVE_INFINITY;\n        this.spawnManager.getActiveSpawns().forEach((rec)=>{\n            const d = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Distance.Between(this.player.x, this.player.y, rec.position.x, rec.position.y);\n            if (d < radius && d < bestD) {\n                bestD = d;\n                best = rec;\n            }\n        });\n        return best;\n    }\n    async startBattleFromKey(key) {\n        if (!this.spawnManager) return;\n        const rec = this.spawnManager.getActiveSpawns().find((r)=>r.key === key);\n        if (!rec) return;\n        if (!this.configData.playerPokemon) {\n            this.statusOnce('You need a Pokémon to battle!', 800);\n            return;\n        }\n        try {\n            const pokeRes = await fetch(`https://pokeapi.co/api/v2/pokemon/${rec.pokeId}`);\n            const pokeData = await pokeRes.json();\n            this.spawnManager.despawn(key);\n            // Transform player Pokemon to match BattleScene expected format\n            const playerPoke = this.configData.playerPokemon;\n            const hpStat = playerPoke.data?.stats?.find((s)=>s.stat.name === 'hp')?.base_stat || 50;\n            const level = playerPoke.level || 1;\n            // Use proper Pokemon HP formula with IV ~31: ((2*Base + 31) * Level / 100) + Level + 10\n            const maxHp = Math.max(28, Math.floor((hpStat * 2 + 31) * level / 100 + level + 10));\n            // Build player team (at minimum includes the current Pokemon)\n            const playerTeam = [\n                {\n                    id: playerPoke.id,\n                    name: playerPoke.name || playerPoke.displayName,\n                    data: playerPoke.data,\n                    sprite: playerPoke.sprite,\n                    level: playerPoke.level || 1,\n                    maxHp: maxHp\n                }\n            ];\n            this.scene.pause(); // Pause GameScene instead of stopping it\n            this.scene.launch('BattleScene', {\n                wildPokemon: {\n                    name: rec.name,\n                    pokeId: rec.pokeId,\n                    data: pokeData,\n                    spriteUrl: rec.spriteUrl,\n                    level: rec.level\n                },\n                playerPokemon: {\n                    name: playerPoke.name || playerPoke.displayName,\n                    pokeId: playerPoke.id,\n                    data: playerPoke.data,\n                    spriteUrl: playerPoke.sprite,\n                    level: playerPoke.level || 1,\n                    maxHp: maxHp,\n                    currentHp: maxHp\n                },\n                playerTeam: playerTeam,\n                trainerLevel: this.configData.trainerLevel || 1\n            });\n        } catch  {}\n    }\n    // ---- Structures ----\n    generateStructures() {\n        const cols = Math.max(1, Math.floor(this.mapWidthTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES));\n        const rows = Math.max(1, Math.floor(this.mapHeightTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES));\n        const zones = (0,_mapZones__WEBPACK_IMPORTED_MODULE_3__.generateZones)(cols, rows);\n        const choose = (arr)=>arr[Math.floor(Math.random() * arr.length)];\n        const byBiome = {\n            city: [\n                \"lab\",\n                \"house\"\n            ],\n            mountain: [\n                \"temple\",\n                \"house\"\n            ],\n            forest: [\n                \"house\",\n                \"tower\"\n            ],\n            desert: [\n                \"temple\"\n            ],\n            lake: [\n                \"tower\"\n            ],\n            grassland: [\n                \"house\"\n            ],\n            cave: [\n                \"tower\"\n            ],\n            snowfield: [\n                \"house\",\n                \"temple\"\n            ]\n        };\n        this.structures = [];\n        zones.forEach((z)=>{\n            if (Math.random() > 0.12) return; // ~12% of zones have a building\n            const types = byBiome[z.biome] || [\n                \"house\"\n            ];\n            const type = choose(types);\n            const startX = z.col * _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES * this.tileSizePx;\n            const startY = z.row * _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES * this.tileSizePx;\n            const x = startX + 16 + Math.random() * (_mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES * this.tileSizePx - 32);\n            const y = startY + 16 + Math.random() * (_mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES * this.tileSizePx - 32);\n            const id = `b-${z.id}-${type}-${Math.floor(x)}-${Math.floor(y)}`;\n            this.structures.push({\n                id,\n                type,\n                col: z.col,\n                row: z.row,\n                x,\n                y\n            });\n        });\n        // render\n        this.structures.forEach((s)=>{\n            const color = s.type === \"lab\" ? 0xcfe3ff : s.type === \"tower\" ? 0x6b4e9b : s.type === \"temple\" ? 0xc2b280 : 0xd3d3d3;\n            const building = this.add.rectangle(s.x, s.y, 32, 24, color, 1).setOrigin(0.5).setDepth(15);\n            this.physics.add.existing(building, true);\n            const door = this.add.rectangle(s.x, s.y + 12, 10, 6, 0x000000, 0.8).setDepth(16);\n            this.physics.add.existing(door, true);\n            this.physics.add.overlap(this.player, door, ()=>this.enterStructure(s));\n            // minimap marker\n            if (this.miniBuildings) {\n                const pt = this.worldToMini(s.x, s.y);\n                const sq = this.add.rectangle(pt.x, pt.y, 5, 5, 0xffe066, 1).setOrigin(0.5);\n                this.miniBuildings.add(sq);\n            }\n        });\n    }\n    enterStructure(s) {\n        if (this.insideStructure.active) return;\n        this.insideStructure = {\n            active: true,\n            type: s.type\n        };\n        // override spawn pool based on structure -> use BIOMES mapping\n        const b = s.type === \"tower\" ? _biomes__WEBPACK_IMPORTED_MODULE_4__.BIOMES.tower : s.type === \"lab\" ? _biomes__WEBPACK_IMPORTED_MODULE_4__.BIOMES.lab : _biomes__WEBPACK_IMPORTED_MODULE_4__.BIOMES.temple;\n        this.applyBiome(b.id);\n        this.spawnManager?.setOverrideTypes(b.pokemonPool);\n    }\n    exitStructure() {\n        if (!this.insideStructure.active) return;\n        this.insideStructure = {\n            active: false,\n            type: null\n        };\n        // clear override and re-apply zone biome color\n        this.spawnManager?.setOverrideTypes(null);\n        const cur = this.spawnManager?.getCurrentZone();\n        if (cur) {\n            const zones = (0,_mapZones__WEBPACK_IMPORTED_MODULE_3__.generateZones)(Math.floor(this.mapWidthTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES), Math.floor(this.mapHeightTiles / _mapZones__WEBPACK_IMPORTED_MODULE_3__.ZONE_TILES));\n            const meta = zones.find((q)=>q.id === `${cur.col},${cur.row}`);\n            if (meta) this.applyBiome(meta.biome);\n        }\n    }\n    applyBiome(id) {\n        const def = _biomes__WEBPACK_IMPORTED_MODULE_4__.BIOMES[id];\n        if (!def) return;\n        if (this.envOverlay) {\n            const target = def.environmentColor;\n            const from = this.envOverlay.fillColor ?? 0xffffff;\n            const o = {\n                t: 0\n            };\n            this.tweens.add({\n                targets: o,\n                t: 1,\n                duration: 400,\n                onUpdate: ()=>{\n                    const c = phaser__WEBPACK_IMPORTED_MODULE_0__.Display.Color.Interpolate.ColorWithColor(phaser__WEBPACK_IMPORTED_MODULE_0__.Display.Color.IntegerToColor(from), phaser__WEBPACK_IMPORTED_MODULE_0__.Display.Color.IntegerToColor(target), 100, Math.floor(o.t * 100));\n                    const hex = phaser__WEBPACK_IMPORTED_MODULE_0__.Display.Color.GetColor(c.r, c.g, c.b);\n                    this.envOverlay.setFillStyle(hex, 0.08);\n                }\n            });\n        }\n    }\n    // ---- Multiplayer rendering ----\n    onMultiplayerPlayerJoin(player) {\n        const wallet = player.wallet;\n        const myWallet =  false ? 0 : null;\n        if (wallet === myWallet) return; // Don't render self\n        // Check if player is nearby (within reasonable distance)\n        const dist = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Distance.Between(this.player.x, this.player.y, player.x, player.y);\n        if (dist > this.tileSizePx * 20) return; // Too far, don't show\n        // Create sprite (smaller than player)\n        const sprite = this.add.sprite(player.x, player.y, 'player');\n        sprite.setTint(0x4a90e2); // Blue tint for other players\n        sprite.setScale(0.75); // Smaller than player\n        sprite.setDepth(9);\n        // Create label above sprite\n        const name = player.name || player.wallet.slice(0, 6);\n        const label = this.add.text(player.x, player.y - 20, name, {\n            fontSize: '10px',\n            color: '#fff',\n            backgroundColor: '#00000088',\n            padding: {\n                x: 4,\n                y: 2\n            }\n        }).setOrigin(0.5).setDepth(1000);\n        this.multiplayerPlayers.set(wallet, {\n            sprite,\n            label,\n            data: player,\n            targetX: player.x,\n            targetY: player.y\n        });\n        // Toast notification\n        this.ui?.toastTop(`${name} entered your area`);\n    }\n    onMultiplayerPlayerLeave(wallet) {\n        const player = this.multiplayerPlayers.get(wallet);\n        if (!player) return;\n        const name = player.data.name || wallet.slice(0, 6);\n        // Fade out and destroy\n        this.tweens.add({\n            targets: [\n                player.sprite,\n                player.label\n            ],\n            alpha: 0,\n            duration: 500,\n            onComplete: ()=>{\n                player.sprite.destroy();\n                if (player.label) player.label.destroy();\n                this.multiplayerPlayers.delete(wallet);\n            }\n        });\n        // Toast notification\n        this.ui?.toastTop(`${name} left your area`);\n    }\n    updateOnlineCounter() {\n        if (this.hudOnlineText) {\n            const count = this.onlineCount;\n            this.hudOnlineText.setText(`${count} Trainer${count !== 1 ? 's' : ''} Online`);\n        }\n    }\n    updateMultiplayerPlayers() {\n    // This method is kept for compatibility but the simpler system uses OtherPlayers renderer\n    // The OtherPlayers renderer handles player updates via onPlayersUpdate callback\n    // No-op: player rendering is handled by OtherPlayers class\n    }\n    onZoneChanged(oldZone, newZone) {\n        // Clear spawns from old zone\n        if (oldZone) {\n            // Remove spawns that don't belong to new zone\n            for (const [id, rec] of this.backendSpawns.entries()){\n                if (rec.data.zoneId && rec.data.zoneId !== newZone) {\n                    rec.sprite.destroy();\n                    if (rec.glowCircle) rec.glowCircle.destroy();\n                    if (rec.pulseTween) rec.pulseTween.destroy();\n                    this.backendSpawns.delete(id);\n                }\n            }\n            this.ui?.toastTop(`Entered zone ${newZone}`);\n        }\n        // Request spawns for new zone\n        this.pollBackendSpawns();\n    }\n    handleZoneSpawns(spawns) {\n        // Update spawns from socket broadcast\n        const spawnZoneCol = Math.floor(this.player.x / (this.tileSizePx * 10));\n        const spawnZoneRow = Math.floor(this.player.y / (this.tileSizePx * 10));\n        const currentZone = `zone_${spawnZoneCol}_${spawnZoneRow}`;\n        if (!currentZone) return;\n        spawns.forEach((s)=>{\n            if (s.zoneId !== currentZone) return; // Only process spawns for current zone\n            if (!this.backendSpawns.has(s.id)) {\n                // Add new spawn\n                const sprite = this.add.image(s.x, s.y, `pk-${s.pokeId}`).setVisible(false).setDepth(18).setInteractive({\n                    useHandCursor: true\n                });\n                if (!this.textures.exists(`pk-${s.pokeId}`)) {\n                    this.load.image(`pk-${s.pokeId}`, `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${s.pokeId}.png`);\n                    this.load.once(phaser__WEBPACK_IMPORTED_MODULE_0__.Loader.Events.COMPLETE, ()=>sprite.setTexture(`pk-${s.pokeId}`));\n                    this.load.start();\n                }\n                const glowCircle = this.add.circle(s.x, s.y, 24, 0xffff66, 0.4).setDepth(17);\n                const pulseTween = this.tweens.add({\n                    targets: glowCircle,\n                    radius: {\n                        from: 20,\n                        to: 32\n                    },\n                    alpha: {\n                        from: 0.3,\n                        to: 0.6\n                    },\n                    duration: 1200,\n                    yoyo: true,\n                    repeat: -1,\n                    ease: 'Sine.easeInOut'\n                });\n                sprite.on('pointerdown', ()=>this.tryCaptureBackendSpawn(s));\n                sprite.setVisible(true);\n                this.backendSpawns.set(s.id, {\n                    sprite,\n                    data: s,\n                    glowCircle,\n                    pulseTween\n                });\n            }\n        });\n    }\n    pushSpawnsToUI() {\n        if (!this.configData.onSpawnsUpdate || !this.spawnManager) return;\n        const spawns = this.spawnManager.getActiveSpawns().map((r)=>({\n                key: r.key,\n                name: r.name,\n                pokeId: r.pokeId,\n                spriteUrl: r.spriteUrl,\n                position: r.position,\n                level: r.level,\n                rarity: r.rarity,\n                distance: phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Distance.Between(this.player.x, this.player.y, r.position.x, r.position.y)\n            }));\n        this.configData.onSpawnsUpdate(spawns);\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2xpYi9waGFzZXIvR2FtZVNjZW5lLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFpQztBQUNrQjtBQUVOO0FBQ1c7QUFDZ0M7QUFDdkM7QUFDYztBQUNYO0FBQ2U7QUFDRTtBQUVyRSxTQUFTVyxXQUFXQyxDQUFTO0lBQzNCLE9BQU8sQ0FBQ0EsS0FBSyxFQUFDLEVBQUdDLE1BQU0sQ0FBQyxHQUFHQyxXQUFXLEtBQUssQ0FBQ0YsS0FBSyxFQUFDLEVBQUdHLEtBQUssQ0FBQztBQUM3RDtBQTBCTyxNQUFNQyxrQkFBa0JoQix5Q0FBWTtJQWdGekMsYUFBYztRQUNaLEtBQUssQ0FBQyxtQkEzRUFrQixhQUEwQjtZQUNoQ0MsVUFBVTtZQUNWQyxVQUFVO1lBQ1ZDLFdBQVc7WUFDWEMsYUFBYTtRQUNmLFFBQ1FBLGNBQWMsS0FJdEIsd0JBQXdCO2FBQ2hCQyxnQkFBZ0IsUUFDaEJDLGlCQUFpQixRQUNqQkMsYUFBYSxTQUNiQyxTQUFpRCxJQUFJQyxZQUNyREMsaUJBQThHLElBQUlELFlBQ2xIRSxXQUFXLEdBRW5CLGtDQUFrQzthQUMxQkMsU0FBK0csSUFBSUgsT0FNM0gsbURBQW1EO2FBQzNDSSxlQUFlLFFBUWZDLFFBQVEsVUFDUkMsUUFBUSxLQU1oQiwyQkFBMkI7YUFDbkJDLGdCQUEyQyxFQUFFLEVBRXJELGdEQUFnRDthQUN4Q0MscUJBQXVKLElBQUlSLFlBQzNKUyxjQUFjLEdBaUJ0QixpQkFBaUI7YUFDVEMsZ0JBQXFKLElBQUlWLE9BR2pLLGFBQWE7YUFDTFcsYUFBNkIsRUFBRSxPQUMvQkMsa0JBQW1FO1lBQUVDLFFBQVE7WUFBT0MsTUFBTTtRQUFLO0lBT3ZHO0lBRUFDLEtBQUtDLElBQTBCLEVBQUU7UUFDL0IsSUFBSSxDQUFDekIsVUFBVSxHQUFHO1lBQUUsR0FBRyxJQUFJLENBQUNBLFVBQVU7WUFBRSxHQUFHeUIsSUFBSTtRQUFDO1FBQ2hELElBQUksSUFBSSxDQUFDekIsVUFBVSxDQUFDSSxX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RUFBRXpULEdBQUc7Z0JBQ1ZHLE1BQU1zVCxFQUFFdFQsSUFBSTtnQkFDWkcsUUFBUW1ULEVBQUVuVCxNQUFNO2dCQUNoQkQsV0FBV29ULEVBQUVwVCxTQUFTO2dCQUN0QkosVUFBVXdULEVBQUV4VCxRQUFRO2dCQUNwQmtHLE9BQU9zTixFQUFFdE4sS0FBSztnQkFDZGdHLFFBQVFzSCxFQUFFdEgsTUFBTTtnQkFDaEIyTCxVQUFVM2lCLHdDQUFXLENBQUM4VyxRQUFRLENBQUNwUixPQUFPLENBQUMsSUFBSSxDQUFDTyxNQUFNLENBQUN2QyxDQUFDLEVBQUUsSUFBSSxDQUFDdUMsTUFBTSxDQUFDcEMsQ0FBQyxFQUFFeWEsRUFBRXhULFFBQVEsQ0FBQ3BILENBQUMsRUFBRTRhLEVBQUV4VCxRQUFRLENBQUNqSCxDQUFDO1lBQ2pHO1FBQ0EsSUFBSSxDQUFDM0MsVUFBVSxDQUFDd2hCLGNBQWMsQ0FBQzdVO0lBQ2pDO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2FoaXRoXFxPbmVEcml2ZVxcRGVza3RvcFxceW9rYWlodW50XFxmcm9udGVuZFxcbGliXFxwaGFzZXJcXEdhbWVTY2VuZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBpbywgdHlwZSBTb2NrZXQgfSBmcm9tIFwic29ja2V0LmlvLWNsaWVudFwiO1xyXG5pbXBvcnQgeyBjYXRjaFBva2Vtb24gYXMgYXBpQ2F0Y2ggfSBmcm9tIFwiLi4vYXBpL2FwaVwiO1xyXG5pbXBvcnQgeyBTcGF3bk1hbmFnZXIgfSBmcm9tIFwiLi4vc3Bhd25VdGlsc1wiO1xyXG5pbXBvcnQgeyBaT05FX1RJTEVTLCBnZW5lcmF0ZVpvbmVzIH0gZnJvbSBcIi4uL21hcFpvbmVzXCI7XHJcbmltcG9ydCB7IEJJT01FUywgdHlwZSBCaW9tZUlkLCB0eXBlIFN0cnVjdHVyZURlZiwgdHlwZSBTdHJ1Y3R1cmVUeXBlIH0gZnJvbSBcIi4uL2Jpb21lc1wiO1xyXG5pbXBvcnQgeyBVSU1hbmFnZXIgfSBmcm9tIFwiLi9tYW5hZ2Vycy9VSU1hbmFnZXJcIjtcclxuaW1wb3J0IE11bHRpcGxheWVySGFuZGxlciBmcm9tIFwiLi9tYW5hZ2Vycy9NdWx0aXBsYXllckhhbmRsZXJcIjtcclxuaW1wb3J0IE90aGVyUGxheWVycyBmcm9tIFwiLi9yZW5kZXJlcnMvT3RoZXJQbGF5ZXJzXCI7XHJcbmltcG9ydCB7IFRyYW5zYWN0aW9uTWFuYWdlciB9IGZyb20gXCIuL21hbmFnZXJzL1RyYW5zYWN0aW9uTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBYUE1hbmFnZXIsIHR5cGUgWFBVcGRhdGVFdmVudCB9IGZyb20gXCIuL21hbmFnZXJzL1hQTWFuYWdlclwiO1xyXG5cclxuZnVuY3Rpb24gY2FwaXRhbGl6ZShzOiBzdHJpbmcpIHtcclxuICByZXR1cm4gKHMgfHwgXCJcIikuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyAocyB8fCBcIlwiKS5zbGljZSgxKTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTY2VuZUNvbmZpZyB7XHJcbiAgdGlsZVNpemU6IG51bWJlcjtcclxuICBtYXBXaWR0aDogbnVtYmVyO1xyXG4gIG1hcEhlaWdodDogbnVtYmVyO1xyXG4gIHBsYXllclNwZWVkOiBudW1iZXI7XHJcbiAgaW5pdGlhbFg/OiBudW1iZXI7XHJcbiAgaW5pdGlhbFk/OiBudW1iZXI7XHJcbiAgb25Qb2tlbW9uU3BvdHRlZD86IChwb2tlbW9uOiB7IG5hbWU6IHN0cmluZzsgc3ByaXRlVXJsOiBzdHJpbmc7IHBva2VJZDogbnVtYmVyIH0pID0+IHZvaWQ7XHJcbiAgb25Qb2tlbW9uQ2xlYXJlZD86ICgpID0+IHZvaWQ7XHJcbiAgb25TcGF3bnNVcGRhdGU/OiAoc3Bhd25zOiB7IGtleTogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IHBva2VJZDogbnVtYmVyOyBzcHJpdGVVcmw6IHN0cmluZzsgcG9zaXRpb246IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTsgbGV2ZWw6IG51bWJlcjsgcmFyaXR5OiBzdHJpbmcgfVtdKSA9PiB2b2lkO1xyXG4gIHBsYXllclBva2Vtb24/OiBhbnk7IC8vIFNlbGVjdGVkIFBva8OpbW9uIGZvciBiYXR0bGVcclxuICB0cmFpbmVyTGV2ZWw/OiBudW1iZXI7IC8vIFRyYWluZXIgbGV2ZWwgZm9yIHNwYXduIGJhbGFuY2luZ1xyXG59XHJcblxyXG50eXBlIFNwYXduUmVjb3JkID0ge1xyXG4gIGtleTogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBwb2tlSWQ6IG51bWJlcjtcclxuICBkYXRhOiBhbnk7XHJcbiAgc3ByaXRlOiBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2UgfCBudWxsO1xyXG4gIHBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XHJcbiAgc3ByaXRlVXJsOiBzdHJpbmc7XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICBwcml2YXRlIGN1cnNvcnM/OiBQaGFzZXIuVHlwZXMuSW5wdXQuS2V5Ym9hcmQuQ3Vyc29yS2V5cztcclxuICBwcml2YXRlIHdhc2Q/OiBSZWNvcmQ8XCJXXCIgfCBcIkFcIiB8IFwiU1wiIHwgXCJEXCIsIFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk+O1xyXG4gIHByaXZhdGUgZW50ZXJLZXk/OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gIHByaXZhdGUgcGxheWVyITogUGhhc2VyLlR5cGVzLlBoeXNpY3MuQXJjYWRlLlNwcml0ZVdpdGhEeW5hbWljQm9keTtcclxuICBwcml2YXRlIGdyb3VuZExheWVyITogUGhhc2VyLlRpbGVtYXBzLlRpbGVtYXBMYXllcjtcclxuICBwcml2YXRlIGNvbmZpZ0RhdGE6IFNjZW5lQ29uZmlnID0ge1xyXG4gICAgdGlsZVNpemU6IDMyLFxyXG4gICAgbWFwV2lkdGg6IDUwLFxyXG4gICAgbWFwSGVpZ2h0OiAzOCxcclxuICAgIHBsYXllclNwZWVkOiAyMDAsXHJcbiAgfTtcclxuICBwcml2YXRlIHBsYXllclNwZWVkID0gMjAwO1xyXG4gIHByaXZhdGUgc29ja2V0PzogU29ja2V0O1xyXG4gIHByaXZhdGUgbXlJZD86IHN0cmluZztcclxuXHJcbiAgLy8gQ2FjaGVkIG1hcCBkaW1lbnNpb25zXHJcbiAgcHJpdmF0ZSBtYXBXaWR0aFRpbGVzID0gMDtcclxuICBwcml2YXRlIG1hcEhlaWdodFRpbGVzID0gMDtcclxuICBwcml2YXRlIHRpbGVTaXplUHggPSAzMjtcclxuICBwcml2YXRlIG90aGVyczogTWFwPHN0cmluZywgUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZT4gPSBuZXcgTWFwKCk7XHJcbiAgcHJpdmF0ZSBvdGhlclBvc2l0aW9uczogTWFwPHN0cmluZywgeyB4OiBudW1iZXI7IHk6IG51bWJlcjsgdGFyZ2V0WDogbnVtYmVyOyB0YXJnZXRZOiBudW1iZXI7IGxhc3RVcGRhdGU6IG51bWJlciB9PiA9IG5ldyBNYXAoKTtcclxuICBwcml2YXRlIGxhc3RTZW50ID0gMDtcclxuXHJcbiAgLy8gTmVhcmJ5IHRyYWluZXJzIChnaG9zdCBhdmF0YXJzKVxyXG4gIHByaXZhdGUgZ2hvc3RzOiBNYXA8c3RyaW5nLCB7IHNwcml0ZTogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlOyBsYWJlbD86IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0OyB1c2VybmFtZTogc3RyaW5nIH0+ID0gbmV3IE1hcCgpO1xyXG4gIHByaXZhdGUgbmVhcmJ5VGltZXI/OiBQaGFzZXIuVGltZS5UaW1lckV2ZW50O1xyXG5cclxuICAvLyBTcGF3bnMgKG1hbmFnZWQgYnkgU3Bhd25NYW5hZ2VyKVxyXG4gIHByaXZhdGUgc3Bhd25NYW5hZ2VyPzogU3Bhd25NYW5hZ2VyO1xyXG5cclxuICAvLyBVSSAoc2lkZWJhcikgLSByZW1vdmVkIGluIGZhdm9yIG9mIFJlYWN0L05leHQgVUlcclxuICBwcml2YXRlIGxhc3RTdGF0dXNBdCA9IDA7XHJcblxyXG4gIC8vIE1pbmltYXBcclxuICBwcml2YXRlIG1pbmk/OiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xyXG4gIHByaXZhdGUgbWluaUdmeD86IFBoYXNlci5HYW1lT2JqZWN0cy5HcmFwaGljcztcclxuICBwcml2YXRlIG1pbmlNYXJrZXJzPzogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcclxuICBwcml2YXRlIG1pbmlIaWdobGlnaHQ/OiBQaGFzZXIuR2FtZU9iamVjdHMuR3JhcGhpY3M7XHJcbiAgcHJpdmF0ZSBtaW5pQnVpbGRpbmdzPzogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcclxuICBwcml2YXRlIG1pbmlXID0gMTYwO1xyXG4gIHByaXZhdGUgbWluaUggPSAxNjA7XHJcblxyXG4vLyBUb2FzdCBub3RpZmljYXRpb25cclxuICBwcml2YXRlIHRvYXN0PzogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XHJcbiAgcHJpdmF0ZSBhdXRvc2F2ZVRpbWVyPzogUGhhc2VyLlRpbWUuVGltZXJFdmVudDtcclxuXHJcbiAgLy8gRmxvYXRpbmcgdGV4dCBhbmltYXRpb25zXHJcbiAgcHJpdmF0ZSBmbG9hdGluZ1RleHRzOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dFtdID0gW107XHJcblxyXG4gIC8vIE11bHRpcGxheWVyIHBsYXllcnMgKGZyb20gTXVsdGlwbGF5ZXJIYW5kbGVyKVxyXG4gIHByaXZhdGUgbXVsdGlwbGF5ZXJQbGF5ZXJzOiBNYXA8c3RyaW5nLCB7IHNwcml0ZTogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZTsgbGFiZWw/OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDsgZGF0YTogYW55OyB0YXJnZXRYOiBudW1iZXI7IHRhcmdldFk6IG51bWJlciB9PiA9IG5ldyBNYXAoKTtcclxuICBwcml2YXRlIG9ubGluZUNvdW50ID0gMDtcclxuICBwcml2YXRlIGh1ZE9ubGluZVRleHQ/OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcclxuXHJcbiAgLy8gWFAgTWFuYWdlclxyXG4gIHByaXZhdGUgeHBNYW5hZ2VyPzogWFBNYW5hZ2VyO1xyXG5cclxuICAvLyBQaGFzZSAyIG1hbmFnZXJzXHJcbiAgcHJpdmF0ZSB1aT86IFVJTWFuYWdlcjtcclxuICBwcml2YXRlIG1wPzogTXVsdGlwbGF5ZXJIYW5kbGVyO1xyXG4gIHByaXZhdGUgb3RoZXJQbGF5ZXJzPzogT3RoZXJQbGF5ZXJzO1xyXG5cclxuICAvLyBIVUQgZWxlbWVudHNcclxuICBwcml2YXRlIGh1ZD86IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XHJcbiAgcHJpdmF0ZSBodWRCYXJCZz86IFBoYXNlci5HYW1lT2JqZWN0cy5SZWN0YW5nbGU7XHJcbiAgcHJpdmF0ZSBodWRCYXJGZz86IFBoYXNlci5HYW1lT2JqZWN0cy5SZWN0YW5nbGU7XHJcbiAgcHJpdmF0ZSBodWRUZXh0PzogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XHJcblxyXG4gIC8vIEJhY2tlbmQgc3Bhd25zXHJcbiAgcHJpdmF0ZSBiYWNrZW5kU3Bhd25zOiBNYXA8c3RyaW5nLCB7IHNwcml0ZTogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlOyBkYXRhOiBhbnk7IGdsb3dDaXJjbGU/OiBQaGFzZXIuR2FtZU9iamVjdHMuQXJjOyBwdWxzZVR3ZWVuPzogUGhhc2VyLlR3ZWVucy5Ud2VlbiB9PiA9IG5ldyBNYXAoKTtcclxuICBwcml2YXRlIHNwYXduUG9sbD86IFBoYXNlci5UaW1lLlRpbWVyRXZlbnQ7XHJcblxyXG4gIC8vIFN0cnVjdHVyZXNcclxuICBwcml2YXRlIHN0cnVjdHVyZXM6IFN0cnVjdHVyZURlZltdID0gW107XHJcbiAgcHJpdmF0ZSBpbnNpZGVTdHJ1Y3R1cmU6IHsgYWN0aXZlOiBib29sZWFuOyB0eXBlOiBTdHJ1Y3R1cmVUeXBlIHwgbnVsbCB9ID0geyBhY3RpdmU6IGZhbHNlLCB0eXBlOiBudWxsIH07XHJcblxyXG4gIC8vIEVudmlyb25tZW50IG92ZXJsYXkgKG5vIHBhcnRpY2xlcyB0byBhdm9pZCBydW50aW1lIGluY29tcGF0KVxyXG4gIHByaXZhdGUgZW52T3ZlcmxheT86IFBoYXNlci5HYW1lT2JqZWN0cy5SZWN0YW5nbGU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoXCJHYW1lU2NlbmVcIik7XHJcbiAgfVxyXG5cclxuICBpbml0KGRhdGE6IFBhcnRpYWw8U2NlbmVDb25maWc+KSB7XHJcbiAgICB0aGlzLmNvbmZpZ0RhdGEgPSB7IC4uLnRoaXMuY29uZmlnRGF0YSwgLi4uZGF0YSB9IGFzIFNjZW5lQ29uZmlnO1xyXG4gICAgaWYgKHRoaXMuY29uZmlnRGF0YS5wbGF5ZXJTcGVlZClcclxuICAgICAgdGhpcy5wbGF5ZXJTcGVlZCA9IHRoaXMuY29uZmlnRGF0YS5wbGF5ZXJTcGVlZDtcclxuICB9XHJcblxyXG4gIHByZWxvYWQoKSB7XHJcbiAgICAvLyBHZW5lcmF0ZSBhIHNpbXBsZSAyLXRpbGUgc3ByaXRlc2hlZXQgKGdyYXNzLCB3YWxsKSBwcm9ncmFtbWF0aWNhbGx5XHJcbiAgICBjb25zdCB7IHRpbGVTaXplIH0gPSB0aGlzLmNvbmZpZ0RhdGE7XHJcbiAgICBjb25zdCB3aWR0aCA9IHRpbGVTaXplICogMjtcclxuICAgIGNvbnN0IGhlaWdodCA9IHRpbGVTaXplO1xyXG4gICAgXHJcbiAgICAvLyBDaGVjayBpZiB0ZXh0dXJlIGFscmVhZHkgZXhpc3RzLCBkZXN0cm95IGl0IGZpcnN0XHJcbiAgICBpZiAodGhpcy50ZXh0dXJlcy5leGlzdHMoXCJ0aWxlc2hlZXRcIikpIHtcclxuICAgICAgdGhpcy50ZXh0dXJlcy5yZW1vdmUoXCJ0aWxlc2hlZXRcIik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IHNoZWV0ID0gdGhpcy50ZXh0dXJlcy5jcmVhdGVDYW52YXMoXCJ0aWxlc2hlZXRcIiwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICBpZiAoIXNoZWV0KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgY2FudmFzIHRleHR1cmUgJ3RpbGVzaGVldCdcIik7XHJcbiAgICB9XHJcbiAgICBjb25zdCBjdHggPSBzaGVldC5nZXRDb250ZXh0KCk7XHJcbiAgICBpZiAoIWN0eCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2V0IDJEIHJlbmRlcmluZyBjb250ZXh0IGZyb20gY2FudmFzICd0aWxlc2hlZXQnXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdyYXNzIHRpbGUgKGluZGV4IDApXHJcbiAgICBjdHguZmlsbFN0eWxlID0gXCIjMmQ2YTRmXCI7XHJcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgdGlsZVNpemUsIHRpbGVTaXplKTtcclxuICAgIC8vIHNwcmlua2xlIGRvdHNcclxuICAgIGN0eC5maWxsU3R5bGUgPSBcIiM0MDkxNmNcIjtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzA7IGkrKykge1xyXG4gICAgICBjb25zdCB4ID0gTWF0aC5yYW5kb20oKSAqICh0aWxlU2l6ZSAtIDIpO1xyXG4gICAgICBjb25zdCB5ID0gTWF0aC5yYW5kb20oKSAqICh0aWxlU2l6ZSAtIDIpO1xyXG4gICAgICBjdHguZmlsbFJlY3QoeCwgeSwgMiwgMik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gV2FsbCB0aWxlIChpbmRleCAxKVxyXG4gICAgY3R4LmZpbGxTdHlsZSA9IFwiIzZjNzU3ZFwiO1xyXG4gICAgY3R4LmZpbGxSZWN0KHRpbGVTaXplLCAwLCB0aWxlU2l6ZSwgdGlsZVNpemUpO1xyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gXCIjNDk1MDU3XCI7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRpbGVTaXplOyBpICs9IDQpIHtcclxuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICBjdHgubW92ZVRvKHRpbGVTaXplLCBpICsgMC41KTtcclxuICAgICAgY3R4LmxpbmVUbyh0aWxlU2l6ZSAqIDIsIGkgKyAwLjUpO1xyXG4gICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hlZXQucmVmcmVzaCgpO1xyXG5cclxuICAgIC8vIEdlbmVyYXRlIGEgcGxheWVyIHRleHR1cmUgKGNpcmNsZSlcclxuICAgIGlmICh0aGlzLnRleHR1cmVzLmV4aXN0cyhcInBsYXllclwiKSkge1xyXG4gICAgICB0aGlzLnRleHR1cmVzLnJlbW92ZShcInBsYXllclwiKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGcgPSB0aGlzLm1ha2UuZ3JhcGhpY3MoeyB4OiAwLCB5OiAwIH0pO1xyXG4gICAgZy5maWxsU3R5bGUoMHhmZmQxNjYsIDEpO1xyXG4gICAgZy5maWxsQ2lyY2xlKHRpbGVTaXplIC8gMiwgdGlsZVNpemUgLyAyLCB0aWxlU2l6ZSAqIDAuNCk7XHJcbiAgICBnLmxpbmVTdHlsZSgyLCAweDA3M2I0YywgMSk7XHJcbiAgICBnLnN0cm9rZUNpcmNsZSh0aWxlU2l6ZSAvIDIsIHRpbGVTaXplIC8gMiwgdGlsZVNpemUgKiAwLjQpO1xyXG4gICAgZy5nZW5lcmF0ZVRleHR1cmUoXCJwbGF5ZXJcIiwgdGlsZVNpemUsIHRpbGVTaXplKTtcclxuICAgIGcuZGVzdHJveSgpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlKCkge1xyXG4gICAgY29uc3QgeyB0aWxlU2l6ZSwgbWFwV2lkdGgsIG1hcEhlaWdodCB9ID0gdGhpcy5jb25maWdEYXRhO1xyXG4gICAgdGhpcy50aWxlU2l6ZVB4ID0gdGlsZVNpemU7XHJcbiAgICB0aGlzLm1hcFdpZHRoVGlsZXMgPSBtYXBXaWR0aDtcclxuICAgIHRoaXMubWFwSGVpZ2h0VGlsZXMgPSBtYXBIZWlnaHQ7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGEgYmxhbmsgdGlsZW1hcCBhbmQgYSBkeW5hbWljIGxheWVyIHVzaW5nIG91ciBnZW5lcmF0ZWQgc3ByaXRlc2hlZXRcclxuICAgIGNvbnN0IG1hcCA9IHRoaXMubWFrZS50aWxlbWFwKHtcclxuICAgICAgdGlsZVdpZHRoOiB0aWxlU2l6ZSxcclxuICAgICAgdGlsZUhlaWdodDogdGlsZVNpemUsXHJcbiAgICAgIHdpZHRoOiBtYXBXaWR0aCxcclxuICAgICAgaGVpZ2h0OiBtYXBIZWlnaHQsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHRpbGVzZXQgPSBtYXAuYWRkVGlsZXNldEltYWdlKFxyXG4gICAgICBcInRpbGVzXCIsXHJcbiAgICAgIFwidGlsZXNoZWV0XCIsXHJcbiAgICAgIHRpbGVTaXplLFxyXG4gICAgICB0aWxlU2l6ZSxcclxuICAgICAgMCxcclxuICAgICAgMCxcclxuICAgICk7XHJcbiAgICBpZiAoIXRpbGVzZXQpIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgdGlsZXNldCBmcm9tIHRpbGVzaGVldFwiKTtcclxuICAgIGNvbnN0IGxheWVyID0gbWFwLmNyZWF0ZUJsYW5rTGF5ZXIoXCJncm91bmRcIiwgdGlsZXNldCwgMCwgMCk7XHJcbiAgICBpZiAoIWxheWVyKSB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gY3JlYXRlIGJsYW5rIGdyb3VuZCBsYXllclwiKTtcclxuICAgIHRoaXMuZ3JvdW5kTGF5ZXIgPSBsYXllcjtcclxuXHJcbiAgICAvLyBGaWxsIGdyb3VuZCAoaW5kZXggMCkgYW5kIGNhcnZlIHdhbGxzIChpbmRleCAxKSBhbG9uZyB0aGUgYm9yZGVyICsgYSBmZXcgcmFuZG9tIG9ic3RhY2xlc1xyXG4gICAgdGhpcy5ncm91bmRMYXllci5maWxsKDAsIDAsIDAsIG1hcFdpZHRoLCBtYXBIZWlnaHQpO1xyXG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCBtYXBXaWR0aDsgeCsrKSB7XHJcbiAgICAgIHRoaXMuZ3JvdW5kTGF5ZXIucHV0VGlsZUF0KDEsIHgsIDApO1xyXG4gICAgICB0aGlzLmdyb3VuZExheWVyLnB1dFRpbGVBdCgxLCB4LCBtYXBIZWlnaHQgLSAxKTtcclxuICAgIH1cclxuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgbWFwSGVpZ2h0OyB5KyspIHtcclxuICAgICAgdGhpcy5ncm91bmRMYXllci5wdXRUaWxlQXQoMSwgMCwgeSk7XHJcbiAgICAgIHRoaXMuZ3JvdW5kTGF5ZXIucHV0VGlsZUF0KDEsIG1hcFdpZHRoIC0gMSwgeSk7XHJcbiAgICB9XHJcbiAgICAvLyByYW5kb20gb2JzdGFjbGVzXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1hdGguZmxvb3IobWFwV2lkdGggKiBtYXBIZWlnaHQgKiAwLjA1KTsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHJ4ID0gUGhhc2VyLk1hdGguQmV0d2VlbigxLCBtYXBXaWR0aCAtIDIpO1xyXG4gICAgICBjb25zdCByeSA9IFBoYXNlci5NYXRoLkJldHdlZW4oMSwgbWFwSGVpZ2h0IC0gMik7XHJcbiAgICAgIHRoaXMuZ3JvdW5kTGF5ZXIucHV0VGlsZUF0KDEsIHJ4LCByeSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRW5hYmxlIGNvbGxpc2lvbnMgZm9yIHdhbGwgdGlsZXMgKGluZGV4IDEpXHJcbiAgICB0aGlzLmdyb3VuZExheWVyLnNldENvbGxpc2lvbigxLCB0cnVlKTtcclxuXHJcbiAgICAvLyBQbGF5ZXIgc2V0dXBcclxuICAgIGNvbnN0IHN0YXJ0WCA9IHRoaXMuY29uZmlnRGF0YS5pbml0aWFsWCA/PyB0aWxlU2l6ZSAqIDI7XHJcbiAgICBjb25zdCBzdGFydFkgPSB0aGlzLmNvbmZpZ0RhdGEuaW5pdGlhbFkgPz8gdGlsZVNpemUgKiAyO1xyXG4gICAgdGhpcy5wbGF5ZXIgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZShzdGFydFgsIHN0YXJ0WSwgXCJwbGF5ZXJcIik7XHJcbiAgICB0aGlzLnBsYXllci5zZXREZXB0aCgxMCk7XHJcbiAgICB0aGlzLnBsYXllci5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcblxyXG4gICAgLy8gQ2FtZXJhIGFuZCB3b3JsZCBib3VuZHNcclxuICAgIGNvbnN0IHdvcmxkV2lkdGggPSBtYXBXaWR0aCAqIHRpbGVTaXplO1xyXG4gICAgY29uc3Qgd29ybGRIZWlnaHQgPSBtYXBIZWlnaHQgKiB0aWxlU2l6ZTtcclxuICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEJvdW5kcygwLCAwLCB3b3JsZFdpZHRoLCB3b3JsZEhlaWdodCk7XHJcbiAgICB0aGlzLmNhbWVyYXMubWFpbi5zdGFydEZvbGxvdyh0aGlzLnBsYXllciwgdHJ1ZSwgMC4xLCAwLjEpO1xyXG4gICAgdGhpcy5waHlzaWNzLndvcmxkLnNldEJvdW5kcygwLCAwLCB3b3JsZFdpZHRoLCB3b3JsZEhlaWdodCk7XHJcblxyXG4gICAgLy8gQ29sbGlkZSBwbGF5ZXIgd2l0aCB3YWxsc1xyXG4gICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnBsYXllciwgdGhpcy5ncm91bmRMYXllcik7XHJcblxyXG4gICAgLy8gSW5wdXRcclxuICAgIHRoaXMuY3Vyc29ycyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQ/LmNyZWF0ZUN1cnNvcktleXMoKTtcclxuICAgIHRoaXMud2FzZCA9IHRoaXMuaW5wdXQua2V5Ym9hcmQ/LmFkZEtleXMoe1xyXG4gICAgICBXOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuVyxcclxuICAgICAgQTogUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkEsXHJcbiAgICAgIFM6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5TLFxyXG4gICAgICBEOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRCxcclxuICAgIH0pIGFzIFJlY29yZDxcIldcIiB8IFwiQVwiIHwgXCJTXCIgfCBcIkRcIiwgUGhhc2VyLklucHV0LktleWJvYXJkLktleT4gfCB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLmVudGVyS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZD8uYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FTlRFUik7XHJcblxyXG5cclxuICAgIC8vIE11bHRpcGxheWVyIHNvY2tldCAoa2VwdCBmcm9tIHlvdXIgb3JpZ2luYWwpXHJcbiAgICB0aGlzLmluaXRNdWx0aXBsYXllcigpO1xyXG5cclxuICAgIC8vIEVudmlyb25tZW50IG92ZXJsYXlcclxuICAgIHRoaXMuZW52T3ZlcmxheSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB0aGlzLnNjYWxlLndpZHRoLCB0aGlzLnNjYWxlLmhlaWdodCwgMHhmZmZmZmYsIDAuMDgpLnNldE9yaWdpbigwKS5zZXRTY3JvbGxGYWN0b3IoMCkuc2V0RGVwdGgoOTAwKTtcclxuXHJcbiAgICAvLyBQaGFzZSAyIG1hbmFnZXJzXHJcbiAgICB0aGlzLnVpID0gbmV3IFVJTWFuYWdlcih0aGlzIGFzIHVua25vd24gYXMgUGhhc2VyLlNjZW5lKTtcclxuICAgIFxyXG4gICAgLy8gSW5pdGlhbGl6ZSBzaW1wbGVyIG11bHRpcGxheWVyIHN5c3RlbVxyXG4gICAgdGhpcy5tcCA9IG5ldyBNdWx0aXBsYXllckhhbmRsZXIoKTtcclxuICAgIHRoaXMub3RoZXJQbGF5ZXJzID0gbmV3IE90aGVyUGxheWVycyh0aGlzKTtcclxuICAgIFxyXG4gICAgLy8gSm9pbiBnYW1lIHdpdGggaW5pdGlhbCBwb3NpdGlvblxyXG4gICAgY29uc3Qgd2FsbGV0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWxnb3JhbmRfd2FsbGV0X2FkZHJlc3MnKSA6IG51bGw7XHJcbiAgICBpZiAod2FsbGV0KSB7XHJcbiAgICAgIHRoaXMubXAuam9pbkdhbWUod2FsbGV0LCBzdGFydFgsIHN0YXJ0WSwgXCJkZWZhdWx0XCIpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBTdWJzY3JpYmUgdG8gcGxheWVyIHVwZGF0ZXNcclxuICAgIHRoaXMubXAub25QbGF5ZXJzVXBkYXRlKChwbGF5ZXJzKSA9PiB7XHJcbiAgICAgIHRoaXMub3RoZXJQbGF5ZXJzPy51cGRhdGVQbGF5ZXJzKHBsYXllcnMpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIEluaXRpYWxpemUgWFAgTWFuYWdlciB3aXRoIGN1cnJlbnQgWFAgZnJvbSB0cmFpbmVyIGRhdGFcclxuICAgIGNvbnN0IGluaXRpYWxYUCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RyYWluZXJfZXhwJykgfHwgJzAnLCAxMCkgOiAwO1xyXG4gICAgdGhpcy54cE1hbmFnZXIgPSBuZXcgWFBNYW5hZ2VyKGluaXRpYWxYUCk7XHJcbiAgICBcclxuICAgIC8vIExpc3RlbiBmb3IgWFAgdXBkYXRlc1xyXG4gICAgWFBNYW5hZ2VyLm9uWFBVcGRhdGUoKGV2ZW50OiBYUFVwZGF0ZUV2ZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuaGFuZGxlWFBVcGRhdGUoZXZlbnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSG9vayBUcmFuc2FjdGlvbk1hbmFnZXIgdG8gd2FsbGV0IGV2ZW50c1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIC8vIExpc3RlbiBmb3IgdHJhbnNhY3Rpb24gY29uZmlybWF0aW9ucyBmcm9tIHdhbGxldFxyXG4gICAgICBjb25zdCB0eEhhbmRsZXIgPSBhc3luYyAoZTogYW55KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdHggPSBlLmRldGFpbDtcclxuICAgICAgICBpZiAodHg/LnR4SWQpIHtcclxuICAgICAgICAgIGNvbnN0IHdhbGxldCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhbGdvcmFuZF93YWxsZXRfYWRkcmVzcycpO1xyXG4gICAgICAgICAgaWYgKHdhbGxldCkge1xyXG4gICAgICAgICAgICBhd2FpdCBUcmFuc2FjdGlvbk1hbmFnZXIubG9nVHJhbnNhY3Rpb24oe1xyXG4gICAgICAgICAgICAgIHdhbGxldCxcclxuICAgICAgICAgICAgICB0eElkOiB0eC50eElkLFxyXG4gICAgICAgICAgICAgIHR5cGU6IHR4LnR5cGUgfHwgJ1RSQU5TQUNUSU9OJyxcclxuICAgICAgICAgICAgICBhc3NldDogdHguYXNzZXQgfHwgJ1lva2FpJyxcclxuICAgICAgICAgICAgICBtZXRhOiB0eC5tZXRhXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnVpPy50b2FzdFRvcCgnVHJhbnNhY3Rpb24gY29uZmlybWVkJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigneW9rYWktdHJhbnNhY3Rpb24tbG9nZ2VkJywgdHhIYW5kbGVyKTtcclxuICAgICAgdGhpcy5ldmVudHMub25jZShQaGFzZXIuU2NlbmVzLkV2ZW50cy5TSFVURE9XTiwgKCkgPT4ge1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd5b2thaS10cmFuc2FjdGlvbi1sb2dnZWQnLCB0eEhhbmRsZXIpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNaW5pbWFwIG92ZXJsYXkgKG5vIGdyaWQgbGluZXMpXHJcbiAgICB0aGlzLmNyZWF0ZU1pbmlNYXAoKTtcclxuXHJcbiAgICAvLyBIVUQgKExldmVsICsgWFApXHJcbiAgICB0aGlzLmNyZWF0ZUhVRCgpO1xyXG5cclxuICAgIC8vIFpvbmUtYXdhcmUgc3Bhd24gbWFuYWdlciB3aXRoIHRyYWluZXIgbGV2ZWxcclxuICAgIGNvbnN0IHRyYWluZXJMZXZlbCA9IHRoaXMuY29uZmlnRGF0YS50cmFpbmVyTGV2ZWwgfHwgMTtcclxuICAgIHRoaXMuc3Bhd25NYW5hZ2VyID0gbmV3IFNwYXduTWFuYWdlcih0aGlzLCB0aWxlU2l6ZSwgbWFwV2lkdGgsIG1hcEhlaWdodCwgdHJhaW5lckxldmVsKTtcclxuICAgIHRoaXMuc3Bhd25NYW5hZ2VyLm9uKFwic3Bhd25lZFwiLCAocmVjOiBhbnkpID0+IHtcclxuICAgICAgdGhpcy5hZGRNaW5pTWFya2VyKHJlYy5rZXksIHJlYy5wb3NpdGlvbi54LCByZWMucG9zaXRpb24ueSk7XHJcbiAgICAgIHRoaXMuc3RhdHVzT25jZShgQSB3aWxkICR7Y2FwaXRhbGl6ZShyZWMubmFtZSl9IGFwcGVhcmVkIG5lYXIgeW91IWAsIDgwMCk7XHJcbiAgICAgIHRoaXMuY29uZmlnRGF0YS5vblBva2Vtb25TcG90dGVkPy4oeyBuYW1lOiByZWMubmFtZSwgc3ByaXRlVXJsOiByZWMuc3ByaXRlVXJsLCBwb2tlSWQ6IHJlYy5wb2tlSWQgfSk7XHJcbiAgICAgIHRoaXMucHVzaFNwYXduc1RvVUkoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5zcGF3bk1hbmFnZXIub24oXCJkZXNwYXduZWRcIiwgKF9rZXk6IHN0cmluZykgPT4ge1xyXG4gICAgICB0aGlzLnJlbW92ZU1pbmlNYXJrZXIoX2tleSk7XHJcbiAgICAgIGlmICh0aGlzLnNwYXduTWFuYWdlciEuZ2V0QWN0aXZlU3Bhd25zKCkubGVuZ3RoID09PSAwKSB0aGlzLmNvbmZpZ0RhdGEub25Qb2tlbW9uQ2xlYXJlZD8uKCk7XHJcbiAgICAgIHRoaXMucHVzaFNwYXduc1RvVUkoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5zcGF3bk1hbmFnZXIub24oXCJzcGF3bkNsaWNrZWRcIiwgYXN5bmMgKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGF3YWl0IHRoaXMuc3RhcnRCYXR0bGVGcm9tS2V5KGtleSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuc3Bhd25NYW5hZ2VyLm9uKFwiem9uZUNoYW5nZWRcIiwgKHo6IGFueSkgPT4ge1xyXG4gICAgICB0aGlzLmhpZ2hsaWdodE1pbmlab25lKCk7XHJcbiAgICAgIGNvbnN0IGN6eCA9ICh6LmNvbCAqIFpPTkVfVElMRVMgKyBaT05FX1RJTEVTIC8gMikgKiB0aWxlU2l6ZTtcclxuICAgICAgY29uc3QgY3p5ID0gKHoucm93ICogWk9ORV9USUxFUyArIFpPTkVfVElMRVMgLyAyKSAqIHRpbGVTaXplO1xyXG4gICAgICBjb25zdCBjYW0gPSB0aGlzLmNhbWVyYXMubWFpbjtcclxuICAgICAgY2FtLnN0b3BGb2xsb3coKTtcclxuICAgICAgY2FtLnBhbihjengsIGN6eSwgMzAwLCBcIlNpbmUuZWFzZUluT3V0XCIsIHRydWUsIChjYW1lcmE6IGFueSwgcHJvZ3Jlc3M6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmIChwcm9ncmVzcyA9PT0gMSkgY2FtLnN0YXJ0Rm9sbG93KHRoaXMucGxheWVyLCB0cnVlLCAwLjEsIDAuMSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICAvLyBhcHBseSBiaW9tZSBlbnZpcm9ubWVudCB0aW50XHJcbiAgICAgIGNvbnN0IHpvbmVzID0gZ2VuZXJhdGVab25lcyhNYXRoLmZsb29yKHRoaXMubWFwV2lkdGhUaWxlcyAvIFpPTkVfVElMRVMpLCBNYXRoLmZsb29yKHRoaXMubWFwSGVpZ2h0VGlsZXMgLyBaT05FX1RJTEVTKSk7XHJcbiAgICAgIGNvbnN0IG1ldGEgPSB6b25lcy5maW5kKChxKSA9PiBxLmlkID09PSBgJHt6LmNvbH0sJHt6LnJvd31gKTtcclxuICAgICAgaWYgKG1ldGEpIHRoaXMuYXBwbHlCaW9tZShtZXRhLmJpb21lIGFzIEJpb21lSWQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmdlbmVyYXRlU3RydWN0dXJlcygpO1xyXG4gICAgdGhpcy5zcGF3bk1hbmFnZXIuc3RhcnQoKTtcclxuXHJcbiAgICAvLyBCYWNrZW5kIHNwYXduIHBvbGxpbmdcclxuICAgIGNvbnN0IGppdHRlciA9IFBoYXNlci5NYXRoLkJldHdlZW4oMjAwMDAsIDQwMDAwKTtcclxuICAgIHRoaXMuc3Bhd25Qb2xsID0gdGhpcy50aW1lLmFkZEV2ZW50KHsgZGVsYXk6IGppdHRlciwgbG9vcDogdHJ1ZSwgY2FsbGJhY2s6ICgpID0+IHRoaXMucG9sbEJhY2tlbmRTcGF3bnMoKSB9KTtcclxuICAgIC8vIEtpY2sgZmlyc3QgcG9sbCBhZnRlciBhIHNob3J0IGRlbGF5XHJcbiAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTUwMCwgKCkgPT4gdGhpcy5wb2xsQmFja2VuZFNwYXducygpKTtcclxuXHJcbiAgICAvLyBMb2FkIHRyYWluZXIgZGF0YSBpZiB3YWxsZXQgY29ubmVjdGVkXHJcbiAgICB0aGlzLmluaXRUcmFpbmVyUGVyc2lzdGVuY2UoKTtcclxuXHJcbiAgICAvLyBTdGFydCBuZWFyYnkgdHJhaW5lcnMgcG9sbGluZy9oZWFydGJlYXQgZXZlcnkgMTBzXHJcbiAgICB0aGlzLnN0YXJ0TmVhcmJ5UG9sbGluZygpO1xyXG5cclxuICAgIC8vIExpc3RlbiBmb3IgY2FwdHVyZSBhdHRlbXB0cyBmcm9tIFJlYWN0IG92ZXJsYXlcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBjb25zdCBjYXB0dXJlSGFuZGxlciA9IChlOiBhbnkpID0+IHtcclxuICAgICAgICBjb25zdCBzcGF3biA9IGUuZGV0YWlsPy5zcGF3bjtcclxuICAgICAgICBpZiAoc3Bhd24pIHtcclxuICAgICAgICAgIHRoaXMucGVyZm9ybUNhcHR1cmUoc3Bhd24pO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3lva2FpLWNhcHR1cmUtYXR0ZW1wdCcsIGNhcHR1cmVIYW5kbGVyKTtcclxuICAgICAgdGhpcy5ldmVudHMub25jZShQaGFzZXIuU2NlbmVzLkV2ZW50cy5TSFVURE9XTiwgKCkgPT4ge1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd5b2thaS1jYXB0dXJlLWF0dGVtcHQnLCBjYXB0dXJlSGFuZGxlcik7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gTGlzdGVuIGZvciB6b25lIHNwYXducyBmcm9tIHNvY2tldFxyXG4gICAgICBjb25zdCB6b25lU3Bhd25zSGFuZGxlciA9IChlOiBhbnkpID0+IHtcclxuICAgICAgICBjb25zdCBzcGF3bnMgPSBlLmRldGFpbD8uc3Bhd25zIHx8IFtdO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlWm9uZVNwYXducyhzcGF3bnMpO1xyXG4gICAgICB9O1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigneW9rYWktem9uZS1zcGF3bnMnLCB6b25lU3Bhd25zSGFuZGxlcik7XHJcbiAgICAgIHRoaXMuZXZlbnRzLm9uY2UoUGhhc2VyLlNjZW5lcy5FdmVudHMuU0hVVERPV04sICgpID0+IHtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigneW9rYWktem9uZS1zcGF3bnMnLCB6b25lU3Bhd25zSGFuZGxlcik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEF1dG9zYXZlIGV2ZXJ5IH4yLjUgbWludXRlc1xyXG4gICAgdGhpcy5hdXRvc2F2ZVRpbWVyID0gdGhpcy50aW1lLmFkZEV2ZW50KHsgZGVsYXk6IDE1MDAwMCwgbG9vcDogdHJ1ZSwgY2FsbGJhY2s6ICgpID0+IHRoaXMuYXV0b3NhdmUoXCJpbnRlcnZhbFwiKSB9KTtcclxuXHJcbiAgICAvLyBTYXZlIG9uIHVubG9hZFxyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSAoKSA9PiB7IHRoaXMuYXV0b3NhdmUoXCJ1bmxvYWRcIik7IH07XHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBoYW5kbGVyKTtcclxuICAgICAgdGhpcy5ldmVudHMub25jZShQaGFzZXIuU2NlbmVzLkV2ZW50cy5TSFVURE9XTiwgKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGhhbmRsZXIpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZSgpIHtcclxuICAgIGlmICghdGhpcy5wbGF5ZXIgfHwgIXRoaXMucGxheWVyLmJvZHkpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBzcGVlZDogbnVtYmVyID0gdGhpcy5wbGF5ZXJTcGVlZDtcclxuICAgIGxldCB2eCA9IDA7XHJcbiAgICBsZXQgdnkgPSAwO1xyXG5cclxuICAgIC8vIEFycm93IGtleXNcclxuICAgIGlmICh0aGlzLmN1cnNvcnM/LmxlZnQ/LmlzRG93bikgdnggLT0gMTtcclxuICAgIGlmICh0aGlzLmN1cnNvcnM/LnJpZ2h0Py5pc0Rvd24pIHZ4ICs9IDE7XHJcbiAgICBpZiAodGhpcy5jdXJzb3JzPy51cD8uaXNEb3duKSB2eSAtPSAxO1xyXG4gICAgaWYgKHRoaXMuY3Vyc29ycz8uZG93bj8uaXNEb3duKSB2eSArPSAxO1xyXG5cclxuICAgIC8vIFdBU0RcclxuICAgIGlmICh0aGlzLndhc2Q/LkE/LmlzRG93bikgdnggLT0gMTtcclxuICAgIGlmICh0aGlzLndhc2Q/LkQ/LmlzRG93bikgdnggKz0gMTtcclxuICAgIGlmICh0aGlzLndhc2Q/Llc/LmlzRG93bikgdnkgLT0gMTtcclxuICAgIGlmICh0aGlzLndhc2Q/LlM/LmlzRG93bikgdnkgKz0gMTtcclxuXHJcbiAgICBjb25zdCBib2R5ID0gdGhpcy5wbGF5ZXIuYm9keSBhcyBQaGFzZXIuUGh5c2ljcy5BcmNhZGUuQm9keTtcclxuXHJcbiAgICBpZiAodnggPT09IDAgJiYgdnkgPT09IDApIHtcclxuICAgICAgYm9keS5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGxlbiA9IE1hdGguaHlwb3QodngsIHZ5KSB8fCAxO1xyXG4gICAgICBib2R5LnNldFZlbG9jaXR5KCh2eCAvIGxlbikgKiBzcGVlZCwgKHZ5IC8gbGVuKSAqIHNwZWVkKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBLZWVwIFVJICsgbWluaW1hcCBwaW5uZWRcclxuICAgIGlmICh0aGlzLm1pbmkpIHRoaXMubWluaS5zZXRTY3JvbGxGYWN0b3IoMCk7XHJcblxyXG4gICAgLy8gVGhyb3R0bGVkIHBvc2l0aW9uIHN5bmMgKG11bHRpcGxheWVyKVxyXG4gICAgY29uc3Qgbm93ID0gdGhpcy50aW1lLm5vdztcclxuICAgIGlmICh0aGlzLnNvY2tldCAmJiBub3cgLSB0aGlzLmxhc3RTZW50ID4gMTAwKSB7XHJcbiAgICAgIHRoaXMuc29ja2V0LmVtaXQoXCJtb3ZlXCIsIHsgeDogdGhpcy5wbGF5ZXIueCwgeTogdGhpcy5wbGF5ZXIueSB9KTtcclxuICAgICAgdGhpcy5sYXN0U2VudCA9IG5vdztcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gU2VuZCBwb3NpdGlvbiB2aWEgc2ltcGxlciBtdWx0aXBsYXllciBoYW5kbGVyXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB3YWxsZXQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhbGdvcmFuZF93YWxsZXRfYWRkcmVzcycpIDogbnVsbDtcclxuICAgICAgaWYgKHdhbGxldCAmJiB0aGlzLm1wKSB7XHJcbiAgICAgICAgdGhpcy5tcC5zZW5kUG9zaXRpb24od2FsbGV0LCB0aGlzLnBsYXllci54LCB0aGlzLnBsYXllci55KTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCB7fVxyXG5cclxuICAgIC8vIEludGVycG9sYXRlIG90aGVyIHBsYXllcnMnIHBvc2l0aW9ucyAobGVnYWN5IHNvY2tldC5pbylcclxuICAgIGNvbnN0IElOVEVSUF9TUEVFRCA9IDAuMTU7IC8vIExlcnAgZmFjdG9yICgwLTEpXHJcbiAgICB0aGlzLm90aGVyUG9zaXRpb25zLmZvckVhY2goKHBvcywgaWQpID0+IHtcclxuICAgICAgY29uc3Qgc3ByaXRlID0gdGhpcy5vdGhlcnMuZ2V0KGlkKTtcclxuICAgICAgaWYgKHNwcml0ZSkge1xyXG4gICAgICAgIC8vIFNtb290aCBpbnRlcnBvbGF0aW9uIHRvd2FyZCB0YXJnZXRcclxuICAgICAgICBwb3MueCA9IFBoYXNlci5NYXRoLkxpbmVhcihwb3MueCwgcG9zLnRhcmdldFgsIElOVEVSUF9TUEVFRCk7XHJcbiAgICAgICAgcG9zLnkgPSBQaGFzZXIuTWF0aC5MaW5lYXIocG9zLnksIHBvcy50YXJnZXRZLCBJTlRFUlBfU1BFRUQpO1xyXG4gICAgICAgIHNwcml0ZS5zZXRQb3NpdGlvbihwb3MueCwgcG9zLnkpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBVcGRhdGUgem9uZSB0cmFja2luZyBmb3Igc3Bhd25zL21pbmltYXBcclxuICAgIHRoaXMuc3Bhd25NYW5hZ2VyPy51cGRhdGVQbGF5ZXJQb3ModGhpcy5wbGF5ZXIueCwgdGhpcy5wbGF5ZXIueSk7XHJcbiAgICBcclxuICAgIC8vIENoZWNrIHNwYXduIHByb3hpbWl0eSBldmVyeSBmcmFtZVxyXG4gICAgdGhpcy5jaGVja1NwYXduUHJveGltaXR5KCk7XHJcblxyXG4gICAgLy8gQmF0dGxlIHdoZW4gbmVhciBhbmQgRW50ZXIgcHJlc3NlZCAoY29tcGF0KVxyXG4gICAgaWYgKHRoaXMuZW50ZXJLZXkgJiYgUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKHRoaXMuZW50ZXJLZXkpKSB7XHJcbiAgICAgIGNvbnN0IG5lYXJlc3QgPSB0aGlzLmdldE5lYXJlc3RBY3RpdmUoNjQpO1xyXG4gICAgICBpZiAobmVhcmVzdCkgdGhpcy5zdGFydEJhdHRsZUZyb21LZXkobmVhcmVzdC5rZXkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIC8vIC0tLS0gVUkgaGVscGVycyAtLS0tXHJcblxyXG4gIHByaXZhdGUgc3RhdHVzT25jZShfdGV4dDogc3RyaW5nLCBjb29sZG93bk1zID0gODAwKSB7XHJcbiAgICBjb25zdCBub3cgPSB0aGlzLnRpbWUubm93O1xyXG4gICAgaWYgKG5vdyAtIHRoaXMubGFzdFN0YXR1c0F0IDwgY29vbGRvd25NcykgcmV0dXJuO1xyXG4gICAgdGhpcy5sYXN0U3RhdHVzQXQgPSBub3c7XHJcbiAgICAvLyBSZWFjdCBzaWRlYmFyIG5vdyBoYW5kbGVzIG1lc3NhZ2luZ1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVIVUQoKSB7XHJcbiAgICBjb25zdCB3ID0gMjIwOyBjb25zdCBoID0gMTQ7XHJcbiAgICAvLyBQbGFjZSBIVUQgYmVsb3cgbWluaW1hcCB0byBhdm9pZCBvdmVybGFwXHJcbiAgICBjb25zdCB5ID0gKHRoaXMubWluaUggfHwgMTYwKSArIDIwO1xyXG4gICAgdGhpcy5odWQgPSB0aGlzLmFkZC5jb250YWluZXIoMTIsIHkpLnNldFNjcm9sbEZhY3RvcigwKS5zZXREZXB0aCgyMDAwKTtcclxuICAgIGNvbnN0IGJnID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGggKyAxNiwgMHgwMDAwMDAsIDAuNSkuc2V0T3JpZ2luKDApO1xyXG4gICAgdGhpcy5odWRCYXJCZyA9IHRoaXMuYWRkLnJlY3RhbmdsZSgxMCwgOCwgdyAtIDIwLCBoLCAweDMzMzMzMywgMSkuc2V0T3JpZ2luKDApO1xyXG4gICAgdGhpcy5odWRCYXJGZyA9IHRoaXMuYWRkLnJlY3RhbmdsZSgxMCwgOCwgMCwgaCwgMHgyZWNjNzEsIDEpLnNldE9yaWdpbigwKTtcclxuICAgIHRoaXMuaHVkVGV4dCA9IHRoaXMuYWRkLnRleHQoMTIsIC04LCAnTHYuMSAwLzEwMCBYUCcsIHsgZm9udFNpemU6ICcxMnB4JywgY29sb3I6ICcjZmZmJyB9KTtcclxuICAgIC8vIE9ubGluZSBwbGF5ZXJzIGNvdW50ZXJcclxuICAgIHRoaXMuaHVkT25saW5lVGV4dCA9IHRoaXMuYWRkLnRleHQodyArIDIwLCAtOCwgJzAgVHJhaW5lcnMgT25saW5lJywgeyBmb250U2l6ZTogJzExcHgnLCBjb2xvcjogJyNhYWEnIH0pO1xyXG4gICAgdGhpcy5odWQuYWRkKFtiZywgdGhpcy5odWRCYXJCZywgdGhpcy5odWRCYXJGZywgdGhpcy5odWRUZXh0ISwgdGhpcy5odWRPbmxpbmVUZXh0IV0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVIVUQobGV2ZWw6IG51bWJlciwgY3VycmVudFhQOiBudW1iZXIsIG5leHRMZXZlbFhQOiBudW1iZXIpIHtcclxuICAgIGNvbnN0IHcgPSAodGhpcy5odWRCYXJCZz8ud2lkdGggfHwgMjAwKTtcclxuICAgIGNvbnN0IHBjdCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIChuZXh0TGV2ZWxYUCA/IGN1cnJlbnRYUCAvIG5leHRMZXZlbFhQIDogMCkpKTtcclxuICAgIFxyXG4gICAgLy8gU21vb3RoIGFuaW1hdGVkIHByb2dyZXNzIGJhclxyXG4gICAgaWYgKHRoaXMuaHVkQmFyRmcpIHtcclxuICAgICAgY29uc3QgdGFyZ2V0V2lkdGggPSBNYXRoLmZsb29yKHcgKiBwY3QpO1xyXG4gICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgIHRhcmdldHM6IHRoaXMuaHVkQmFyRmcsXHJcbiAgICAgICAgd2lkdGg6IHRhcmdldFdpZHRoLFxyXG4gICAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgICAgZWFzZTogJ1Bvd2VyMidcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh0aGlzLmh1ZFRleHQpIHtcclxuICAgICAgdGhpcy5odWRUZXh0LnNldFRleHQoYEx2LiR7bGV2ZWx9ICR7Y3VycmVudFhQfS8ke25leHRMZXZlbFhQfSBYUGApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBpbml0VHJhaW5lclBlcnNpc3RlbmNlKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgd2FsbGV0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWxnb3JhbmRfd2FsbGV0X2FkZHJlc3MnKSA6IG51bGw7XHJcbiAgICAgIGlmICghd2FsbGV0KSByZXR1cm47XHJcbiAgICAgIGNvbnN0IHsgbG9hZFRyYWluZXIsIGF1dG9zYXZlVHJhaW5lciB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi9zcmMvc2VydmljZXMvdHJhaW5lcicpO1xyXG4gICAgICBjb25zdCB7IGZsdXNoUXVldWUgfSA9IGF3YWl0IGltcG9ydCgnLi4vLi4vc3JjL3NlcnZpY2VzL3NhdmVRdWV1ZScpO1xyXG4gICAgICAvLyB0cnkgdG8gZmx1c2ggYW55IHF1ZXVlZCBzYXZlcyBmaXJzdFxyXG4gICAgICB0cnkgeyBhd2FpdCBmbHVzaFF1ZXVlKCk7IH0gY2F0Y2gge31cclxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgbG9hZFRyYWluZXIod2FsbGV0KS5jYXRjaCgoKSA9PiBudWxsKTtcclxuICAgICAgaWYgKHJlcz8udHJhaW5lcikge1xyXG4gICAgICAgIGNvbnN0IHQgPSByZXMudHJhaW5lcjtcclxuICAgICAgICBpZiAodD8ubG9jYXRpb24pIHtcclxuICAgICAgICAgIHRoaXMucGxheWVyLnNldFBvc2l0aW9uKHQubG9jYXRpb24ueCB8fCB0aGlzLnBsYXllci54LCB0LmxvY2F0aW9uLnkgfHwgdGhpcy5wbGF5ZXIueSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgdC5sZXZlbCA9PT0gJ251bWJlcicpIHRoaXMuY29uZmlnRGF0YS50cmFpbmVyTGV2ZWwgPSB0LmxldmVsO1xyXG4gICAgICAgIHRoaXMudXBkYXRlSFVEKHQubGV2ZWwgfHwgMSwgdC5jdXJyZW50WFAgfHwgMCwgdC5uZXh0TGV2ZWxYUCB8fCAxMDApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgWFBNYW5hZ2VyIHdpdGggbG9hZGVkIFhQXHJcbiAgICAgICAgaWYgKHRoaXMueHBNYW5hZ2VyICYmIHQueHAgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgdGhpcy54cE1hbmFnZXIuc2V0WFAodC54cCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuc2hvd1NhdmVkVG9hc3QoJ1RyYWluZXIgZGF0YSBsb2FkZWQgc3VjY2Vzc2Z1bGx5IScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGNyZWF0ZSBpbml0aWFsIHNuYXBzaG90XHJcbiAgICAgICAgYXdhaXQgYXV0b3NhdmVUcmFpbmVyKHsgd2FsbGV0QWRkcmVzczogd2FsbGV0LCBsZXZlbDogMSwgeHA6IDAsIGxvY2F0aW9uOiB7IHg6IHRoaXMucGxheWVyLngsIHk6IHRoaXMucGxheWVyLnksIGJpb21lOiAnZ3Jhc3NsYW5kJyB9IH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBMaXN0ZW4gZm9yIFhQIHVwZGF0ZXMgZnJvbSBiYXR0bGVcclxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IChlOiBFdmVudCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSBlIGFzIEN1c3RvbUV2ZW50PFhQVXBkYXRlRXZlbnQ+O1xyXG4gICAgICAgICAgaWYgKGN1c3RvbUV2ZW50LmRldGFpbCkge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVhQVXBkYXRlKGN1c3RvbUV2ZW50LmRldGFpbCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndHJhaW5lci14cC11cGRhdGUnLCBoYW5kbGVyKTtcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbmNlKFBoYXNlci5TY2VuZXMuRXZlbnRzLlNIVVRET1dOLCAoKSA9PiB7XHJcbiAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhaW5lci14cC11cGRhdGUnLCBoYW5kbGVyKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCB7fVxyXG4gIH1cclxuICBcclxuICBwcml2YXRlIGhhbmRsZVhQVXBkYXRlKGV2ZW50OiBYUFVwZGF0ZUV2ZW50KSB7XHJcbiAgICAvLyBVcGRhdGUgSFVEXHJcbiAgICB0aGlzLnVwZGF0ZUhVRChldmVudC5uZXdMZXZlbCwgZXZlbnQuY3VycmVudFhQLCBldmVudC5uZXh0TGV2ZWxYUCk7XHJcbiAgICBcclxuICAgIC8vIFBlcnNpc3QgWFBcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndHJhaW5lcl9leHAnLCBldmVudC5uZXdYUC50b1N0cmluZygpKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVXBkYXRlIGNvbmZpZ1xyXG4gICAgdGhpcy5jb25maWdEYXRhLnRyYWluZXJMZXZlbCA9IGV2ZW50Lm5ld0xldmVsO1xyXG4gICAgXHJcbiAgICAvLyBTaG93IGZsb2F0aW5nIFhQIGFuaW1hdGlvblxyXG4gICAgdGhpcy5zaG93RmxvYXRpbmdYUCh0aGlzLnBsYXllci54LCB0aGlzLnBsYXllci55IC0gMjAsIGArJHtldmVudC54cEdhaW5lZH0gWFBgKTtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIGxldmVsIHVwXHJcbiAgICBpZiAoZXZlbnQubGV2ZWxlZFVwKSB7XHJcbiAgICAgIHRoaXMudWk/LnRvYXN0VG9wKGDwn46JIExldmVsIFVwISBZb3UgcmVhY2hlZCBMZXZlbCAke2V2ZW50Lm5ld0xldmVsfSFgKTtcclxuICAgICAgdGhpcy5zaG93RmxvYXRpbmdYUCh0aGlzLnBsYXllci54LCB0aGlzLnBsYXllci55IC0gNDAsICdMRVZFTCBVUCEnLCAweGZmZmYwMCk7XHJcbiAgICAgIHRoaXMucGxheUxldmVsVXBFZmZlY3QoKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEJyb2FkY2FzdCBsZXZlbCB1cCBldmVudFxyXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3lva2FpLWxldmVsLXVwJywgeyBkZXRhaWw6IGV2ZW50IH0pKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBCcm9hZGNhc3QgWFAgdXBkYXRlIGV2ZW50XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCd5b2thaS14cC11cGRhdGUnLCB7IGRldGFpbDogZXZlbnQgfSkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwbGF5TGV2ZWxVcEVmZmVjdCgpIHtcclxuICAgIC8vIFBhcnRpY2xlIGJ1cnN0IGVmZmVjdCBhcm91bmQgcGxheWVyXHJcbiAgICBjb25zdCBwYXJ0aWNsZXMgPSB0aGlzLmFkZC5wYXJ0aWNsZXModGhpcy5wbGF5ZXIueCwgdGhpcy5wbGF5ZXIueSwgJ3BsYXllcicsIHtcclxuICAgICAgc3BlZWQ6IHsgbWluOiA1MCwgbWF4OiAxNTAgfSxcclxuICAgICAgc2NhbGU6IHsgc3RhcnQ6IDAuMywgZW5kOiAwIH0sXHJcbiAgICAgIGxpZmVzcGFuOiA2MDAsXHJcbiAgICAgIHF1YW50aXR5OiAyMCxcclxuICAgICAgdGludDogWzB4ZmZmZjAwLCAweGZmZDcwMCwgMHhmZmE1MDBdXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDYwMCwgKCkgPT4ge1xyXG4gICAgICBwYXJ0aWNsZXMuZGVzdHJveSgpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIEZsYXNoIGVmZmVjdFxyXG4gICAgY29uc3QgZmxhc2ggPSB0aGlzLmFkZC5yZWN0YW5nbGUodGhpcy5wbGF5ZXIueCwgdGhpcy5wbGF5ZXIueSwgMTAwLCAxMDAsIDB4ZmZmZjAwLCAwLjMpO1xyXG4gICAgZmxhc2guc2V0RGVwdGgoMzAwMSk7XHJcbiAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICB0YXJnZXRzOiBmbGFzaCxcclxuICAgICAgYWxwaGE6IDAsXHJcbiAgICAgIHNjYWxlOiAyLFxyXG4gICAgICBkdXJhdGlvbjogNTAwLFxyXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiBmbGFzaC5kZXN0cm95KClcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBhdXRvc2F2ZShyZWFzb246IHN0cmluZykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgd2FsbGV0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWxnb3JhbmRfd2FsbGV0X2FkZHJlc3MnKSA6IG51bGw7XHJcbiAgICAgIGlmICghd2FsbGV0KSByZXR1cm47XHJcbiAgICAgIGNvbnN0IHsgYXV0b3NhdmVUcmFpbmVyIH0gPSBhd2FpdCBpbXBvcnQoJy4uLy4uL3NyYy9zZXJ2aWNlcy90cmFpbmVyJyk7XHJcbiAgICAgIGNvbnN0IHhwID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHJhaW5lcl9leHAnKSB8fCAnMCcsIDEwKSA6IDA7XHJcbiAgICAgIGF3YWl0IGF1dG9zYXZlVHJhaW5lcih7IHdhbGxldEFkZHJlc3M6IHdhbGxldCwgeHAsIGxldmVsOiB0aGlzLmNvbmZpZ0RhdGEudHJhaW5lckxldmVsIHx8IDEsIGxvY2F0aW9uOiB7IHg6IHRoaXMucGxheWVyLngsIHk6IHRoaXMucGxheWVyLnkgfSB9KTtcclxuICAgICAgdGhpcy5zaG93U2F2ZWRUb2FzdCgnUHJvZ3Jlc3MgU2F2ZWQnKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgLy8gZW5xdWV1ZSBvZmZsaW5lIHNhdmVcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBiYXNlID0gKHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjQwMDAnKSArICcvYXBpL2F1dG9zYXZlJztcclxuICAgICAgICBjb25zdCB7IGVucXVldWVTYXZlIH0gPSBhd2FpdCBpbXBvcnQoJy4uLy4uL3NyYy9zZXJ2aWNlcy9zYXZlUXVldWUnKTtcclxuICAgICAgICBjb25zdCB3YWxsZXQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhbGdvcmFuZF93YWxsZXRfYWRkcmVzcycpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIGF3YWl0IGVucXVldWVTYXZlKHsgdXJsOiBiYXNlLCBtZXRob2Q6ICdQT1NUJywgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLCAuLi4od2FsbGV0ID8geyAneC13YWxsZXQtYWRkcmVzcyc6IHdhbGxldCB9IDoge30pIH0sIGJvZHk6IHsgd2FsbGV0QWRkcmVzczogd2FsbGV0LCBsZXZlbDogdGhpcy5jb25maWdEYXRhLnRyYWluZXJMZXZlbCB8fCAxLCBsb2NhdGlvbjogeyB4OiB0aGlzLnBsYXllci54LCB5OiB0aGlzLnBsYXllci55IH0gfSB9KTtcclxuICAgICAgfSBjYXRjaCB7fVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBwb2xsQmFja2VuZFNwYXducygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGJpb21lID0gdGhpcy5nZXRDdXJyZW50QmlvbWVJZCgpO1xyXG4gICAgICBjb25zdCBsdmwgPSB0aGlzLmNvbmZpZ0RhdGEudHJhaW5lckxldmVsIHx8IDE7XHJcbiAgICAgIC8vIFNpbXBsZSB6b25lIGNhbGN1bGF0aW9uIGZhbGxiYWNrICgxMHgxMCB0aWxlcyBwZXIgem9uZSlcclxuICAgICAgY29uc3Qgem9uZUNvbCA9IE1hdGguZmxvb3IodGhpcy5wbGF5ZXIueCAvICh0aGlzLnRpbGVTaXplUHggKiAxMCkpO1xyXG4gICAgICBjb25zdCB6b25lUm93ID0gTWF0aC5mbG9vcih0aGlzLnBsYXllci55IC8gKHRoaXMudGlsZVNpemVQeCAqIDEwKSk7XHJcbiAgICAgIGNvbnN0IHpvbmVJZCA9IGB6b25lXyR7em9uZUNvbH1fJHt6b25lUm93fWA7XHJcbiAgICAgIFxyXG4gICAgICAvLyBQb2xsIHNwYXducyBmb3IgY3VycmVudCB6b25lXHJcbiAgICAgIGNvbnN0IHVybCA9IGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjQwMDAnfS9hcGkvc3Bhd24vc3luYz9iaW9tZT0ke2VuY29kZVVSSUNvbXBvbmVudChiaW9tZSl9JmxldmVsPSR7bHZsfSZwbGF5ZXJzPTEmem9uZUlkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHpvbmVJZCl9Jng9JHtNYXRoLmZsb29yKHRoaXMucGxheWVyLngpfSZ5PSR7TWF0aC5mbG9vcih0aGlzLnBsYXllci55KX1gO1xyXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIHsgY2FjaGU6ICduby1zdG9yZScgfSk7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xyXG4gICAgICBjb25zdCBsaXN0ID0gZGF0YS5zcGF3bnMgfHwgW107XHJcbiAgICAgIC8vIEFkZCBuZXcgc3Bhd25zXHJcbiAgICAgIGxpc3QuZm9yRWFjaCgoczogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuYmFja2VuZFNwYXducy5oYXMocy5pZCkpIHtcclxuICAgICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBzcGF3biBwb3NpdGlvbiBpZiBjaGFuZ2VkXHJcbiAgICAgICAgICBjb25zdCBleGlzdGluZyA9IHRoaXMuYmFja2VuZFNwYXducy5nZXQocy5pZCk7XHJcbiAgICAgICAgICBpZiAoZXhpc3RpbmcgJiYgKGV4aXN0aW5nLmRhdGEueCAhPT0gcy54IHx8IGV4aXN0aW5nLmRhdGEueSAhPT0gcy55KSkge1xyXG4gICAgICAgICAgICBleGlzdGluZy5zcHJpdGUuc2V0UG9zaXRpb24ocy54LCBzLnkpO1xyXG4gICAgICAgICAgICBleGlzdGluZy5kYXRhID0gcztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc3ByaXRlID0gdGhpcy5hZGQuaW1hZ2Uocy54LCBzLnksIGBway0ke3MucG9rZUlkfWApLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDE4KS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnRleHR1cmVzLmV4aXN0cyhgcGstJHtzLnBva2VJZH1gKSkge1xyXG4gICAgICAgICAgdGhpcy5sb2FkLmltYWdlKGBway0ke3MucG9rZUlkfWAsIGBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vUG9rZUFQSS9zcHJpdGVzL21hc3Rlci9zcHJpdGVzL3Bva2Vtb24vJHtzLnBva2VJZH0ucG5nYCk7XHJcbiAgICAgICAgICB0aGlzLmxvYWQub25jZShQaGFzZXIuTG9hZGVyLkV2ZW50cy5DT01QTEVURSwgKCkgPT4gc3ByaXRlLnNldFRleHR1cmUoYHBrLSR7cy5wb2tlSWR9YCkpO1xyXG4gICAgICAgICAgdGhpcy5sb2FkLnN0YXJ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEdsb3dpbmcgc3Bhd24gY2lyY2xlIChwdWxzaW5nIGFuaW1hdGlvbilcclxuICAgICAgICBjb25zdCBnbG93Q2lyY2xlID0gdGhpcy5hZGQuY2lyY2xlKHMueCwgcy55LCAyNCwgMHhmZmZmNjYsIDAuNCkuc2V0RGVwdGgoMTcpO1xyXG4gICAgICAgIGNvbnN0IHB1bHNlVHdlZW4gPSB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgdGFyZ2V0czogZ2xvd0NpcmNsZSxcclxuICAgICAgICAgIHJhZGl1czogeyBmcm9tOiAyMCwgdG86IDMyIH0sXHJcbiAgICAgICAgICBhbHBoYTogeyBmcm9tOiAwLjMsIHRvOiAwLjYgfSxcclxuICAgICAgICAgIGR1cmF0aW9uOiAxMjAwLFxyXG4gICAgICAgICAgeW95bzogdHJ1ZSxcclxuICAgICAgICAgIHJlcGVhdDogLTEsXHJcbiAgICAgICAgICBlYXNlOiAnU2luZS5lYXNlSW5PdXQnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gU3Bhd24gY2lyY2xlIGFuaW1hdGlvbiBvbiBmaXJzdCBhcHBlYXJhbmNlXHJcbiAgICAgICAgY29uc3QgY2lyY2xlID0gdGhpcy5hZGQuY2lyY2xlKHMueCwgcy55LCA2LCAweGZmZmY2NiwgMC42KS5zZXREZXB0aCgxNyk7XHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHsgdGFyZ2V0czogY2lyY2xlLCByYWRpdXM6IDI2LCBhbHBoYTogMCwgZHVyYXRpb246IDYwMCwgb25Db21wbGV0ZTogKCkgPT4gY2lyY2xlLmRlc3Ryb3koKSB9KTtcclxuICAgICAgICAvLyBDbGljayB0byBhdHRlbXB0IGNhcHR1cmUgaWYgbmVhclxyXG4gICAgICAgIHNwcml0ZS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB0aGlzLnRyeUNhcHR1cmVCYWNrZW5kU3Bhd24ocykpO1xyXG4gICAgICAgIHNwcml0ZS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYmFja2VuZFNwYXducy5zZXQocy5pZCwgeyBzcHJpdGUsIGRhdGE6IHMsIGdsb3dDaXJjbGUsIHB1bHNlVHdlZW4gfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICAvLyBDbGVhbnVwIGV4cGlyZWQgb3IgbWlzc2luZyAob25seSBmb3IgY3VycmVudCB6b25lKVxyXG4gICAgICBjb25zdCBjbGVhbnVwWm9uZUNvbCA9IE1hdGguZmxvb3IodGhpcy5wbGF5ZXIueCAvICh0aGlzLnRpbGVTaXplUHggKiAxMCkpO1xyXG4gICAgICBjb25zdCBjbGVhbnVwWm9uZVJvdyA9IE1hdGguZmxvb3IodGhpcy5wbGF5ZXIueSAvICh0aGlzLnRpbGVTaXplUHggKiAxMCkpO1xyXG4gICAgICBjb25zdCBjdXJyZW50Wm9uZSA9IGB6b25lXyR7Y2xlYW51cFpvbmVDb2x9XyR7Y2xlYW51cFpvbmVSb3d9YDtcclxuICAgICAgZm9yIChjb25zdCBbaWQsIHJlY10gb2YgdGhpcy5iYWNrZW5kU3Bhd25zLmVudHJpZXMoKSkge1xyXG4gICAgICAgIC8vIFJlbW92ZSBpZiBub3QgaW4gbGlzdCBPUiBpZiB6b25lIGNoYW5nZWRcclxuICAgICAgICBjb25zdCBpbkxpc3QgPSBsaXN0LmZpbmQoKHE6IGFueSkgPT4gcS5pZCA9PT0gaWQpO1xyXG4gICAgICAgIGNvbnN0IHdyb25nWm9uZSA9IGN1cnJlbnRab25lICYmIHJlYy5kYXRhLnpvbmVJZCAmJiByZWMuZGF0YS56b25lSWQgIT09IGN1cnJlbnRab25lO1xyXG4gICAgICAgIGlmICghaW5MaXN0IHx8IHdyb25nWm9uZSkge1xyXG4gICAgICAgICAgcmVjLnNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICBpZiAocmVjLmdsb3dDaXJjbGUpIHJlYy5nbG93Q2lyY2xlLmRlc3Ryb3koKTtcclxuICAgICAgICAgIGlmIChyZWMucHVsc2VUd2VlbikgcmVjLnB1bHNlVHdlZW4uZGVzdHJveSgpO1xyXG4gICAgICAgICAgdGhpcy5iYWNrZW5kU3Bhd25zLmRlbGV0ZShpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC8vIENoZWNrIHByb3hpbWl0eSBmb3IgYXV0by1vcGVuaW5nIENhcHR1cmVNb2RhbFxyXG4gICAgICB0aGlzLmNoZWNrU3Bhd25Qcm94aW1pdHkoKTtcclxuICAgICAgaWYgKGxpc3QubGVuZ3RoKSB0aGlzLnVpPy50b2FzdFRvcCgnUG9rw6ltb24gbmVhcmJ5Jyk7XHJcbiAgICB9IGNhdGNoIHt9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrU3Bhd25Qcm94aW1pdHkoKSB7XHJcbiAgICBjb25zdCBQUk9YSU1JVFlfVEhSRVNIT0xEID0gdGhpcy50aWxlU2l6ZVB4ICogMi41OyAvLyB+ODBweFxyXG4gICAgQXJyYXkuZnJvbSh0aGlzLmJhY2tlbmRTcGF3bnMudmFsdWVzKCkpLmZvckVhY2goKHJlYykgPT4ge1xyXG4gICAgICBjb25zdCBkaXN0ID0gUGhhc2VyLk1hdGguRGlzdGFuY2UuQmV0d2Vlbih0aGlzLnBsYXllci54LCB0aGlzLnBsYXllci55LCByZWMuZGF0YS54LCByZWMuZGF0YS55KTtcclxuICAgICAgaWYgKGRpc3QgPD0gUFJPWElNSVRZX1RIUkVTSE9MRCAmJiAhcmVjLmRhdGEucHJveGltaXR5VHJpZ2dlcmVkKSB7XHJcbiAgICAgICAgcmVjLmRhdGEucHJveGltaXR5VHJpZ2dlcmVkID0gdHJ1ZTtcclxuICAgICAgICAvLyBPcGVuIENhcHR1cmVNb2RhbCB2aWEgUmVhY3Qgb3ZlcmxheVxyXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCd5b2thaS1zcGF3bi1wcm94aW1pdHknLCB7XHJcbiAgICAgICAgICAgIGRldGFpbDoge1xyXG4gICAgICAgICAgICAgIHNwYXduOiB7XHJcbiAgICAgICAgICAgICAgICBpZDogcmVjLmRhdGEuaWQsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiByZWMuZGF0YS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgcG9rZUlkOiByZWMuZGF0YS5wb2tlSWQsXHJcbiAgICAgICAgICAgICAgICBsZXZlbDogcmVjLmRhdGEubGV2ZWwsXHJcbiAgICAgICAgICAgICAgICByYXJpdHk6IHJlYy5kYXRhLnJhcml0eSxcclxuICAgICAgICAgICAgICAgIHg6IHJlYy5kYXRhLngsXHJcbiAgICAgICAgICAgICAgICB5OiByZWMuZGF0YS55XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGRpc3QgPiBQUk9YSU1JVFlfVEhSRVNIT0xEKSB7XHJcbiAgICAgICAgcmVjLmRhdGEucHJveGltaXR5VHJpZ2dlcmVkID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyB0cnlDYXB0dXJlQmFja2VuZFNwYXduKHNwYXduOiBhbnkpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGQgPSBQaGFzZXIuTWF0aC5EaXN0YW5jZS5CZXR3ZWVuKHRoaXMucGxheWVyLngsIHRoaXMucGxheWVyLnksIHNwYXduLngsIHNwYXduLnkpO1xyXG4gICAgICBpZiAoZCA+IHRoaXMudGlsZVNpemVQeCAqIDIuNSkge1xyXG4gICAgICAgIHRoaXMudWk/LnRvYXN0VG9wKCdNb3ZlIGNsb3NlciB0byBjYXRjaCcpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCB3YWxsZXQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhbGdvcmFuZF93YWxsZXRfYWRkcmVzcycpIDogbnVsbDtcclxuICAgICAgaWYgKCF3YWxsZXQpIHtcclxuICAgICAgICB0aGlzLnVpPy50b2FzdFRvcCgnQ29ubmVjdCB3YWxsZXQgdG8gY2F0Y2gnKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgLy8gT3BlbiBDYXB0dXJlTW9kYWwgdmlhIFJlYWN0IG92ZXJsYXlcclxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCd5b2thaS1zcGF3bi1wcm94aW1pdHknLCB7XHJcbiAgICAgICAgICBkZXRhaWw6IHtcclxuICAgICAgICAgICAgc3Bhd246IHtcclxuICAgICAgICAgICAgICBpZDogc3Bhd24uaWQsXHJcbiAgICAgICAgICAgICAgbmFtZTogc3Bhd24ubmFtZSxcclxuICAgICAgICAgICAgICBwb2tlSWQ6IHNwYXduLnBva2VJZCxcclxuICAgICAgICAgICAgICBsZXZlbDogc3Bhd24ubGV2ZWwsXHJcbiAgICAgICAgICAgICAgcmFyaXR5OiBzcGF3bi5yYXJpdHksXHJcbiAgICAgICAgICAgICAgeDogc3Bhd24ueCxcclxuICAgICAgICAgICAgICB5OiBzcGF3bi55XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2gge31cclxuICB9XHJcblxyXG4gIGFzeW5jIHBlcmZvcm1DYXB0dXJlKHNwYXduOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHdhbGxldCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FsZ29yYW5kX3dhbGxldF9hZGRyZXNzJykgOiBudWxsO1xyXG4gICAgICBpZiAoIXdhbGxldCkge1xyXG4gICAgICAgIHRoaXMudWk/LnRvYXN0VG9wKCdDb25uZWN0IHdhbGxldCB0byBjYXRjaCcpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ29udmVydCBzcHJpdGUgVVJMIHRvIGJhc2U2NFxyXG4gICAgICBjb25zdCBzcHJpdGVVcmwgPSBzcGF3bi5zcHJpdGUgfHwgYGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9Qb2tlQVBJL3Nwcml0ZXMvbWFzdGVyL3Nwcml0ZXMvcG9rZW1vbi8ke3NwYXduLnBva2VJZH0ucG5nYDtcclxuICAgICAgbGV0IGltYWdlQmFzZTY0ID0gJyc7XHJcbiAgICAgIFxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGltZ1Jlc3AgPSBhd2FpdCBmZXRjaChzcHJpdGVVcmwpO1xyXG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBpbWdSZXNwLmJsb2IoKTtcclxuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgIGltYWdlQmFzZTY0ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdCBhcyBzdHJpbmcpO1xyXG4gICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XHJcbiAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjb252ZXJ0IGltYWdlIHRvIGJhc2U2NDonLCBlKTtcclxuICAgICAgICB0aGlzLnVpPy50b2FzdFRvcCgnRmFpbGVkIHRvIHByb2Nlc3MgaW1hZ2UnKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENhbGwgbmV3IC9hcGkvcG9rZW1vbi9jYXVnaHQgZW5kcG9pbnRcclxuICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjQwMDAnfS9hcGkvcG9rZW1vbi9jYXVnaHRgLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczogeyAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLCAneC13YWxsZXQtYWRkcmVzcyc6IHdhbGxldCB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHdhbGxldCxcclxuICAgICAgICAgIG5hbWU6IHNwYXduLm5hbWUsXHJcbiAgICAgICAgICBpbWFnZUJhc2U2NCxcclxuICAgICAgICAgIHJhcml0eTogc3Bhd24ucmFyaXR5IHx8ICdjb21tb24nXHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IGpzID0gYXdhaXQgcmVzcC5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XHJcbiAgICAgIGlmIChqcy5zdWNjZXNzKSB7XHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIFhQIGdhaW5lZCAoNSBmb3IgYXR0ZW1wdCArIDI1IGZvciBzdWNjZXNzID0gMzAgdG90YWwpXHJcbiAgICAgICAgY29uc3QgeHBHYWluZWQgPSAzMDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBVc2UgWFBNYW5hZ2VyIHRvIGFkZCBYUFxyXG4gICAgICAgIGlmICh0aGlzLnhwTWFuYWdlcikge1xyXG4gICAgICAgICAgY29uc3QgeHBFdmVudCA9IHRoaXMueHBNYW5hZ2VyLmFkZFhQKHhwR2FpbmVkKTtcclxuICAgICAgICAgIC8vIFhQTWFuYWdlciB3aWxsIHRyaWdnZXIgaGFuZGxlWFBVcGRhdGUgdmlhIGxpc3RlbmVyXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIEZhbGxiYWNrIGlmIFhQTWFuYWdlciBub3QgaW5pdGlhbGl6ZWRcclxuICAgICAgICAgIGNvbnN0IG9sZExldmVsID0gdGhpcy5jb25maWdEYXRhLnRyYWluZXJMZXZlbCB8fCAxO1xyXG4gICAgICAgICAgY29uc3Qgb2xkWFAgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0cmFpbmVyX2V4cCcpIHx8ICcwJywgMTApIDogMDtcclxuICAgICAgICAgIGNvbnN0IG5ld1hQID0gb2xkWFAgKyB4cEdhaW5lZDtcclxuICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndHJhaW5lcl9leHAnLCBuZXdYUC50b1N0cmluZygpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvbnN0IGxldmVsRGF0YSA9IFhQTWFuYWdlci5sZXZlbEZyb21YUChuZXdYUCk7XHJcbiAgICAgICAgICB0aGlzLnVwZGF0ZUhVRChsZXZlbERhdGEubGV2ZWwsIGxldmVsRGF0YS5jdXJyZW50WFAsIGxldmVsRGF0YS5uZXh0TGV2ZWxYUCk7XHJcbiAgICAgICAgICB0aGlzLmNvbmZpZ0RhdGEudHJhaW5lckxldmVsID0gbGV2ZWxEYXRhLmxldmVsO1xyXG4gICAgICAgICAgdGhpcy5zaG93RmxvYXRpbmdYUCh0aGlzLnBsYXllci54LCB0aGlzLnBsYXllci55IC0gMjAsIGArJHt4cEdhaW5lZH0gWFBgKTtcclxuICAgICAgICAgIGlmIChsZXZlbERhdGEubGV2ZWwgPiBvbGRMZXZlbCkge1xyXG4gICAgICAgICAgICB0aGlzLnVpPy50b2FzdFRvcCgnTGV2ZWwgdXAhJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0Zsb2F0aW5nWFAodGhpcy5wbGF5ZXIueCwgdGhpcy5wbGF5ZXIueSAtIDQwLCAnTEVWRUwgVVAhJywgMHhmZmZmMDApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnVpPy50b2FzdFRvcCgnQ2FwdHVyZSBzdWNjZXNzIScpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFJlbW92ZSBzcGF3biBmcm9tIG1hcFxyXG4gICAgICAgIGNvbnN0IHJlYyA9IHRoaXMuYmFja2VuZFNwYXducy5nZXQoc3Bhd24uaWQpO1xyXG4gICAgICAgIGlmIChyZWMpIHtcclxuICAgICAgICAgIHJlYy5zcHJpdGUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgaWYgKHJlYy5nbG93Q2lyY2xlKSByZWMuZ2xvd0NpcmNsZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICBpZiAocmVjLnB1bHNlVHdlZW4pIHJlYy5wdWxzZVR3ZWVuLmRlc3Ryb3koKTtcclxuICAgICAgICAgIHRoaXMuYmFja2VuZFNwYXducy5kZWxldGUoc3Bhd24uaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBCcm9hZGNhc3QgY2FwdHVyZSBzdWNjZXNzIGV2ZW50XHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3lva2FpLWNhcHR1cmUtcmVzdWx0Jywge1xyXG4gICAgICAgICAgICBkZXRhaWw6IHsgXHJcbiAgICAgICAgICAgICAgb3V0Y29tZToganMub3B0SW5SZXF1aXJlZCA/ICdvcHRJblJlcXVpcmVkJyA6ICdzdWNjZXNzJywgXHJcbiAgICAgICAgICAgICAgdHhJZDoganMudHhJZFNlbmQgfHwganMudHhJZE1pbnQsIFxyXG4gICAgICAgICAgICAgIHR4SWRNaW50OiBqcy50eElkTWludCxcclxuICAgICAgICAgICAgICB0eElkU2VuZDoganMudHhJZFNlbmQsXHJcbiAgICAgICAgICAgICAgYXNzZXRJZDoganMuYXNzZXRJZCxcclxuICAgICAgICAgICAgICBpcGZzOiBqcy5tZXRhZGF0YUNJRCxcclxuICAgICAgICAgICAgICBwb2tlbW9uOiBzcGF3bixcclxuICAgICAgICAgICAgICB4cEdhaW5lZDogeHBHYWluZWQsXHJcbiAgICAgICAgICAgICAgb3B0SW5SZXF1aXJlZDoganMub3B0SW5SZXF1aXJlZCB8fCBmYWxzZSxcclxuICAgICAgICAgICAgICB0cmFpbmVyOiBqcy50cmFpbmVyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gTG9nIHR4IGZvciDwn5OcIExvZ1xyXG4gICAgICAgIGlmIChqcy50eElkKSB7XHJcbiAgICAgICAgICBhd2FpdCBUcmFuc2FjdGlvbk1hbmFnZXIubG9nQ2FwdHVyZSh7IHdhbGxldCwgdHhJZDoganMudHhJZCwgbWV0YTogeyBwb2tlSWQ6IHNwYXduLnBva2VJZCwgbmFtZTogc3Bhd24ubmFtZSB9IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBMb2cgWFAgdHJhbnNhY3Rpb25cclxuICAgICAgICBpZiAodGhpcy54cE1hbmFnZXIpIHtcclxuICAgICAgICAgIGNvbnN0IGxldmVsRGF0YSA9IHRoaXMueHBNYW5hZ2VyLmdldExldmVsRGF0YSgpO1xyXG4gICAgICAgICAgYXdhaXQgVHJhbnNhY3Rpb25NYW5hZ2VyLmxvZ1RyYW5zYWN0aW9uKHtcclxuICAgICAgICAgICAgd2FsbGV0LFxyXG4gICAgICAgICAgICB0eElkOiBqcy50eElkIHx8IGBYUC0ke0RhdGUubm93KCl9YCxcclxuICAgICAgICAgICAgdHlwZTogJ1hQX0dBSU4nLFxyXG4gICAgICAgICAgICBhc3NldDogJ1hQJyxcclxuICAgICAgICAgICAgbWV0YTogeyB4cEdhaW5lZCwgbGV2ZWw6IGxldmVsRGF0YS5sZXZlbCwgY3VycmVudFhQOiBsZXZlbERhdGEuY3VycmVudFhQIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBGYWlsZWQgY2FwdHVyZSAtIHN0aWxsIGdhaW4gYXR0ZW1wdCBYUFxyXG4gICAgICAgIGNvbnN0IGF0dGVtcHRYUCA9IDU7XHJcbiAgICAgICAgaWYgKHRoaXMueHBNYW5hZ2VyKSB7XHJcbiAgICAgICAgICB0aGlzLnhwTWFuYWdlci5hZGRYUChhdHRlbXB0WFApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnVpPy50b2FzdFRvcCgnUG9rw6ltb24gZXNjYXBlZCEgWW91IHN0aWxsIGdhaW5lZCArNSBYUC4nKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgneW9rYWktY2FwdHVyZS1yZXN1bHQnLCB7IFxyXG4gICAgICAgICAgICBkZXRhaWw6IHsgb3V0Y29tZTogJ2ZhaWwnLCB4cEdhaW5lZDogYXR0ZW1wdFhQIH0gXHJcbiAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHRoaXMudWk/LnRvYXN0VG9wKCdDYXB0dXJlIGZhaWxlZCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzaG93RmxvYXRpbmdYUCh4OiBudW1iZXIsIHk6IG51bWJlciwgdGV4dDogc3RyaW5nLCBjb2xvcjogbnVtYmVyID0gMHgyZWNjNzEpIHtcclxuICAgIGNvbnN0IHR4dCA9IHRoaXMuYWRkLnRleHQoeCwgeSwgdGV4dCwge1xyXG4gICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICBjb2xvcjogYCMke2NvbG9yLnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2LCAnMCcpfWAsXHJcbiAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICBzdHJva2VUaGlja25lc3M6IDMsXHJcbiAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgzMDAwKTtcclxuICAgIFxyXG4gICAgLy8gQW5pbWF0ZSBmbG9hdGluZyB1cCBhbmQgZmFkaW5nIG91dFxyXG4gICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgdGFyZ2V0czogdHh0LFxyXG4gICAgICB5OiB5IC0gNDAsXHJcbiAgICAgIGFscGhhOiAwLFxyXG4gICAgICBkdXJhdGlvbjogMTIwMCxcclxuICAgICAgZWFzZTogJ1Bvd2VyMicsXHJcbiAgICAgIG9uQ29tcGxldGU6ICgpID0+IHR4dC5kZXN0cm95KClcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzaG93U2F2ZWRUb2FzdCh0ZXh0OiBzdHJpbmcpIHtcclxuICAgIGlmICh0aGlzLnRvYXN0KSB7IHRoaXMudG9hc3QuZGVzdHJveSgpOyB0aGlzLnRvYXN0ID0gdW5kZWZpbmVkOyB9XHJcbiAgICBjb25zdCB0ID0gdGhpcy5hZGQudGV4dCgxMiwgdGhpcy5zY2FsZS5oZWlnaHQgLSAyOCwgYPCfkr4gJHt0ZXh0fWAsIHsgZm9udFNpemU6ICcxNHB4JywgY29sb3I6ICcjMGYwJywgYmFja2dyb3VuZENvbG9yOiAnIzAwMCcsIHBhZGRpbmc6IHsgeDogOCwgeTogNCB9IH0pXHJcbiAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgLnNldERlcHRoKDIwMDApO1xyXG4gICAgdGhpcy50b2FzdCA9IHQ7XHJcbiAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTYwMCwgKCkgPT4geyBpZiAodC5zY2VuZSkgdC5kZXN0cm95KCk7IGlmICh0aGlzLnRvYXN0ID09PSB0KSB0aGlzLnRvYXN0ID0gdW5kZWZpbmVkOyB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0Q3VycmVudEJpb21lSWQoKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGNvbHMgPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHRoaXMubWFwV2lkdGhUaWxlcyAvIFpPTkVfVElMRVMpKTtcclxuICAgIGNvbnN0IHJvd3MgPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHRoaXMubWFwSGVpZ2h0VGlsZXMgLyBaT05FX1RJTEVTKSk7XHJcbiAgICBjb25zdCB6b25lcyA9IGdlbmVyYXRlWm9uZXMoY29scywgcm93cyk7XHJcbiAgICBjb25zdCBjdXIgPSB0aGlzLnNwYXduTWFuYWdlcj8uZ2V0Q3VycmVudFpvbmUoKTtcclxuICAgIGNvbnN0IG1ldGEgPSBjdXIgPyB6b25lcy5maW5kKChxKSA9PiBxLmlkID09PSBgJHtjdXIuY29sfSwke2N1ci5yb3d9YCkgOiB1bmRlZmluZWQ7XHJcbiAgICByZXR1cm4gKG1ldGE/LmJpb21lIHx8ICdncmFzc2xhbmQnKSBhcyBzdHJpbmc7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0YXJ0TmVhcmJ5UG9sbGluZygpIHtcclxuICAgIC8vIENsZWFyIGV4aXN0aW5nXHJcbiAgICB0aGlzLm5lYXJieVRpbWVyPy5yZW1vdmUoZmFsc2UpO1xyXG4gICAgdGhpcy5uZWFyYnlUaW1lciA9IHRoaXMudGltZS5hZGRFdmVudCh7IGRlbGF5OiAxMDAwMCwgbG9vcDogdHJ1ZSwgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB3YWxsZXQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhbGdvcmFuZF93YWxsZXRfYWRkcmVzcycpIDogbnVsbDtcclxuICAgICAgICBjb25zdCB1c2VybmFtZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0cmFpbmVyX3VzZXJuYW1lJykgfHwgJ1RyYWluZXInKSA6ICdUcmFpbmVyJztcclxuICAgICAgICBpZiAoIXdhbGxldCkgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGJpb21lID0gdGhpcy5nZXRDdXJyZW50QmlvbWVJZCgpO1xyXG4gICAgICAgIGNvbnN0IHRpbGVYID0gTWF0aC5mbG9vcih0aGlzLnBsYXllci54IC8gdGhpcy50aWxlU2l6ZVB4KTtcclxuICAgICAgICBjb25zdCB0aWxlWSA9IE1hdGguZmxvb3IodGhpcy5wbGF5ZXIueSAvIHRoaXMudGlsZVNpemVQeCk7XHJcbiAgICAgICAgY29uc3Qgc3ZjID0gYXdhaXQgaW1wb3J0KCcuLi8uLi9zcmMvc2VydmljZXMvdHJhaW5lcicpO1xyXG4gICAgICAgIC8vIHVwc2VydCBwcmVzZW5jZVxyXG4gICAgICAgIGF3YWl0IHN2Yy51cGRhdGVBY3RpdmVQb3NpdGlvbih7IHdhbGxldEFkZHJlc3M6IHdhbGxldCwgeDogdGlsZVgsIHk6IHRpbGVZLCBiaW9tZSB9KTtcclxuICAgICAgICAvLyBmZXRjaCBuZWFyYnlcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgc3ZjLmZldGNoTmVhcmJ5KHsgd2FsbGV0QWRkcmVzczogd2FsbGV0LCB4OiB0aWxlWCwgeTogdGlsZVksIGJpb21lIH0pLmNhdGNoKCgpID0+IG51bGwpO1xyXG4gICAgICAgIGNvbnN0IGxpc3QgPSBkYXRhPy50cmFpbmVycyB8fCBbXTtcclxuICAgICAgICB0aGlzLnJlbmRlckdob3N0cyhsaXN0KTtcclxuICAgICAgfSBjYXRjaCB7fVxyXG4gICAgfX0pO1xyXG5cclxuICAgIC8vIGZpcnN0IGltbWVkaWF0ZSB0aWNrXHJcbiAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNTAwLCAoKSA9PiB0aGlzLm5lYXJieVRpbWVyPy5jYWxsYmFjaz8uKCkpO1xyXG5cclxuICAgIHRoaXMuZXZlbnRzLm9uY2UoUGhhc2VyLlNjZW5lcy5FdmVudHMuU0hVVERPV04sICgpID0+IHtcclxuICAgICAgdGhpcy5uZWFyYnlUaW1lcj8ucmVtb3ZlKGZhbHNlKTtcclxuICAgICAgdGhpcy5naG9zdHMuZm9yRWFjaCgoZykgPT4geyBnLnNwcml0ZS5kZXN0cm95KCk7IGcubGFiZWw/LmRlc3Ryb3koKTsgfSk7XHJcbiAgICAgIHRoaXMuZ2hvc3RzLmNsZWFyKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVuZGVyR2hvc3RzKGxpc3Q6IHsgd2FsbGV0QWRkcmVzczogc3RyaW5nOyB1c2VybmFtZTogc3RyaW5nOyB4OiBudW1iZXI7IHk6IG51bWJlciB9W10pIHtcclxuICAgIGNvbnN0IHdhbnRlZCA9IG5ldyBTZXQobGlzdC5tYXAoKHQpID0+IHQud2FsbGV0QWRkcmVzcy50b0xvd2VyQ2FzZSgpKSk7XHJcbiAgICAvLyByZW1vdmUgc3RhbGVcclxuICAgIEFycmF5LmZyb20odGhpcy5naG9zdHMua2V5cygpKS5mb3JFYWNoKChrKSA9PiB7IGlmICghd2FudGVkLmhhcyhrLnRvTG93ZXJDYXNlKCkpKSB7IGNvbnN0IGcgPSB0aGlzLmdob3N0cy5nZXQoaykhOyBnLnNwcml0ZS5kZXN0cm95KCk7IGcubGFiZWw/LmRlc3Ryb3koKTsgdGhpcy5naG9zdHMuZGVsZXRlKGspOyB9IH0pO1xyXG4gICAgLy8gdXBzZXJ0XHJcbiAgICBsaXN0LmZvckVhY2goKHQpID0+IHtcclxuICAgICAgY29uc3QgaWQgPSB0LndhbGxldEFkZHJlc3M7XHJcbiAgICAgIGNvbnN0IHd4ID0gKHQueCB8fCAwKSAqIHRoaXMudGlsZVNpemVQeCArIHRoaXMudGlsZVNpemVQeCAvIDI7XHJcbiAgICAgIGNvbnN0IHd5ID0gKHQueSB8fCAwKSAqIHRoaXMudGlsZVNpemVQeCArIHRoaXMudGlsZVNpemVQeCAvIDI7XHJcbiAgICAgIGxldCBnID0gdGhpcy5naG9zdHMuZ2V0KGlkKTtcclxuICAgICAgaWYgKCFnKSB7XHJcbiAgICAgICAgY29uc3QgcyA9IHRoaXMuYWRkLmltYWdlKHd4LCB3eSwgJ3BsYXllcicpLnNldFRpbnQoMHhmZmZmZmYpLnNldEFscGhhKDAuNSkuc2V0RGVwdGgoOCk7XHJcbiAgICAgICAgcy5zZXRTY2FsZSgwLjkpO1xyXG4gICAgICAgIHMuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IHNob3dUaXAgPSAoKSA9PiB7XHJcbiAgICAgICAgICBpZiAoZz8ubGFiZWwpIGcubGFiZWwuZGVzdHJveSgpO1xyXG4gICAgICAgICAgZyEubGFiZWwgPSB0aGlzLmFkZC50ZXh0KHMueCwgcy55IC0gMTgsIHQudXNlcm5hbWUgfHwgJ1RyYWluZXInLCB7IGZvbnRTaXplOiAnMTBweCcsIGNvbG9yOiAnI2ZmZicsIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDA4OCcsIHBhZGRpbmc6IHsgeDogNCwgeTogMiB9IH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwMDEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcy5vbigncG9pbnRlcm92ZXInLCBzaG93VGlwKTtcclxuICAgICAgICBzLm9uKCdwb2ludGVyb3V0JywgKCkgPT4geyBnPy5sYWJlbD8uZGVzdHJveSgpOyBnIS5sYWJlbCA9IHVuZGVmaW5lZDsgfSk7XHJcbiAgICAgICAgcy5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB0aGlzLnByb21wdENoYWxsZW5nZSh0LnVzZXJuYW1lIHx8ICdUcmFpbmVyJykpO1xyXG4gICAgICAgIGcgPSB7IHNwcml0ZTogcywgdXNlcm5hbWU6IHQudXNlcm5hbWUgfHwgJ1RyYWluZXInIH07XHJcbiAgICAgICAgdGhpcy5naG9zdHMuc2V0KGlkLCBnKTtcclxuICAgICAgfVxyXG4gICAgICAvLyBtb3ZlL3VwZGF0ZVxyXG4gICAgICBnLnNwcml0ZS54ID0gd3g7IGcuc3ByaXRlLnkgPSB3eTsgZy51c2VybmFtZSA9IHQudXNlcm5hbWUgfHwgZy51c2VybmFtZTtcclxuICAgICAgaWYgKGcubGFiZWwpIHsgZy5sYWJlbC54ID0gd3g7IGcubGFiZWwueSA9IHd5IC0gMTg7IGcubGFiZWwuc2V0VGV4dChnLnVzZXJuYW1lKTsgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHByb21wdENoYWxsZW5nZShuYW1lOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgIGNvbnN0IG1vZGFsID0gdGhpcy5hZGQuY29udGFpbmVyKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMikuc2V0RGVwdGgoMjAwMSk7XHJcbiAgICBjb25zdCBiZyA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCAzMDAsIDE2MCwgMHgwMDAwMDAsIDAuODUpO1xyXG4gICAgY29uc3QgYm9yZGVyID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIDMwMCwgMTYwKS5zZXRTdHJva2VTdHlsZSgyLCAweGZmZmZmZik7XHJcbiAgICBjb25zdCB0eHQgPSB0aGlzLmFkZC50ZXh0KDAsIC0zMCwgYENoYWxsZW5nZSAke25hbWV9P2AsIHsgZm9udFNpemU6ICcxNnB4JywgY29sb3I6ICcjZmZmJyB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgIGNvbnN0IG9rID0gdGhpcy5hZGQudGV4dCgtNDAsIDMwLCAnQ2hhbGxlbmdlJywgeyBmb250U2l6ZTogJzE0cHgnLCBjb2xvcjogJyMwZjAnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjMjIyJywgcGFkZGluZzogeyB4OiAxMCwgeTogNiB9IH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgIGNvbnN0IGNhbmNlbCA9IHRoaXMuYWRkLnRleHQoNjAsIDMwLCAnQ2FuY2VsJywgeyBmb250U2l6ZTogJzE0cHgnLCBjb2xvcjogJyNmZmYnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjNDQ0JywgcGFkZGluZzogeyB4OiAxMCwgeTogNiB9IH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgIG9rLm9uKCdwb2ludGVyZG93bicsICgpID0+IHsgdGhpcy5zaG93U2F2ZWRUb2FzdChgWW91IGNoYWxsZW5nZWQgJHtuYW1lfSEgKG1vY2spYCk7IG1vZGFsLmRlc3Ryb3koKTsgfSk7XHJcbiAgICBjYW5jZWwub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gbW9kYWwuZGVzdHJveSgpKTtcclxuICAgIG1vZGFsLmFkZChbYmcsIGJvcmRlciwgdHh0LCBvaywgY2FuY2VsXSk7XHJcbiAgfVxyXG5cclxuICAvLyAtLS0tIE11bHRpcGxheWVyIChrZXB0KSAtLS0tXHJcbiAgcHJpdmF0ZSBpbml0TXVsdGlwbGF5ZXIoKSB7XHJcbiAgICBpZiAodGhpcy5zb2NrZXQpIHJldHVybjsgLy8gYWxyZWFkeSBjb25uZWN0ZWRcclxuXHJcbiAgICBjb25zdCBzb2NrZXQgPSBpbyhcImh0dHA6Ly9sb2NhbGhvc3Q6NDAwMFwiLCB7XHJcbiAgICAgIHRyYW5zcG9ydHM6IFtcIndlYnNvY2tldFwiXSxcclxuICAgICAgYXV0b0Nvbm5lY3Q6IHRydWUsXHJcbiAgICB9KTtcclxuICAgIHRoaXMuc29ja2V0ID0gc29ja2V0O1xyXG5cclxuICAgIHNvY2tldC5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLm15SWQgPSBzb2NrZXQuaWQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzb2NrZXQub24oXHJcbiAgICAgIFwiaW5pdFN0YXRlXCIsXHJcbiAgICAgIChwYXlsb2FkOiB7IHBsYXllcnM6IFJlY29yZDxzdHJpbmcsIHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfT4gfSkgPT4ge1xyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHBheWxvYWQucGxheWVycykuZm9yRWFjaCgoW2lkLCBwb3NdKSA9PiB7XHJcbiAgICAgICAgICBpZiAoaWQgPT09IHRoaXMubXlJZCkgcmV0dXJuO1xyXG4gICAgICAgICAgdGhpcy5zcGF3bk90aGVyKGlkLCBwb3MueCwgcG9zLnkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgKTtcclxuXHJcbiAgICBzb2NrZXQub24oXHJcbiAgICAgIFwicGxheWVySm9pbmVkXCIsXHJcbiAgICAgICh7IGlkLCB4LCB5IH06IHsgaWQ6IHN0cmluZzsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkgPT4ge1xyXG4gICAgICAgIGlmIChpZCA9PT0gdGhpcy5teUlkKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5zcGF3bk90aGVyKGlkLCB4LCB5KTtcclxuICAgICAgfSxcclxuICAgICk7XHJcblxyXG4gICAgc29ja2V0Lm9uKFxyXG4gICAgICBcInBsYXllck1vdmVkXCIsXHJcbiAgICAgICh7IGlkLCB4LCB5IH06IHsgaWQ6IHN0cmluZzsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHNwcml0ZSA9IHRoaXMub3RoZXJzLmdldChpZCk7XHJcbiAgICAgICAgaWYgKHNwcml0ZSkge1xyXG4gICAgICAgICAgLy8gVXBkYXRlIGludGVycG9sYXRpb24gdGFyZ2V0XHJcbiAgICAgICAgICBjb25zdCBwb3MgPSB0aGlzLm90aGVyUG9zaXRpb25zLmdldChpZCk7XHJcbiAgICAgICAgICBpZiAocG9zKSB7XHJcbiAgICAgICAgICAgIHBvcy50YXJnZXRYID0geDtcclxuICAgICAgICAgICAgcG9zLnRhcmdldFkgPSB5O1xyXG4gICAgICAgICAgICBwb3MubGFzdFVwZGF0ZSA9IHRoaXMudGltZS5ub3c7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIHBvc2l0aW9uIHRyYWNraW5nXHJcbiAgICAgICAgICAgIHRoaXMub3RoZXJQb3NpdGlvbnMuc2V0KGlkLCB7IHgsIHksIHRhcmdldFg6IHgsIHRhcmdldFk6IHksIGxhc3RVcGRhdGU6IHRoaXMudGltZS5ub3cgfSk7XHJcbiAgICAgICAgICAgIHNwcml0ZS5zZXRQb3NpdGlvbih4LCB5KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICApO1xyXG5cclxuICAgIHNvY2tldC5vbihcInBsYXllckxlZnRcIiwgKHsgaWQgfTogeyBpZDogc3RyaW5nIH0pID0+IHtcclxuICAgICAgY29uc3Qgc3ByaXRlID0gdGhpcy5vdGhlcnMuZ2V0KGlkKTtcclxuICAgICAgaWYgKHNwcml0ZSkge1xyXG4gICAgICAgIHNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5vdGhlcnMuZGVsZXRlKGlkKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLm90aGVyUG9zaXRpb25zLmRlbGV0ZShpZCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmV2ZW50cy5vbmNlKFBoYXNlci5TY2VuZXMuRXZlbnRzLlNIVVRET1dOLCAoKSA9PiB7XHJcbiAgICAgIHNvY2tldC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgICAgc29ja2V0LmRpc2Nvbm5lY3QoKTtcclxuICAgICAgdGhpcy5zb2NrZXQgPSB1bmRlZmluZWQ7XHJcbiAgICAgIHRoaXMubXlJZCA9IHVuZGVmaW5lZDtcclxuICAgICAgdGhpcy5vdGhlcnMuZm9yRWFjaCgocykgPT4gcy5kZXN0cm95KCkpO1xyXG4gICAgICB0aGlzLm90aGVycy5jbGVhcigpO1xyXG4gICAgICB0aGlzLm90aGVyUG9zaXRpb25zLmNsZWFyKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDbGVhbnVwIG11bHRpcGxheWVyIHBsYXllcnNcclxuICAgICAgdGhpcy5tdWx0aXBsYXllclBsYXllcnMuZm9yRWFjaCgocGxheWVyKSA9PiB7XHJcbiAgICAgICAgcGxheWVyLnNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgaWYgKHBsYXllci5sYWJlbCkgcGxheWVyLmxhYmVsLmRlc3Ryb3koKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMubXVsdGlwbGF5ZXJQbGF5ZXJzLmNsZWFyKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBEaXNjb25uZWN0IE11bHRpcGxheWVySGFuZGxlclxyXG4gICAgICB0aGlzLm1wPy5kaXNjb25uZWN0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc3Bhd25PdGhlcihpZDogc3RyaW5nLCB4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgY29uc3QgcyA9IHRoaXMuYWRkLnNwcml0ZSh4LCB5LCBcInBsYXllclwiKS5zZXRUaW50KDB4MTE4YWIyKTtcclxuICAgIHMuc2V0RGVwdGgoNSk7XHJcbiAgICB0aGlzLm90aGVycy5zZXQoaWQsIHMpO1xyXG4gICAgLy8gSW5pdGlhbGl6ZSBwb3NpdGlvbiB0cmFja2luZyBmb3IgaW50ZXJwb2xhdGlvblxyXG4gICAgdGhpcy5vdGhlclBvc2l0aW9ucy5zZXQoaWQsIHsgeCwgeSwgdGFyZ2V0WDogeCwgdGFyZ2V0WTogeSwgbGFzdFVwZGF0ZTogdGhpcy50aW1lLm5vdyB9KTtcclxuICB9XHJcblxyXG4gIC8vIC0tLS0gTWluaW1hcCAtLS0tXHJcbiAgcHJpdmF0ZSBjcmVhdGVNaW5pTWFwKCkge1xyXG4gICAgLy8gUGxhY2UgdG9wLWxlZnQgaW5zaWRlIGdhbWVwbGF5IGFyZWEgKGF3YXkgZnJvbSByaWdodCBzaWRlYmFyKVxyXG4gICAgY29uc3QgYmFzZVggPSAxMjtcclxuICAgIGNvbnN0IGJhc2VZID0gMTI7XHJcbiAgICB0aGlzLm1pbmkgPSB0aGlzLmFkZC5jb250YWluZXIoYmFzZVgsIGJhc2VZKS5zZXREZXB0aCgxMDAwKTtcclxuICAgIHRoaXMubWluaS5zZXRTY3JvbGxGYWN0b3IoMCk7XHJcblxyXG4gICAgY29uc3QgYmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgdGhpcy5taW5pVywgdGhpcy5taW5pSCwgMHgxMTExMTEsIDAuNikuc2V0T3JpZ2luKDApO1xyXG4gICAgdGhpcy5taW5pR2Z4ID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcclxuICAgIHRoaXMubWluaU1hcmtlcnMgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCk7XHJcbiAgICB0aGlzLm1pbmlCdWlsZGluZ3MgPSB0aGlzLmFkZC5jb250YWluZXIoMCwgMCk7XHJcbiAgICB0aGlzLm1pbmlIaWdobGlnaHQgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xyXG5cclxuICAgIC8vIG5vIGdyaWQgbGluZXMgdG8ga2VlcCB6b25lcyBpbnZpc2libGVcclxuICAgIGNvbnN0IGNvbHMgPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHRoaXMubWFwV2lkdGhUaWxlcyAvIFpPTkVfVElMRVMpKTtcclxuICAgIGNvbnN0IHJvd3MgPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHRoaXMubWFwSGVpZ2h0VGlsZXMgLyBaT05FX1RJTEVTKSk7XHJcbiAgICB0aGlzLm1pbmlHZnguY2xlYXIoKTtcclxuICAgIHRoaXMubWluaUdmeC5saW5lU3R5bGUoMSwgMHgzMzMzMzMsIDAuOCk7XHJcbiAgICB0aGlzLm1pbmlHZnguc3Ryb2tlUmVjdCgwLCAwLCB0aGlzLm1pbmlXLCB0aGlzLm1pbmlIKTtcclxuXHJcbiAgICAvLyBjbGlja2FibGUgem9uZVxyXG4gICAgY29uc3QgaGl0ID0gdGhpcy5hZGQuem9uZSgwLCAwLCB0aGlzLm1pbmlXLCB0aGlzLm1pbmlIKS5zZXRPcmlnaW4oMCkuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgaGl0Lm9uKCdwb2ludGVyZG93bicsIChfcG9pbnRlcjogYW55LCBsb2NhbFg6IG51bWJlciwgbG9jYWxZOiBudW1iZXIpID0+IHtcclxuICAgICAgY29uc3QgemMgPSBNYXRoLmZsb29yKGxvY2FsWCAvICh0aGlzLm1pbmlXIC8gY29scykpO1xyXG4gICAgICBjb25zdCB6ciA9IE1hdGguZmxvb3IobG9jYWxZIC8gKHRoaXMubWluaUggLyByb3dzKSk7XHJcbiAgICAgIGNvbnN0IGN4ID0gKHpjICogWk9ORV9USUxFUyArIFpPTkVfVElMRVMgLyAyKSAqIHRoaXMudGlsZVNpemVQeDtcclxuICAgICAgY29uc3QgY3kgPSAoenIgKiBaT05FX1RJTEVTICsgWk9ORV9USUxFUyAvIDIpICogdGhpcy50aWxlU2l6ZVB4O1xyXG4gICAgICBjb25zdCBjYW0gPSB0aGlzLmNhbWVyYXMubWFpbjtcclxuICAgICAgY2FtLnN0b3BGb2xsb3coKTtcclxuICAgICAgY2FtLnBhbihjeCwgY3ksIDMwMCwgJ1NpbmUuZWFzZUluT3V0JywgdHJ1ZSwgKGNhbWVyYTogYW55LCBwcm9ncmVzczogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHByb2dyZXNzID09PSAxKSBjYW0uc3RhcnRGb2xsb3codGhpcy5wbGF5ZXIsIHRydWUsIDAuMSwgMC4xKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLm1pbmkuYWRkKFtiZywgdGhpcy5taW5pR2Z4LCB0aGlzLm1pbmlIaWdobGlnaHQsIHRoaXMubWluaUJ1aWxkaW5ncywgdGhpcy5taW5pTWFya2VycywgaGl0XSk7XHJcbiAgICB0aGlzLmhpZ2hsaWdodE1pbmlab25lKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhpZ2hsaWdodE1pbmlab25lKCkge1xyXG4gICAgaWYgKCF0aGlzLm1pbmlIaWdobGlnaHQpIHJldHVybjtcclxuICAgIGNvbnN0IGdyaWQgPSB0aGlzLnNwYXduTWFuYWdlcj8uZ2V0Wm9uZUdyaWQoKTtcclxuICAgIGNvbnN0IGNvbHMgPSBncmlkPy5jb2xzID8/IE1hdGgubWF4KDEsIE1hdGguZmxvb3IodGhpcy5tYXBXaWR0aFRpbGVzIC8gWk9ORV9USUxFUykpO1xyXG4gICAgY29uc3Qgcm93cyA9IGdyaWQ/LnJvd3MgPz8gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcih0aGlzLm1hcEhlaWdodFRpbGVzIC8gWk9ORV9USUxFUykpO1xyXG4gICAgY29uc3QgY3VyID0gdGhpcy5zcGF3bk1hbmFnZXI/LmdldEN1cnJlbnRab25lKCk7XHJcbiAgICBpZiAoIWN1cikgcmV0dXJuO1xyXG4gICAgY29uc3QgY3cgPSB0aGlzLm1pbmlXIC8gY29scztcclxuICAgIGNvbnN0IGNoID0gdGhpcy5taW5pSCAvIHJvd3M7XHJcbiAgICB0aGlzLm1pbmlIaWdobGlnaHQuY2xlYXIoKTtcclxuICAgIHRoaXMubWluaUhpZ2hsaWdodC5saW5lU3R5bGUoMiwgMHhmZmZmNjYsIDEpO1xyXG4gICAgdGhpcy5taW5pSGlnaGxpZ2h0LnN0cm9rZVJlY3QoY3VyLmNvbCAqIGN3LCBjdXIucm93ICogY2gsIGN3LCBjaCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHdvcmxkVG9NaW5pKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBzeCA9IHRoaXMubWluaVcgLyAodGhpcy5tYXBXaWR0aFRpbGVzICogdGhpcy50aWxlU2l6ZVB4KTtcclxuICAgIGNvbnN0IHN5ID0gdGhpcy5taW5pSCAvICh0aGlzLm1hcEhlaWdodFRpbGVzICogdGhpcy50aWxlU2l6ZVB4KTtcclxuICAgIHJldHVybiB7IHg6IHggKiBzeCwgeTogeSAqIHN5IH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZE1pbmlNYXJrZXIoa2V5OiBzdHJpbmcsIHd4OiBudW1iZXIsIHd5OiBudW1iZXIpIHtcclxuICAgIGlmICghdGhpcy5taW5pTWFya2VycykgcmV0dXJuO1xyXG4gICAgY29uc3QgcHQgPSB0aGlzLndvcmxkVG9NaW5pKHd4LCB3eSk7XHJcbiAgICBjb25zdCBkb3QgPSB0aGlzLmFkZC5yZWN0YW5nbGUocHQueCwgcHQueSwgNCwgNCwgMHhmZmZmZmYsIDEpLnNldE9yaWdpbigwLjUpO1xyXG4gICAgKGRvdCBhcyBhbnkpLm5hbWUgPSBrZXk7XHJcbiAgICB0aGlzLm1pbmlNYXJrZXJzLmFkZChkb3QpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZW1vdmVNaW5pTWFya2VyKGtleTogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXRoaXMubWluaU1hcmtlcnMpIHJldHVybjtcclxuICAgIGNvbnN0IGxpc3QgPSAodGhpcy5taW5pTWFya2VycyBhcyBhbnkpLmxpc3QgYXMgUGhhc2VyLkdhbWVPYmplY3RzLkdhbWVPYmplY3RbXTtcclxuICAgIGNvbnN0IGZvdW5kID0gbGlzdC5maW5kKChjaDogYW55KSA9PiBjaC5uYW1lID09PSBrZXkpO1xyXG4gICAgaWYgKGZvdW5kKSBmb3VuZC5kZXN0cm95KCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldE5lYXJlc3RBY3RpdmUocmFkaXVzOiBudW1iZXIpOiBhbnkgfCBudWxsIHtcclxuICAgIGlmICghdGhpcy5zcGF3bk1hbmFnZXIpIHJldHVybiBudWxsO1xyXG4gICAgbGV0IGJlc3Q6IGFueSA9IG51bGw7XHJcbiAgICBsZXQgYmVzdEQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XHJcbiAgICB0aGlzLnNwYXduTWFuYWdlci5nZXRBY3RpdmVTcGF3bnMoKS5mb3JFYWNoKChyZWM6IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCBkID0gUGhhc2VyLk1hdGguRGlzdGFuY2UuQmV0d2Vlbih0aGlzLnBsYXllci54LCB0aGlzLnBsYXllci55LCByZWMucG9zaXRpb24ueCwgcmVjLnBvc2l0aW9uLnkpO1xyXG4gICAgICBpZiAoZCA8IHJhZGl1cyAmJiBkIDwgYmVzdEQpIHsgYmVzdEQgPSBkOyBiZXN0ID0gcmVjOyB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBiZXN0O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBzdGFydEJhdHRsZUZyb21LZXkoa2V5OiBzdHJpbmcpIHtcclxuICAgIGlmICghdGhpcy5zcGF3bk1hbmFnZXIpIHJldHVybjtcclxuICAgIGNvbnN0IHJlYyA9IHRoaXMuc3Bhd25NYW5hZ2VyLmdldEFjdGl2ZVNwYXducygpLmZpbmQociA9PiByLmtleSA9PT0ga2V5KTtcclxuICAgIGlmICghcmVjKSByZXR1cm47XHJcbiAgICBpZiAoIXRoaXMuY29uZmlnRGF0YS5wbGF5ZXJQb2tlbW9uKSB7XHJcbiAgICAgIHRoaXMuc3RhdHVzT25jZSgnWW91IG5lZWQgYSBQb2vDqW1vbiB0byBiYXR0bGUhJywgODAwKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcG9rZVJlcyA9IGF3YWl0IGZldGNoKGBodHRwczovL3Bva2VhcGkuY28vYXBpL3YyL3Bva2Vtb24vJHtyZWMucG9rZUlkfWApO1xyXG4gICAgICBjb25zdCBwb2tlRGF0YSA9IGF3YWl0IHBva2VSZXMuanNvbigpO1xyXG4gICAgICB0aGlzLnNwYXduTWFuYWdlci5kZXNwYXduKGtleSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBUcmFuc2Zvcm0gcGxheWVyIFBva2Vtb24gdG8gbWF0Y2ggQmF0dGxlU2NlbmUgZXhwZWN0ZWQgZm9ybWF0XHJcbiAgICAgIGNvbnN0IHBsYXllclBva2UgPSB0aGlzLmNvbmZpZ0RhdGEucGxheWVyUG9rZW1vbjtcclxuICAgICAgY29uc3QgaHBTdGF0ID0gcGxheWVyUG9rZS5kYXRhPy5zdGF0cz8uZmluZCgoczogYW55KSA9PiBzLnN0YXQubmFtZSA9PT0gJ2hwJyk/LmJhc2Vfc3RhdCB8fCA1MDtcclxuICAgICAgY29uc3QgbGV2ZWwgPSBwbGF5ZXJQb2tlLmxldmVsIHx8IDE7XHJcbi8vIFVzZSBwcm9wZXIgUG9rZW1vbiBIUCBmb3JtdWxhIHdpdGggSVYgfjMxOiAoKDIqQmFzZSArIDMxKSAqIExldmVsIC8gMTAwKSArIExldmVsICsgMTBcclxuICAgICAgY29uc3QgbWF4SHAgPSBNYXRoLm1heCgyOCwgTWF0aC5mbG9vcigoKGhwU3RhdCAqIDIgKyAzMSkgKiBsZXZlbCkgLyAxMDAgKyBsZXZlbCArIDEwKSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBCdWlsZCBwbGF5ZXIgdGVhbSAoYXQgbWluaW11bSBpbmNsdWRlcyB0aGUgY3VycmVudCBQb2tlbW9uKVxyXG4gICAgICBjb25zdCBwbGF5ZXJUZWFtID0gW3tcclxuICAgICAgICBpZDogcGxheWVyUG9rZS5pZCxcclxuICAgICAgICBuYW1lOiBwbGF5ZXJQb2tlLm5hbWUgfHwgcGxheWVyUG9rZS5kaXNwbGF5TmFtZSxcclxuICAgICAgICBkYXRhOiBwbGF5ZXJQb2tlLmRhdGEsXHJcbiAgICAgICAgc3ByaXRlOiBwbGF5ZXJQb2tlLnNwcml0ZSxcclxuICAgICAgICBsZXZlbDogcGxheWVyUG9rZS5sZXZlbCB8fCAxLFxyXG4gICAgICAgIG1heEhwOiBtYXhIcCxcclxuICAgICAgfV07XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7IC8vIFBhdXNlIEdhbWVTY2VuZSBpbnN0ZWFkIG9mIHN0b3BwaW5nIGl0XHJcbiAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdCYXR0bGVTY2VuZScsIHtcclxuICAgICAgICB3aWxkUG9rZW1vbjoge1xyXG4gICAgICAgICAgbmFtZTogcmVjLm5hbWUsXHJcbiAgICAgICAgICBwb2tlSWQ6IHJlYy5wb2tlSWQsXHJcbiAgICAgICAgICBkYXRhOiBwb2tlRGF0YSxcclxuICAgICAgICAgIHNwcml0ZVVybDogcmVjLnNwcml0ZVVybCxcclxuICAgICAgICAgIGxldmVsOiByZWMubGV2ZWwsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwbGF5ZXJQb2tlbW9uOiB7XHJcbiAgICAgICAgICBuYW1lOiBwbGF5ZXJQb2tlLm5hbWUgfHwgcGxheWVyUG9rZS5kaXNwbGF5TmFtZSxcclxuICAgICAgICAgIHBva2VJZDogcGxheWVyUG9rZS5pZCxcclxuICAgICAgICAgIGRhdGE6IHBsYXllclBva2UuZGF0YSxcclxuICAgICAgICAgIHNwcml0ZVVybDogcGxheWVyUG9rZS5zcHJpdGUsXHJcbiAgICAgICAgICBsZXZlbDogcGxheWVyUG9rZS5sZXZlbCB8fCAxLFxyXG4gICAgICAgICAgbWF4SHA6IG1heEhwLFxyXG4gICAgICAgICAgY3VycmVudEhwOiBtYXhIcCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBsYXllclRlYW06IHBsYXllclRlYW0sXHJcbiAgICAgICAgdHJhaW5lckxldmVsOiB0aGlzLmNvbmZpZ0RhdGEudHJhaW5lckxldmVsIHx8IDEsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCB7fVxyXG4gIH1cclxuXHJcbiAgLy8gLS0tLSBTdHJ1Y3R1cmVzIC0tLS1cclxuICBwcml2YXRlIGdlbmVyYXRlU3RydWN0dXJlcygpIHtcclxuICAgIGNvbnN0IGNvbHMgPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHRoaXMubWFwV2lkdGhUaWxlcyAvIFpPTkVfVElMRVMpKTtcclxuICAgIGNvbnN0IHJvd3MgPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHRoaXMubWFwSGVpZ2h0VGlsZXMgLyBaT05FX1RJTEVTKSk7XHJcbiAgICBjb25zdCB6b25lcyA9IGdlbmVyYXRlWm9uZXMoY29scywgcm93cyk7XHJcbiAgICBjb25zdCBjaG9vc2UgPSA8VCw+KGFycjogVFtdKSA9PiBhcnJbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXJyLmxlbmd0aCldO1xyXG4gICAgY29uc3QgYnlCaW9tZTogUmVjb3JkPHN0cmluZywgU3RydWN0dXJlVHlwZVtdPiA9IHtcclxuICAgICAgY2l0eTogW1wibGFiXCIsIFwiaG91c2VcIl0sXHJcbiAgICAgIG1vdW50YWluOiBbXCJ0ZW1wbGVcIiwgXCJob3VzZVwiXSxcclxuICAgICAgZm9yZXN0OiBbXCJob3VzZVwiLCBcInRvd2VyXCJdLFxyXG4gICAgICBkZXNlcnQ6IFtcInRlbXBsZVwiXSxcclxuICAgICAgbGFrZTogW1widG93ZXJcIl0sXHJcbiAgICAgIGdyYXNzbGFuZDogW1wiaG91c2VcIl0sXHJcbiAgICAgIGNhdmU6IFtcInRvd2VyXCJdLFxyXG4gICAgICBzbm93ZmllbGQ6IFtcImhvdXNlXCIsIFwidGVtcGxlXCJdLFxyXG4gICAgfSBhcyBhbnk7XHJcblxyXG4gICAgdGhpcy5zdHJ1Y3R1cmVzID0gW107XHJcbiAgICB6b25lcy5mb3JFYWNoKCh6KSA9PiB7XHJcbiAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC4xMikgcmV0dXJuOyAvLyB+MTIlIG9mIHpvbmVzIGhhdmUgYSBidWlsZGluZ1xyXG4gICAgICBjb25zdCB0eXBlcyA9IGJ5QmlvbWVbei5iaW9tZV0gfHwgW1wiaG91c2VcIl07XHJcbiAgICAgIGNvbnN0IHR5cGUgPSBjaG9vc2UodHlwZXMpO1xyXG4gICAgICBjb25zdCBzdGFydFggPSB6LmNvbCAqIFpPTkVfVElMRVMgKiB0aGlzLnRpbGVTaXplUHg7XHJcbiAgICAgIGNvbnN0IHN0YXJ0WSA9IHoucm93ICogWk9ORV9USUxFUyAqIHRoaXMudGlsZVNpemVQeDtcclxuICAgICAgY29uc3QgeCA9IHN0YXJ0WCArIDE2ICsgTWF0aC5yYW5kb20oKSAqIChaT05FX1RJTEVTICogdGhpcy50aWxlU2l6ZVB4IC0gMzIpO1xyXG4gICAgICBjb25zdCB5ID0gc3RhcnRZICsgMTYgKyBNYXRoLnJhbmRvbSgpICogKFpPTkVfVElMRVMgKiB0aGlzLnRpbGVTaXplUHggLSAzMik7XHJcbiAgICAgIGNvbnN0IGlkID0gYGItJHt6LmlkfS0ke3R5cGV9LSR7TWF0aC5mbG9vcih4KX0tJHtNYXRoLmZsb29yKHkpfWA7XHJcbiAgICAgIHRoaXMuc3RydWN0dXJlcy5wdXNoKHsgaWQsIHR5cGUsIGNvbDogei5jb2wsIHJvdzogei5yb3csIHgsIHkgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyByZW5kZXJcclxuICAgIHRoaXMuc3RydWN0dXJlcy5mb3JFYWNoKChzKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbG9yID0gcy50eXBlID09PSBcImxhYlwiID8gMHhjZmUzZmYgOiBzLnR5cGUgPT09IFwidG93ZXJcIiA/IDB4NmI0ZTliIDogcy50eXBlID09PSBcInRlbXBsZVwiID8gMHhjMmIyODAgOiAweGQzZDNkMztcclxuICAgICAgY29uc3QgYnVpbGRpbmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUocy54LCBzLnksIDMyLCAyNCwgY29sb3IsIDEpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDE1KTtcclxuICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyhidWlsZGluZywgdHJ1ZSk7XHJcbiAgICAgIGNvbnN0IGRvb3IgPSB0aGlzLmFkZC5yZWN0YW5nbGUocy54LCBzLnkgKyAxMiwgMTAsIDYsIDB4MDAwMDAwLCAwLjgpLnNldERlcHRoKDE2KTtcclxuICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyhkb29yLCB0cnVlKTtcclxuICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMucGxheWVyLCBkb29yLCAoKSA9PiB0aGlzLmVudGVyU3RydWN0dXJlKHMpKTtcclxuICAgICAgLy8gbWluaW1hcCBtYXJrZXJcclxuICAgICAgaWYgKHRoaXMubWluaUJ1aWxkaW5ncykge1xyXG4gICAgICAgIGNvbnN0IHB0ID0gdGhpcy53b3JsZFRvTWluaShzLngsIHMueSk7XHJcbiAgICAgICAgY29uc3Qgc3EgPSB0aGlzLmFkZC5yZWN0YW5nbGUocHQueCwgcHQueSwgNSwgNSwgMHhmZmUwNjYsIDEpLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMubWluaUJ1aWxkaW5ncy5hZGQoc3EpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZW50ZXJTdHJ1Y3R1cmUoczogU3RydWN0dXJlRGVmKSB7XHJcbiAgICBpZiAodGhpcy5pbnNpZGVTdHJ1Y3R1cmUuYWN0aXZlKSByZXR1cm47XHJcbiAgICB0aGlzLmluc2lkZVN0cnVjdHVyZSA9IHsgYWN0aXZlOiB0cnVlLCB0eXBlOiBzLnR5cGUgfSBhcyBhbnk7XHJcbiAgICAvLyBvdmVycmlkZSBzcGF3biBwb29sIGJhc2VkIG9uIHN0cnVjdHVyZSAtPiB1c2UgQklPTUVTIG1hcHBpbmdcclxuICAgIGNvbnN0IGIgPSBzLnR5cGUgPT09IFwidG93ZXJcIiA/IEJJT01FUy50b3dlciA6IHMudHlwZSA9PT0gXCJsYWJcIiA/IEJJT01FUy5sYWIgOiBCSU9NRVMudGVtcGxlO1xyXG4gICAgdGhpcy5hcHBseUJpb21lKGIuaWQpO1xyXG4gICAgdGhpcy5zcGF3bk1hbmFnZXI/LnNldE92ZXJyaWRlVHlwZXMoYi5wb2tlbW9uUG9vbCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGV4aXRTdHJ1Y3R1cmUoKSB7XHJcbiAgICBpZiAoIXRoaXMuaW5zaWRlU3RydWN0dXJlLmFjdGl2ZSkgcmV0dXJuO1xyXG4gICAgdGhpcy5pbnNpZGVTdHJ1Y3R1cmUgPSB7IGFjdGl2ZTogZmFsc2UsIHR5cGU6IG51bGwgfSBhcyBhbnk7XHJcbiAgICAvLyBjbGVhciBvdmVycmlkZSBhbmQgcmUtYXBwbHkgem9uZSBiaW9tZSBjb2xvclxyXG4gICAgdGhpcy5zcGF3bk1hbmFnZXI/LnNldE92ZXJyaWRlVHlwZXMobnVsbCk7XHJcbiAgICBjb25zdCBjdXIgPSB0aGlzLnNwYXduTWFuYWdlcj8uZ2V0Q3VycmVudFpvbmUoKTtcclxuICAgIGlmIChjdXIpIHtcclxuICAgICAgY29uc3Qgem9uZXMgPSBnZW5lcmF0ZVpvbmVzKE1hdGguZmxvb3IodGhpcy5tYXBXaWR0aFRpbGVzIC8gWk9ORV9USUxFUyksIE1hdGguZmxvb3IodGhpcy5tYXBIZWlnaHRUaWxlcyAvIFpPTkVfVElMRVMpKTtcclxuICAgICAgY29uc3QgbWV0YSA9IHpvbmVzLmZpbmQoKHEpID0+IHEuaWQgPT09IGAke2N1ci5jb2x9LCR7Y3VyLnJvd31gKTtcclxuICAgICAgaWYgKG1ldGEpIHRoaXMuYXBwbHlCaW9tZShtZXRhLmJpb21lIGFzIEJpb21lSWQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhcHBseUJpb21lKGlkOiBCaW9tZUlkKSB7XHJcbiAgICBjb25zdCBkZWYgPSBCSU9NRVNbaWRdO1xyXG4gICAgaWYgKCFkZWYpIHJldHVybjtcclxuICAgIGlmICh0aGlzLmVudk92ZXJsYXkpIHtcclxuICAgICAgY29uc3QgdGFyZ2V0ID0gZGVmLmVudmlyb25tZW50Q29sb3I7XHJcbiAgICAgIGNvbnN0IGZyb20gPSAodGhpcy5lbnZPdmVybGF5LmZpbGxDb2xvciA/PyAweGZmZmZmZikgYXMgbnVtYmVyO1xyXG4gICAgICBjb25zdCBvID0geyB0OiAwIH0gYXMgYW55O1xyXG4gICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiBvLCB0OiAxLCBkdXJhdGlvbjogNDAwLCBvblVwZGF0ZTogKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGMgPSBQaGFzZXIuRGlzcGxheS5Db2xvci5JbnRlcnBvbGF0ZS5Db2xvcldpdGhDb2xvcihcclxuICAgICAgICAgIFBoYXNlci5EaXNwbGF5LkNvbG9yLkludGVnZXJUb0NvbG9yKGZyb20pLFxyXG4gICAgICAgICAgUGhhc2VyLkRpc3BsYXkuQ29sb3IuSW50ZWdlclRvQ29sb3IodGFyZ2V0KSxcclxuICAgICAgICAgIDEwMCxcclxuICAgICAgICAgIE1hdGguZmxvb3Ioby50ICogMTAwKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc3QgaGV4ID0gUGhhc2VyLkRpc3BsYXkuQ29sb3IuR2V0Q29sb3IoYy5yLCBjLmcsIGMuYik7XHJcbiAgICAgICAgdGhpcy5lbnZPdmVybGF5IS5zZXRGaWxsU3R5bGUoaGV4LCAwLjA4KTtcclxuICAgICAgfX0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gLS0tLSBNdWx0aXBsYXllciByZW5kZXJpbmcgLS0tLVxyXG5cclxuICBwcml2YXRlIG9uTXVsdGlwbGF5ZXJQbGF5ZXJKb2luKHBsYXllcjogYW55KSB7XHJcbiAgICBjb25zdCB3YWxsZXQgPSBwbGF5ZXIud2FsbGV0O1xyXG4gICAgY29uc3QgbXlXYWxsZXQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhbGdvcmFuZF93YWxsZXRfYWRkcmVzcycpIDogbnVsbDtcclxuICAgIGlmICh3YWxsZXQgPT09IG15V2FsbGV0KSByZXR1cm47IC8vIERvbid0IHJlbmRlciBzZWxmXHJcbiAgICBcclxuICAgIC8vIENoZWNrIGlmIHBsYXllciBpcyBuZWFyYnkgKHdpdGhpbiByZWFzb25hYmxlIGRpc3RhbmNlKVxyXG4gICAgY29uc3QgZGlzdCA9IFBoYXNlci5NYXRoLkRpc3RhbmNlLkJldHdlZW4odGhpcy5wbGF5ZXIueCwgdGhpcy5wbGF5ZXIueSwgcGxheWVyLngsIHBsYXllci55KTtcclxuICAgIGlmIChkaXN0ID4gdGhpcy50aWxlU2l6ZVB4ICogMjApIHJldHVybjsgLy8gVG9vIGZhciwgZG9uJ3Qgc2hvd1xyXG4gICAgXHJcbiAgICAvLyBDcmVhdGUgc3ByaXRlIChzbWFsbGVyIHRoYW4gcGxheWVyKVxyXG4gICAgY29uc3Qgc3ByaXRlID0gdGhpcy5hZGQuc3ByaXRlKHBsYXllci54LCBwbGF5ZXIueSwgJ3BsYXllcicpO1xyXG4gICAgc3ByaXRlLnNldFRpbnQoMHg0YTkwZTIpOyAvLyBCbHVlIHRpbnQgZm9yIG90aGVyIHBsYXllcnNcclxuICAgIHNwcml0ZS5zZXRTY2FsZSgwLjc1KTsgLy8gU21hbGxlciB0aGFuIHBsYXllclxyXG4gICAgc3ByaXRlLnNldERlcHRoKDkpO1xyXG4gICAgXHJcbiAgICAvLyBDcmVhdGUgbGFiZWwgYWJvdmUgc3ByaXRlXHJcbiAgICBjb25zdCBuYW1lID0gcGxheWVyLm5hbWUgfHwgcGxheWVyLndhbGxldC5zbGljZSgwLCA2KTtcclxuICAgIGNvbnN0IGxhYmVsID0gdGhpcy5hZGQudGV4dChwbGF5ZXIueCwgcGxheWVyLnkgLSAyMCwgbmFtZSwge1xyXG4gICAgICBmb250U2l6ZTogJzEwcHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmYnLFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwODgnLFxyXG4gICAgICBwYWRkaW5nOiB7IHg6IDQsIHk6IDIgfVxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMTAwMCk7XHJcbiAgICBcclxuICAgIHRoaXMubXVsdGlwbGF5ZXJQbGF5ZXJzLnNldCh3YWxsZXQsIHtcclxuICAgICAgc3ByaXRlLFxyXG4gICAgICBsYWJlbCxcclxuICAgICAgZGF0YTogcGxheWVyLFxyXG4gICAgICB0YXJnZXRYOiBwbGF5ZXIueCxcclxuICAgICAgdGFyZ2V0WTogcGxheWVyLnlcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBUb2FzdCBub3RpZmljYXRpb25cclxuICAgIHRoaXMudWk/LnRvYXN0VG9wKGAke25hbWV9IGVudGVyZWQgeW91ciBhcmVhYCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uTXVsdGlwbGF5ZXJQbGF5ZXJMZWF2ZSh3YWxsZXQ6IHN0cmluZykge1xyXG4gICAgY29uc3QgcGxheWVyID0gdGhpcy5tdWx0aXBsYXllclBsYXllcnMuZ2V0KHdhbGxldCk7XHJcbiAgICBpZiAoIXBsYXllcikgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCBuYW1lID0gcGxheWVyLmRhdGEubmFtZSB8fCB3YWxsZXQuc2xpY2UoMCwgNik7XHJcbiAgICBcclxuICAgIC8vIEZhZGUgb3V0IGFuZCBkZXN0cm95XHJcbiAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICB0YXJnZXRzOiBbcGxheWVyLnNwcml0ZSwgcGxheWVyLmxhYmVsXSxcclxuICAgICAgYWxwaGE6IDAsXHJcbiAgICAgIGR1cmF0aW9uOiA1MDAsXHJcbiAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICBwbGF5ZXIuc3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICBpZiAocGxheWVyLmxhYmVsKSBwbGF5ZXIubGFiZWwuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMubXVsdGlwbGF5ZXJQbGF5ZXJzLmRlbGV0ZSh3YWxsZXQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gVG9hc3Qgbm90aWZpY2F0aW9uXHJcbiAgICB0aGlzLnVpPy50b2FzdFRvcChgJHtuYW1lfSBsZWZ0IHlvdXIgYXJlYWApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVPbmxpbmVDb3VudGVyKCkge1xyXG4gICAgaWYgKHRoaXMuaHVkT25saW5lVGV4dCkge1xyXG4gICAgICBjb25zdCBjb3VudCA9IHRoaXMub25saW5lQ291bnQ7XHJcbiAgICAgIHRoaXMuaHVkT25saW5lVGV4dC5zZXRUZXh0KGAke2NvdW50fSBUcmFpbmVyJHtjb3VudCAhPT0gMSA/ICdzJyA6ICcnfSBPbmxpbmVgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlTXVsdGlwbGF5ZXJQbGF5ZXJzKCkge1xyXG4gICAgLy8gVGhpcyBtZXRob2QgaXMga2VwdCBmb3IgY29tcGF0aWJpbGl0eSBidXQgdGhlIHNpbXBsZXIgc3lzdGVtIHVzZXMgT3RoZXJQbGF5ZXJzIHJlbmRlcmVyXHJcbiAgICAvLyBUaGUgT3RoZXJQbGF5ZXJzIHJlbmRlcmVyIGhhbmRsZXMgcGxheWVyIHVwZGF0ZXMgdmlhIG9uUGxheWVyc1VwZGF0ZSBjYWxsYmFja1xyXG4gICAgLy8gTm8tb3A6IHBsYXllciByZW5kZXJpbmcgaXMgaGFuZGxlZCBieSBPdGhlclBsYXllcnMgY2xhc3NcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25ab25lQ2hhbmdlZChvbGRab25lOiBzdHJpbmcgfCBudWxsLCBuZXdab25lOiBzdHJpbmcpIHtcclxuICAgIC8vIENsZWFyIHNwYXducyBmcm9tIG9sZCB6b25lXHJcbiAgICBpZiAob2xkWm9uZSkge1xyXG4gICAgICAvLyBSZW1vdmUgc3Bhd25zIHRoYXQgZG9uJ3QgYmVsb25nIHRvIG5ldyB6b25lXHJcbiAgICAgIGZvciAoY29uc3QgW2lkLCByZWNdIG9mIHRoaXMuYmFja2VuZFNwYXducy5lbnRyaWVzKCkpIHtcclxuICAgICAgICBpZiAocmVjLmRhdGEuem9uZUlkICYmIHJlYy5kYXRhLnpvbmVJZCAhPT0gbmV3Wm9uZSkge1xyXG4gICAgICAgICAgcmVjLnNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICBpZiAocmVjLmdsb3dDaXJjbGUpIHJlYy5nbG93Q2lyY2xlLmRlc3Ryb3koKTtcclxuICAgICAgICAgIGlmIChyZWMucHVsc2VUd2VlbikgcmVjLnB1bHNlVHdlZW4uZGVzdHJveSgpO1xyXG4gICAgICAgICAgdGhpcy5iYWNrZW5kU3Bhd25zLmRlbGV0ZShpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMudWk/LnRvYXN0VG9wKGBFbnRlcmVkIHpvbmUgJHtuZXdab25lfWApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBSZXF1ZXN0IHNwYXducyBmb3IgbmV3IHpvbmVcclxuICAgIHRoaXMucG9sbEJhY2tlbmRTcGF3bnMoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlWm9uZVNwYXducyhzcGF3bnM6IGFueVtdKSB7XHJcbiAgICAvLyBVcGRhdGUgc3Bhd25zIGZyb20gc29ja2V0IGJyb2FkY2FzdFxyXG4gICAgY29uc3Qgc3Bhd25ab25lQ29sID0gTWF0aC5mbG9vcih0aGlzLnBsYXllci54IC8gKHRoaXMudGlsZVNpemVQeCAqIDEwKSk7XHJcbiAgICBjb25zdCBzcGF3blpvbmVSb3cgPSBNYXRoLmZsb29yKHRoaXMucGxheWVyLnkgLyAodGhpcy50aWxlU2l6ZVB4ICogMTApKTtcclxuICAgIGNvbnN0IGN1cnJlbnRab25lID0gYHpvbmVfJHtzcGF3blpvbmVDb2x9XyR7c3Bhd25ab25lUm93fWA7XHJcbiAgICBpZiAoIWN1cnJlbnRab25lKSByZXR1cm47XHJcbiAgICBcclxuICAgIHNwYXducy5mb3JFYWNoKChzOiBhbnkpID0+IHtcclxuICAgICAgaWYgKHMuem9uZUlkICE9PSBjdXJyZW50Wm9uZSkgcmV0dXJuOyAvLyBPbmx5IHByb2Nlc3Mgc3Bhd25zIGZvciBjdXJyZW50IHpvbmVcclxuICAgICAgXHJcbiAgICAgIGlmICghdGhpcy5iYWNrZW5kU3Bhd25zLmhhcyhzLmlkKSkge1xyXG4gICAgICAgIC8vIEFkZCBuZXcgc3Bhd25cclxuICAgICAgICBjb25zdCBzcHJpdGUgPSB0aGlzLmFkZC5pbWFnZShzLngsIHMueSwgYHBrLSR7cy5wb2tlSWR9YCkuc2V0VmlzaWJsZShmYWxzZSkuc2V0RGVwdGgoMTgpLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBpZiAoIXRoaXMudGV4dHVyZXMuZXhpc3RzKGBway0ke3MucG9rZUlkfWApKSB7XHJcbiAgICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoYHBrLSR7cy5wb2tlSWR9YCwgYGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9Qb2tlQVBJL3Nwcml0ZXMvbWFzdGVyL3Nwcml0ZXMvcG9rZW1vbi8ke3MucG9rZUlkfS5wbmdgKTtcclxuICAgICAgICAgIHRoaXMubG9hZC5vbmNlKFBoYXNlci5Mb2FkZXIuRXZlbnRzLkNPTVBMRVRFLCAoKSA9PiBzcHJpdGUuc2V0VGV4dHVyZShgcGstJHtzLnBva2VJZH1gKSk7XHJcbiAgICAgICAgICB0aGlzLmxvYWQuc3RhcnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZ2xvd0NpcmNsZSA9IHRoaXMuYWRkLmNpcmNsZShzLngsIHMueSwgMjQsIDB4ZmZmZjY2LCAwLjQpLnNldERlcHRoKDE3KTtcclxuICAgICAgICBjb25zdCBwdWxzZVR3ZWVuID0gdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgIHRhcmdldHM6IGdsb3dDaXJjbGUsXHJcbiAgICAgICAgICByYWRpdXM6IHsgZnJvbTogMjAsIHRvOiAzMiB9LFxyXG4gICAgICAgICAgYWxwaGE6IHsgZnJvbTogMC4zLCB0bzogMC42IH0sXHJcbiAgICAgICAgICBkdXJhdGlvbjogMTIwMCxcclxuICAgICAgICAgIHlveW86IHRydWUsXHJcbiAgICAgICAgICByZXBlYXQ6IC0xLFxyXG4gICAgICAgICAgZWFzZTogJ1NpbmUuZWFzZUluT3V0J1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNwcml0ZS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB0aGlzLnRyeUNhcHR1cmVCYWNrZW5kU3Bhd24ocykpO1xyXG4gICAgICAgIHNwcml0ZS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYmFja2VuZFNwYXducy5zZXQocy5pZCwgeyBzcHJpdGUsIGRhdGE6IHMsIGdsb3dDaXJjbGUsIHB1bHNlVHdlZW4gfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwdXNoU3Bhd25zVG9VSSgpIHtcclxuICAgIGlmICghdGhpcy5jb25maWdEYXRhLm9uU3Bhd25zVXBkYXRlIHx8ICF0aGlzLnNwYXduTWFuYWdlcikgcmV0dXJuO1xyXG4gICAgY29uc3Qgc3Bhd25zID0gdGhpcy5zcGF3bk1hbmFnZXIuZ2V0QWN0aXZlU3Bhd25zKCkubWFwKChyOiBhbnkpID0+ICh7XHJcbiAgICAgIGtleTogci5rZXksXHJcbiAgICAgIG5hbWU6IHIubmFtZSxcclxuICAgICAgcG9rZUlkOiByLnBva2VJZCxcclxuICAgICAgc3ByaXRlVXJsOiByLnNwcml0ZVVybCxcclxuICAgICAgcG9zaXRpb246IHIucG9zaXRpb24sXHJcbiAgICAgIGxldmVsOiByLmxldmVsLFxyXG4gICAgICByYXJpdHk6IHIucmFyaXR5LFxyXG4gICAgICBkaXN0YW5jZTogUGhhc2VyLk1hdGguRGlzdGFuY2UuQmV0d2Vlbih0aGlzLnBsYXllci54LCB0aGlzLnBsYXllci55LCByLnBvc2l0aW9uLngsIHIucG9zaXRpb24ueSksXHJcbiAgICB9KSk7XHJcbiAgICB0aGlzLmNvbmZpZ0RhdGEub25TcGF3bnNVcGRhdGUoc3Bhd25zKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIlBoYXNlciIsImlvIiwiU3Bhd25NYW5hZ2VyIiwiWk9ORV9USUxFUyIsImdlbmVyYXRlWm9uZXMiLCJCSU9NRVMiLCJVSU1hbmFnZXIiLCJNdWx0aXBsYXllckhhbmRsZXIiLCJPdGhlclBsYXllcnMiLCJUcmFuc2FjdGlvbk1hbmFnZXIiLCJYUE1hbmFnZXIiLCJjYXBpdGFsaXplIiwicyIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJHYW1lU2NlbmUiLCJTY2VuZSIsImNvbmZpZ0RhdGEiLCJ0aWxlU2l6ZSIsIm1hcFdpZHRoIiwibWFwSGVpZ2h0IiwicGxheWVyU3BlZWQiLCJtYXBXaWR0aFRpbGVzIiwibWFwSGVpZ2h0VGlsZXMiLCJ0aWxlU2l6ZVB4Iiwib3RoZXJzIiwiTWFwIiwib3RoZXJQb3NpdGlvbnMiLCJsYXN0U2VudCIsImdob3N0cyIsImxhc3RTdGF0dXNBdCIsIm1pbmlXIiwibWluaUgiLCJmbG9hdGluZ1RleHRzIiwibXVsdGlwbGF5ZXJQbGF5ZXJzIiwib25saW5lQ291bnQiLCJiYWNrZW5kU3Bhd25zIiwic3RydWN0dXJlcyIsImluc2lkZVN0cnVjdHVyZSIsImFjdGl2ZSIsInR5cGUiLCJpbml0IiwiZGF0YSIsInByZWxvYWQiLCJ3aWR0aCIsImhlaWdodCIsInRleHR1cmVzIiwiZXhpc3RzIiwicmVtb3ZlIiwic2hlZXQiLCJjcmVhdGVDYW52YXMiLCJFcnJvciIsImN0eCIsImdldENvbnRleHQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImkiLCJ4IiwiTWF0aCIsInJhbmRvbSIsInkiLCJzdHJva2VTdHlsZSIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsInJlZnJlc2giLCJnIiwibWFrZSIsImdyYXBoaWNzIiwiZmlsbENpcmNsZSIsImxpbmVTdHlsZSIsInN0cm9rZUNpcmNsZSIsImdlbmVyYXRlVGV4dHVyZSIsImRlc3Ryb3kiLCJjcmVhdGUiLCJtYXAiLCJ0aWxlbWFwIiwidGlsZVdpZHRoIiwidGlsZUhlaWdodCIsInRpbGVzZXQiLCJhZGRUaWxlc2V0SW1hZ2UiLCJsYXllciIsImNyZWF0ZUJsYW5rTGF5ZXIiLCJncm91bmRMYXllciIsImZpbGwiLCJwdXRUaWxlQXQiLCJmbG9vciIsInJ4IiwiQmV0d2VlbiIsInJ5Iiwic2V0Q29sbGlzaW9uIiwic3RhcnRYIiwiaW5pdGlhbFgiLCJzdGFydFkiLCJpbml0aWFsWSIsInBsYXllciIsInBoeXNpY3MiLCJhZGQiLCJzcHJpdGUiLCJzZXREZXB0aCIsInNldENvbGxpZGVXb3JsZEJvdW5kcyIsIndvcmxkV2lkdGgiLCJ3b3JsZEhlaWdodCIsImNhbWVyYXMiLCJtYWluIiwic2V0Qm91bmRzIiwic3RhcnRGb2xsb3ciLCJ3b3JsZCIsImNvbGxpZGVyIiwiY3Vyc29ycyIsImlucHV0Iiwia2V5Ym9hcmQiLCJjcmVhdGVDdXJzb3JLZXlzIiwid2FzZCIsImFkZEtleXMiLCJXIiwiSW5wdXQiLCJLZXlib2FyZCIsIktleUNvZGVzIiwiQSIsIlMiLCJEIiwiZW50ZXJLZXkiLCJhZGRLZXkiLCJFTlRFUiIsImluaXRNdWx0aXBsYXllciIsImVudk92ZXJsYXkiLCJyZWN0YW5nbGUiLCJzY2FsZSIsInNldE9yaWdpbiIsInNldFNjcm9sbEZhY3RvciIsInVpIiwibXAiLCJvdGhlclBsYXllcnMiLCJ3YWxsZXQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiam9pbkdhbWUiLCJvblBsYXllcnNVcGRhdGUiLCJwbGF5ZXJzIiwidXBkYXRlUGxheWVycyIsImluaXRpYWxYUCIsInBhcnNlSW50IiwieHBNYW5hZ2VyIiwib25YUFVwZGF0ZSIsImV2ZW50IiwiaGFuZGxlWFBVcGRhdGUiLCJ0eEhhbmRsZXIiLCJlIiwidHgiLCJkZXRhaWwiLCJ0eElkIiwibG9nVHJhbnNhY3Rpb24iLCJhc3NldCIsIm1ldGEiLCJ0b2FzdFRvcCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudHMiLCJvbmNlIiwiU2NlbmVzIiwiRXZlbnRzIiwiU0hVVERPV04iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY3JlYXRlTWluaU1hcCIsImNyZWF0ZUhVRCIsInRyYWluZXJMZXZlbCIsInNwYXduTWFuYWdlciIsIm9uIiwicmVjIiwiYWRkTWluaU1hcmtlciIsImtleSIsInBvc2l0aW9uIiwic3RhdHVzT25jZSIsIm5hbWUiLCJvblBva2Vtb25TcG90dGVkIiwic3ByaXRlVXJsIiwicG9rZUlkIiwicHVzaFNwYXduc1RvVUkiLCJfa2V5IiwicmVtb3ZlTWluaU1hcmtlciIsImdldEFjdGl2ZVNwYXducyIsImxlbmd0aCIsIm9uUG9rZW1vbkNsZWFyZWQiLCJzdGFydEJhdHRsZUZyb21LZXkiLCJ6IiwiaGlnaGxpZ2h0TWluaVpvbmUiLCJjengiLCJjb2wiLCJjenkiLCJyb3ciLCJjYW0iLCJzdG9wRm9sbG93IiwicGFuIiwiY2FtZXJhIiwicHJvZ3Jlc3MiLCJ6b25lcyIsImZpbmQiLCJxIiwiaWQiLCJhcHBseUJpb21lIiwiYmlvbWUiLCJnZW5lcmF0ZVN0cnVjdHVyZXMiLCJzdGFydCIsImppdHRlciIsInNwYXduUG9sbCIsInRpbWUiLCJhZGRFdmVudCIsImRlbGF5IiwibG9vcCIsImNhbGxiYWNrIiwicG9sbEJhY2tlbmRTcGF3bnMiLCJkZWxheWVkQ2FsbCIsImluaXRUcmFpbmVyUGVyc2lzdGVuY2UiLCJzdGFydE5lYXJieVBvbGxpbmciLCJjYXB0dXJlSGFuZGxlciIsInNwYXduIiwicGVyZm9ybUNhcHR1cmUiLCJ6b25lU3Bhd25zSGFuZGxlciIsInNwYXducyIsImhhbmRsZVpvbmVTcGF3bnMiLCJhdXRvc2F2ZVRpbWVyIiwiYXV0b3NhdmUiLCJoYW5kbGVyIiwidXBkYXRlIiwiYm9keSIsInNwZWVkIiwidngiLCJ2eSIsImxlZnQiLCJpc0Rvd24iLCJyaWdodCIsInVwIiwiZG93biIsInNldFZlbG9jaXR5IiwibGVuIiwiaHlwb3QiLCJtaW5pIiwibm93Iiwic29ja2V0IiwiZW1pdCIsInNlbmRQb3NpdGlvbiIsIklOVEVSUF9TUEVFRCIsImZvckVhY2giLCJwb3MiLCJnZXQiLCJMaW5lYXIiLCJ0YXJnZXRYIiwidGFyZ2V0WSIsInNldFBvc2l0aW9uIiwidXBkYXRlUGxheWVyUG9zIiwiY2hlY2tTcGF3blByb3hpbWl0eSIsIkp1c3REb3duIiwibmVhcmVzdCIsImdldE5lYXJlc3RBY3RpdmUiLCJfdGV4dCIsImNvb2xkb3duTXMiLCJ3IiwiaCIsImh1ZCIsImNvbnRhaW5lciIsImJnIiwiaHVkQmFyQmciLCJodWRCYXJGZyIsImh1ZFRleHQiLCJ0ZXh0IiwiZm9udFNpemUiLCJjb2xvciIsImh1ZE9ubGluZVRleHQiLCJ1cGRhdGVIVUQiLCJsZXZlbCIsImN1cnJlbnRYUCIsIm5leHRMZXZlbFhQIiwicGN0IiwibWF4IiwibWluIiwidGFyZ2V0V2lkdGgiLCJ0d2VlbnMiLCJ0YXJnZXRzIiwiZHVyYXRpb24iLCJlYXNlIiwic2V0VGV4dCIsImxvYWRUcmFpbmVyIiwiYXV0b3NhdmVUcmFpbmVyIiwiZmx1c2hRdWV1ZSIsInJlcyIsImNhdGNoIiwidHJhaW5lciIsInQiLCJsb2NhdGlvbiIsInhwIiwidW5kZWZpbmVkIiwic2V0WFAiLCJzaG93U2F2ZWRUb2FzdCIsIndhbGxldEFkZHJlc3MiLCJjdXN0b21FdmVudCIsIm5ld0xldmVsIiwic2V0SXRlbSIsIm5ld1hQIiwidG9TdHJpbmciLCJzaG93RmxvYXRpbmdYUCIsInhwR2FpbmVkIiwibGV2ZWxlZFVwIiwicGxheUxldmVsVXBFZmZlY3QiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJwYXJ0aWNsZXMiLCJlbmQiLCJsaWZlc3BhbiIsInF1YW50aXR5IiwidGludCIsImZsYXNoIiwiYWxwaGEiLCJvbkNvbXBsZXRlIiwicmVhc29uIiwiYmFzZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19CQUNLRU5EX1VSTCIsImVucXVldWVTYXZlIiwidXJsIiwibWV0aG9kIiwiaGVhZGVycyIsImdldEN1cnJlbnRCaW9tZUlkIiwibHZsIiwiem9uZUNvbCIsInpvbmVSb3ciLCJ6b25lSWQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJmZXRjaCIsImNhY2hlIiwianNvbiIsImxpc3QiLCJoYXMiLCJleGlzdGluZyIsImltYWdlIiwic2V0VmlzaWJsZSIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsImxvYWQiLCJMb2FkZXIiLCJDT01QTEVURSIsInNldFRleHR1cmUiLCJnbG93Q2lyY2xlIiwiY2lyY2xlIiwicHVsc2VUd2VlbiIsInJhZGl1cyIsImZyb20iLCJ0byIsInlveW8iLCJyZXBlYXQiLCJ0cnlDYXB0dXJlQmFja2VuZFNwYXduIiwic2V0IiwiY2xlYW51cFpvbmVDb2wiLCJjbGVhbnVwWm9uZVJvdyIsImN1cnJlbnRab25lIiwiZW50cmllcyIsImluTGlzdCIsIndyb25nWm9uZSIsImRlbGV0ZSIsIlBST1hJTUlUWV9USFJFU0hPTEQiLCJBcnJheSIsInZhbHVlcyIsImRpc3QiLCJEaXN0YW5jZSIsInByb3hpbWl0eVRyaWdnZXJlZCIsInJhcml0eSIsImQiLCJpbWFnZUJhc2U2NCIsImltZ1Jlc3AiLCJibG9iIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwib25sb2FkZW5kIiwicmVzdWx0Iiwib25lcnJvciIsInJlYWRBc0RhdGFVUkwiLCJjb25zb2xlIiwiZXJyb3IiLCJyZXNwIiwiSlNPTiIsInN0cmluZ2lmeSIsImpzIiwic3VjY2VzcyIsInhwRXZlbnQiLCJhZGRYUCIsIm9sZExldmVsIiwib2xkWFAiLCJsZXZlbERhdGEiLCJsZXZlbEZyb21YUCIsIm91dGNvbWUiLCJvcHRJblJlcXVpcmVkIiwidHhJZFNlbmQiLCJ0eElkTWludCIsImFzc2V0SWQiLCJpcGZzIiwibWV0YWRhdGFDSUQiLCJwb2tlbW9uIiwibG9nQ2FwdHVyZSIsImdldExldmVsRGF0YSIsIkRhdGUiLCJhdHRlbXB0WFAiLCJ0eHQiLCJwYWRTdGFydCIsInN0cm9rZVRoaWNrbmVzcyIsImZvbnRTdHlsZSIsInRvYXN0IiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsInNjZW5lIiwiY29scyIsInJvd3MiLCJjdXIiLCJnZXRDdXJyZW50Wm9uZSIsIm5lYXJieVRpbWVyIiwidXNlcm5hbWUiLCJ0aWxlWCIsInRpbGVZIiwic3ZjIiwidXBkYXRlQWN0aXZlUG9zaXRpb24iLCJmZXRjaE5lYXJieSIsInRyYWluZXJzIiwicmVuZGVyR2hvc3RzIiwibGFiZWwiLCJjbGVhciIsIndhbnRlZCIsIlNldCIsInRvTG93ZXJDYXNlIiwia2V5cyIsImsiLCJ3eCIsInd5Iiwic2V0VGludCIsInNldEFscGhhIiwic2V0U2NhbGUiLCJzaG93VGlwIiwicHJvbXB0Q2hhbGxlbmdlIiwibW9kYWwiLCJib3JkZXIiLCJzZXRTdHJva2VTdHlsZSIsIm9rIiwiY2FuY2VsIiwidHJhbnNwb3J0cyIsImF1dG9Db25uZWN0IiwibXlJZCIsInBheWxvYWQiLCJPYmplY3QiLCJzcGF3bk90aGVyIiwibGFzdFVwZGF0ZSIsInJlbW92ZUFsbExpc3RlbmVycyIsImRpc2Nvbm5lY3QiLCJiYXNlWCIsImJhc2VZIiwibWluaUdmeCIsIm1pbmlNYXJrZXJzIiwibWluaUJ1aWxkaW5ncyIsIm1pbmlIaWdobGlnaHQiLCJzdHJva2VSZWN0IiwiaGl0Iiwiem9uZSIsIl9wb2ludGVyIiwibG9jYWxYIiwibG9jYWxZIiwiemMiLCJ6ciIsImN4IiwiY3kiLCJncmlkIiwiZ2V0Wm9uZUdyaWQiLCJjdyIsImNoIiwid29ybGRUb01pbmkiLCJzeCIsInN5IiwicHQiLCJkb3QiLCJmb3VuZCIsImJlc3QiLCJiZXN0RCIsIk51bWJlciIsIlBPU0lUSVZFX0lORklOSVRZIiwiciIsInBsYXllclBva2Vtb24iLCJwb2tlUmVzIiwicG9rZURhdGEiLCJkZXNwYXduIiwicGxheWVyUG9rZSIsImhwU3RhdCIsInN0YXRzIiwic3RhdCIsImJhc2Vfc3RhdCIsIm1heEhwIiwicGxheWVyVGVhbSIsImRpc3BsYXlOYW1lIiwicGF1c2UiLCJsYXVuY2giLCJ3aWxkUG9rZW1vbiIsImN1cnJlbnRIcCIsImNob29zZSIsImFyciIsImJ5QmlvbWUiLCJjaXR5IiwibW91bnRhaW4iLCJmb3Jlc3QiLCJkZXNlcnQiLCJsYWtlIiwiZ3Jhc3NsYW5kIiwiY2F2ZSIsInNub3dmaWVsZCIsInR5cGVzIiwicHVzaCIsImJ1aWxkaW5nIiwiZG9vciIsIm92ZXJsYXAiLCJlbnRlclN0cnVjdHVyZSIsInNxIiwiYiIsInRvd2VyIiwibGFiIiwidGVtcGxlIiwic2V0T3ZlcnJpZGVUeXBlcyIsInBva2Vtb25Qb29sIiwiZXhpdFN0cnVjdHVyZSIsImRlZiIsInRhcmdldCIsImVudmlyb25tZW50Q29sb3IiLCJmaWxsQ29sb3IiLCJvIiwib25VcGRhdGUiLCJjIiwiRGlzcGxheSIsIkNvbG9yIiwiSW50ZXJwb2xhdGUiLCJDb2xvcldpdGhDb2xvciIsIkludGVnZXJUb0NvbG9yIiwiaGV4IiwiR2V0Q29sb3IiLCJzZXRGaWxsU3R5bGUiLCJvbk11bHRpcGxheWVyUGxheWVySm9pbiIsIm15V2FsbGV0Iiwib25NdWx0aXBsYXllclBsYXllckxlYXZlIiwidXBkYXRlT25saW5lQ291bnRlciIsImNvdW50IiwidXBkYXRlTXVsdGlwbGF5ZXJQbGF5ZXJzIiwib25ab25lQ2hhbmdlZCIsIm9sZFpvbmUiLCJuZXdab25lIiwic3Bhd25ab25lQ29sIiwic3Bhd25ab25lUm93Iiwib25TcGF3bnNVcGRhdGUiLCJkaXN0YW5jZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./lib/phaser/GameScene.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./lib/phaser/managers/MultiplayerHandler.ts":
/*!***************************************************!*\
  !*** ./lib/phaser/managers/MultiplayerHandler.ts ***!
  \***************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MultiplayerHandler)\n/* harmony export */ });\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! socket.io-client */ \"socket.io-client\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([socket_io_client__WEBPACK_IMPORTED_MODULE_0__]);\nsocket_io_client__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// frontend/lib/phaser/managers/MultiplayerHandler.ts\n\nclass MultiplayerHandler {\n    constructor(){\n        this.lastSent = 0;\n        const url = process.env.NEXT_PUBLIC_BACKEND_URL || \"http://localhost:4000\";\n        this.socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_0__.io)(url);\n    }\n    // No rooms, no join step required in minimal API\n    joinGame(_wallet, _x, _y, _biome) {}\n    sendPosition(wallet, x, y) {\n        const now = Date.now();\n        if (now - this.lastSent < 1500) return; // emit every 1500 ms\n        this.lastSent = now;\n        this.socket.emit(\"player:update\", {\n            wallet,\n            x,\n            y\n        });\n    }\n    onPlayersUpdate(cb) {\n        this.socket.on(\"players:update\", cb);\n    }\n    disconnect() {\n        if (this.socket) {\n            this.socket.removeAllListeners();\n            this.socket.disconnect();\n        }\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2xpYi9waGFzZXIvbWFuYWdlcnMvTXVsdGlwbGF5ZXJIYW5kbGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEscURBQXFEO0FBRVA7QUFFL0IsTUFBTUM7SUFJbkIsYUFBYzthQUZOQyxXQUFXO1FBR2pCLE1BQU1DLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQ0MsdUJBQXVCLElBQUk7UUFDbkQsSUFBSSxDQUFDQyxNQUFNLEdBQUdQLG9EQUFFQSxDQUFDRztJQUNuQjtJQUVBLGlEQUFpRDtJQUNqREssU0FBU0MsT0FBZSxFQUFFQyxFQUFVLEVBQUVDLEVBQVUsRUFBRUMsTUFBYyxFQUFFLENBQUM7SUFFbkVDLGFBQWFDLE1BQWMsRUFBRUMsQ0FBUyxFQUFFQyxDQUFTLEVBQUU7UUFDakQsTUFBTUMsTUFBTUMsS0FBS0QsR0FBRztRQUNwQixJQUFJQSxNQUFNLElBQUksQ0FBQ2YsUUFBUSxHQUFHLE1BQU0sUUFBUSxxQkFBcUI7UUFDN0QsSUFBSSxDQUFDQSxRQUFRLEdBQUdlO1FBQ2hCLElBQUksQ0FBQ1YsTUFBTSxDQUFDWSxJQUFJLENBQUMsaUJBQWlCO1lBQUVMO1lBQVFDO1lBQUdDO1FBQUU7SUFDbkQ7SUFFQUksZ0JBQWdCQyxFQUEwQixFQUFFO1FBQzFDLElBQUksQ0FBQ2QsTUFBTSxDQUFDZSxFQUFFLENBQUMsa0JBQWtCRDtJQUNuQztJQUVBRSxhQUFhO1FBQ1gsSUFBSSxJQUFJLENBQUNoQixNQUFNLEVBQUU7WUFDZixJQUFJLENBQUNBLE1BQU0sQ0FBQ2lCLGtCQUFrQjtZQUM5QixJQUFJLENBQUNqQixNQUFNLENBQUNnQixVQUFVO1FBQ3hCO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxTYWhpdGhcXE9uZURyaXZlXFxEZXNrdG9wXFx5b2thaWh1bnRcXGZyb250ZW5kXFxsaWJcXHBoYXNlclxcbWFuYWdlcnNcXE11bHRpcGxheWVySGFuZGxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBmcm9udGVuZC9saWIvcGhhc2VyL21hbmFnZXJzL011bHRpcGxheWVySGFuZGxlci50c1xyXG5cclxuaW1wb3J0IHsgaW8sIFNvY2tldCB9IGZyb20gXCJzb2NrZXQuaW8tY2xpZW50XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNdWx0aXBsYXllckhhbmRsZXIge1xyXG4gIHByaXZhdGUgc29ja2V0OiBTb2NrZXQ7XHJcbiAgcHJpdmF0ZSBsYXN0U2VudCA9IDA7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgY29uc3QgdXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkwgfHwgXCJodHRwOi8vbG9jYWxob3N0OjQwMDBcIjtcclxuICAgIHRoaXMuc29ja2V0ID0gaW8odXJsKTtcclxuICB9XHJcblxyXG4gIC8vIE5vIHJvb21zLCBubyBqb2luIHN0ZXAgcmVxdWlyZWQgaW4gbWluaW1hbCBBUElcclxuICBqb2luR2FtZShfd2FsbGV0OiBzdHJpbmcsIF94OiBudW1iZXIsIF95OiBudW1iZXIsIF9iaW9tZTogc3RyaW5nKSB7fVxyXG5cclxuICBzZW5kUG9zaXRpb24od2FsbGV0OiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgaWYgKG5vdyAtIHRoaXMubGFzdFNlbnQgPCAxNTAwKSByZXR1cm47IC8vIGVtaXQgZXZlcnkgMTUwMCBtc1xyXG4gICAgdGhpcy5sYXN0U2VudCA9IG5vdztcclxuICAgIHRoaXMuc29ja2V0LmVtaXQoXCJwbGF5ZXI6dXBkYXRlXCIsIHsgd2FsbGV0LCB4LCB5IH0pO1xyXG4gIH1cclxuXHJcbiAgb25QbGF5ZXJzVXBkYXRlKGNiOiAocGxheWVyczogYW55KSA9PiB2b2lkKSB7XHJcbiAgICB0aGlzLnNvY2tldC5vbihcInBsYXllcnM6dXBkYXRlXCIsIGNiKTtcclxuICB9XHJcblxyXG4gIGRpc2Nvbm5lY3QoKSB7XHJcbiAgICBpZiAodGhpcy5zb2NrZXQpIHtcclxuICAgICAgdGhpcy5zb2NrZXQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XHJcbiAgICAgIHRoaXMuc29ja2V0LmRpc2Nvbm5lY3QoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImlvIiwiTXVsdGlwbGF5ZXJIYW5kbGVyIiwibGFzdFNlbnQiLCJ1cmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQkFDS0VORF9VUkwiLCJzb2NrZXQiLCJqb2luR2FtZSIsIl93YWxsZXQiLCJfeCIsIl95IiwiX2Jpb21lIiwic2VuZFBvc2l0aW9uIiwid2FsbGV0IiwieCIsInkiLCJub3ciLCJEYXRlIiwiZW1pdCIsIm9uUGxheWVyc1VwZGF0ZSIsImNiIiwib24iLCJkaXNjb25uZWN0IiwicmVtb3ZlQWxsTGlzdGVuZXJzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./lib/phaser/managers/MultiplayerHandler.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./lib/phaser/managers/TransactionManager.ts":
/*!***************************************************!*\
  !*** ./lib/phaser/managers/TransactionManager.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TransactionManager: () => (/* binding */ TransactionManager)\n/* harmony export */ });\nclass TransactionManager {\n    static{\n        this.listeners = new Set();\n    }\n    static async logCapture({ wallet, txId, meta }) {\n        try {\n            const payload = {\n                walletAddress: wallet,\n                txId,\n                type: 'CAPTURE',\n                asset: 'Yokai',\n                meta\n            };\n            await fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:4000'}/api/tx/log`, {\n                method: 'POST',\n                headers: {\n                    'content-type': 'application/json',\n                    'x-wallet-address': wallet\n                },\n                body: JSON.stringify(payload)\n            });\n            // Notify listeners\n            this.notifyListeners(payload);\n        } catch  {}\n    }\n    static async logTransaction({ wallet, txId, type, asset, meta }) {\n        try {\n            const payload = {\n                walletAddress: wallet,\n                txId,\n                type,\n                asset,\n                meta\n            };\n            await fetch(`${process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:4000'}/api/tx/log`, {\n                method: 'POST',\n                headers: {\n                    'content-type': 'application/json',\n                    'x-wallet-address': wallet\n                },\n                body: JSON.stringify(payload)\n            });\n            // Notify listeners\n            this.notifyListeners(payload);\n        } catch  {}\n    }\n    static async fetchLogs(wallet) {\n        const url = `${process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:4000'}/api/tx/log?walletAddress=${encodeURIComponent(wallet)}`;\n        const res = await fetch(url, {\n            headers: {\n                'x-wallet-address': wallet\n            }\n        });\n        return await res.json().catch(()=>({\n                logs: []\n            }));\n    }\n    static onTransaction(callback) {\n        this.listeners.add(callback);\n        return ()=>this.listeners.delete(callback);\n    }\n    static notifyListeners(tx) {\n        this.listeners.forEach((cb)=>{\n            try {\n                cb(tx);\n            } catch  {}\n        });\n        // Also dispatch global event for React components\n        if (false) {}\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2xpYi9waGFzZXIvbWFuYWdlcnMvVHJhbnNhY3Rpb25NYW5hZ2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxNQUFNQTs7YUFDSUMsWUFBb0MsSUFBSUM7O0lBRXZELGFBQWFDLFdBQVcsRUFBRUMsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBZ0QsRUFBRTtRQUM1RixJQUFJO1lBQ0YsTUFBTUMsVUFBVTtnQkFBRUMsZUFBZUo7Z0JBQVFDO2dCQUFNSSxNQUFNO2dCQUFXQyxPQUFPO2dCQUFTSjtZQUFLO1lBQ3JGLE1BQU1LLE1BQU0sR0FBR0MsUUFBUUMsR0FBRyxDQUFDQyx1QkFBdUIsSUFBSSx3QkFBd0IsV0FBVyxDQUFDLEVBQUU7Z0JBQzFGQyxRQUFRO2dCQUNSQyxTQUFTO29CQUFFLGdCQUFnQjtvQkFBb0Isb0JBQW9CWjtnQkFBTztnQkFDMUVhLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQ1o7WUFDdkI7WUFDQSxtQkFBbUI7WUFDbkIsSUFBSSxDQUFDYSxlQUFlLENBQUNiO1FBQ3ZCLEVBQUUsT0FBTSxDQUFDO0lBQ1g7SUFFQSxhQUFhYyxlQUFlLEVBQUVqQixNQUFNLEVBQUVDLElBQUksRUFBRUksSUFBSSxFQUFFQyxLQUFLLEVBQUVKLElBQUksRUFBNkUsRUFBRTtRQUMxSSxJQUFJO1lBQ0YsTUFBTUMsVUFBVTtnQkFBRUMsZUFBZUo7Z0JBQVFDO2dCQUFNSTtnQkFBTUM7Z0JBQU9KO1lBQUs7WUFDakUsTUFBTUssTUFBTSxHQUFHQyxRQUFRQyxHQUFHLENBQUNDLHVCQUF1QixJQUFJLHdCQUF3QixXQUFXLENBQUMsRUFBRTtnQkFDMUZDLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQUUsZ0JBQWdCO29CQUFvQixvQkFBb0JaO2dCQUFPO2dCQUMxRWEsTUFBTUMsS0FBS0MsU0FBUyxDQUFDWjtZQUN2QjtZQUNBLG1CQUFtQjtZQUNuQixJQUFJLENBQUNhLGVBQWUsQ0FBQ2I7UUFDdkIsRUFBRSxPQUFNLENBQUM7SUFDWDtJQUVBLGFBQWFlLFVBQVVsQixNQUFjLEVBQUU7UUFDckMsTUFBTW1CLE1BQU0sR0FBR1gsUUFBUUMsR0FBRyxDQUFDQyx1QkFBdUIsSUFBSSx3QkFBd0IsMEJBQTBCLEVBQUVVLG1CQUFtQnBCLFNBQVM7UUFDdEksTUFBTXFCLE1BQU0sTUFBTWQsTUFBTVksS0FBSztZQUFFUCxTQUFTO2dCQUFFLG9CQUFvQlo7WUFBTztRQUFFO1FBQ3ZFLE9BQU8sTUFBTXFCLElBQUlDLElBQUksR0FBR0MsS0FBSyxDQUFDLElBQU87Z0JBQUVDLE1BQU0sRUFBRTtZQUFDO0lBQ2xEO0lBRUEsT0FBT0MsY0FBY0MsUUFBMkIsRUFBRTtRQUNoRCxJQUFJLENBQUM3QixTQUFTLENBQUM4QixHQUFHLENBQUNEO1FBQ25CLE9BQU8sSUFBTSxJQUFJLENBQUM3QixTQUFTLENBQUMrQixNQUFNLENBQUNGO0lBQ3JDO0lBRUEsT0FBZVYsZ0JBQWdCYSxFQUFPLEVBQUU7UUFDdEMsSUFBSSxDQUFDaEMsU0FBUyxDQUFDaUMsT0FBTyxDQUFDQyxDQUFBQTtZQUNyQixJQUFJO2dCQUNGQSxHQUFHRjtZQUNMLEVBQUUsT0FBTSxDQUFDO1FBQ1g7UUFDQSxrREFBa0Q7UUFDbEQsSUFBSSxLQUE2QixFQUFFLEVBRWxDO0lBQ0g7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxTYWhpdGhcXE9uZURyaXZlXFxEZXNrdG9wXFx5b2thaWh1bnRcXGZyb250ZW5kXFxsaWJcXHBoYXNlclxcbWFuYWdlcnNcXFRyYW5zYWN0aW9uTWFuYWdlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVHJhbnNhY3Rpb25NYW5hZ2VyIHtcclxuICBwcml2YXRlIHN0YXRpYyBsaXN0ZW5lcnM6IFNldDwodHg6IGFueSkgPT4gdm9pZD4gPSBuZXcgU2V0KCk7XHJcblxyXG4gIHN0YXRpYyBhc3luYyBsb2dDYXB0dXJlKHsgd2FsbGV0LCB0eElkLCBtZXRhIH06IHsgd2FsbGV0OiBzdHJpbmc7IHR4SWQ6IHN0cmluZzsgbWV0YT86IGFueSB9KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBwYXlsb2FkID0geyB3YWxsZXRBZGRyZXNzOiB3YWxsZXQsIHR4SWQsIHR5cGU6ICdDQVBUVVJFJywgYXNzZXQ6ICdZb2thaScsIG1ldGEgfTtcclxuICAgICAgYXdhaXQgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMCd9L2FwaS90eC9sb2dgLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsIFxyXG4gICAgICAgIGhlYWRlcnM6IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywgJ3gtd2FsbGV0LWFkZHJlc3MnOiB3YWxsZXQgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKVxyXG4gICAgICB9KTtcclxuICAgICAgLy8gTm90aWZ5IGxpc3RlbmVyc1xyXG4gICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyhwYXlsb2FkKTtcclxuICAgIH0gY2F0Y2gge31cclxuICB9XHJcblxyXG4gIHN0YXRpYyBhc3luYyBsb2dUcmFuc2FjdGlvbih7IHdhbGxldCwgdHhJZCwgdHlwZSwgYXNzZXQsIG1ldGEgfTogeyB3YWxsZXQ6IHN0cmluZzsgdHhJZDogc3RyaW5nOyB0eXBlOiBzdHJpbmc7IGFzc2V0OiBzdHJpbmc7IG1ldGE/OiBhbnkgfSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgd2FsbGV0QWRkcmVzczogd2FsbGV0LCB0eElkLCB0eXBlLCBhc3NldCwgbWV0YSB9O1xyXG4gICAgICBhd2FpdCBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo0MDAwJ30vYXBpL3R4L2xvZ2AsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7ICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsICd4LXdhbGxldC1hZGRyZXNzJzogd2FsbGV0IH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcclxuICAgICAgfSk7XHJcbiAgICAgIC8vIE5vdGlmeSBsaXN0ZW5lcnNcclxuICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMocGF5bG9hZCk7XHJcbiAgICB9IGNhdGNoIHt9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgYXN5bmMgZmV0Y2hMb2dzKHdhbGxldDogc3RyaW5nKSB7XHJcbiAgICBjb25zdCB1cmwgPSBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo0MDAwJ30vYXBpL3R4L2xvZz93YWxsZXRBZGRyZXNzPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHdhbGxldCl9YDtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwgeyBoZWFkZXJzOiB7ICd4LXdhbGxldC1hZGRyZXNzJzogd2FsbGV0IH0gfSk7XHJcbiAgICByZXR1cm4gYXdhaXQgcmVzLmpzb24oKS5jYXRjaCgoKSA9PiAoeyBsb2dzOiBbXSB9KSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgb25UcmFuc2FjdGlvbihjYWxsYmFjazogKHR4OiBhbnkpID0+IHZvaWQpIHtcclxuICAgIHRoaXMubGlzdGVuZXJzLmFkZChjYWxsYmFjayk7XHJcbiAgICByZXR1cm4gKCkgPT4gdGhpcy5saXN0ZW5lcnMuZGVsZXRlKGNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc3RhdGljIG5vdGlmeUxpc3RlbmVycyh0eDogYW55KSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGNiID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjYih0eCk7XHJcbiAgICAgIH0gY2F0Y2gge31cclxuICAgIH0pO1xyXG4gICAgLy8gQWxzbyBkaXNwYXRjaCBnbG9iYWwgZXZlbnQgZm9yIFJlYWN0IGNvbXBvbmVudHNcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3lva2FpLXRyYW5zYWN0aW9uLWxvZ2dlZCcsIHsgZGV0YWlsOiB0eCB9KSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJUcmFuc2FjdGlvbk1hbmFnZXIiLCJsaXN0ZW5lcnMiLCJTZXQiLCJsb2dDYXB0dXJlIiwid2FsbGV0IiwidHhJZCIsIm1ldGEiLCJwYXlsb2FkIiwid2FsbGV0QWRkcmVzcyIsInR5cGUiLCJhc3NldCIsImZldGNoIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0JBQ0tFTkRfVVJMIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwibm90aWZ5TGlzdGVuZXJzIiwibG9nVHJhbnNhY3Rpb24iLCJmZXRjaExvZ3MiLCJ1cmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZXMiLCJqc29uIiwiY2F0Y2giLCJsb2dzIiwib25UcmFuc2FjdGlvbiIsImNhbGxiYWNrIiwiYWRkIiwiZGVsZXRlIiwidHgiLCJmb3JFYWNoIiwiY2IiLCJ3aW5kb3ciLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./lib/phaser/managers/TransactionManager.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./lib/phaser/managers/UIManager.ts":
/*!******************************************!*\
  !*** ./lib/phaser/managers/UIManager.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UIManager: () => (/* binding */ UIManager)\n/* harmony export */ });\nclass UIManager {\n    constructor(scene){\n        this.scene = scene;\n    }\n    toastTop(message, time = 3000) {\n        if (this.toast) {\n            this.toast.destroy();\n            this.toast = undefined;\n        }\n        const t = this.scene.add.text(this.scene.scale.width / 2, -30, message, {\n            fontSize: '14px',\n            color: '#fff',\n            backgroundColor: '#000000aa',\n            padding: {\n                x: 12,\n                y: 6\n            },\n            fontStyle: 'bold'\n        }).setOrigin(0.5, 0).setScrollFactor(0).setDepth(3000);\n        this.toast = t;\n        // Fade in animation\n        this.scene.tweens.add({\n            targets: t,\n            y: 8,\n            alpha: 1,\n            duration: 300,\n            ease: 'Power2'\n        });\n        // Fade out and destroy\n        this.scene.time.delayedCall(time, ()=>{\n            if (t.scene) {\n                this.scene.tweens.add({\n                    targets: t,\n                    y: -30,\n                    alpha: 0,\n                    duration: 300,\n                    ease: 'Power2',\n                    onComplete: ()=>{\n                        t.destroy();\n                        if (this.toast === t) this.toast = undefined;\n                    }\n                });\n            }\n        });\n    }\n    showToast(message, time = 3000) {\n        this.toastTop(message, time);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2xpYi9waGFzZXIvbWFuYWdlcnMvVUlNYW5hZ2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxNQUFNQTtJQUdYLFlBQVlDLEtBQW1CLENBQUU7UUFBRSxJQUFJLENBQUNBLEtBQUssR0FBR0E7SUFBTztJQUV2REMsU0FBU0MsT0FBZSxFQUFFQyxPQUFPLElBQUksRUFBRTtRQUNyQyxJQUFJLElBQUksQ0FBQ0MsS0FBSyxFQUFFO1lBQ2QsSUFBSSxDQUFDQSxLQUFLLENBQUNDLE9BQU87WUFDbEIsSUFBSSxDQUFDRCxLQUFLLEdBQUdFO1FBQ2Y7UUFFQSxNQUFNQyxJQUFJLElBQUksQ0FBQ1AsS0FBSyxDQUFDUSxHQUFHLENBQUNDLElBQUksQ0FDM0IsSUFBSSxDQUFDVCxLQUFLLENBQUNVLEtBQUssQ0FBQ0MsS0FBSyxHQUFHLEdBQ3pCLENBQUMsSUFDRFQsU0FDQTtZQUNFVSxVQUFVO1lBQ1ZDLE9BQU87WUFDUEMsaUJBQWlCO1lBQ2pCQyxTQUFTO2dCQUFFQyxHQUFHO2dCQUFJQyxHQUFHO1lBQUU7WUFDdkJDLFdBQVc7UUFDYixHQUVEQyxTQUFTLENBQUMsS0FBSyxHQUNmQyxlQUFlLENBQUMsR0FDaEJDLFFBQVEsQ0FBQztRQUVWLElBQUksQ0FBQ2pCLEtBQUssR0FBR0c7UUFFYixvQkFBb0I7UUFDcEIsSUFBSSxDQUFDUCxLQUFLLENBQUNzQixNQUFNLENBQUNkLEdBQUcsQ0FBQztZQUNwQmUsU0FBU2hCO1lBQ1RVLEdBQUc7WUFDSE8sT0FBTztZQUNQQyxVQUFVO1lBQ1ZDLE1BQU07UUFDUjtRQUVBLHVCQUF1QjtRQUN2QixJQUFJLENBQUMxQixLQUFLLENBQUNHLElBQUksQ0FBQ3dCLFdBQVcsQ0FBQ3hCLE1BQU07WUFDaEMsSUFBSUksRUFBRVAsS0FBSyxFQUFFO2dCQUNYLElBQUksQ0FBQ0EsS0FBSyxDQUFDc0IsTUFBTSxDQUFDZCxHQUFHLENBQUM7b0JBQ3BCZSxTQUFTaEI7b0JBQ1RVLEdBQUcsQ0FBQztvQkFDSk8sT0FBTztvQkFDUEMsVUFBVTtvQkFDVkMsTUFBTTtvQkFDTkUsWUFBWTt3QkFDVnJCLEVBQUVGLE9BQU87d0JBQ1QsSUFBSSxJQUFJLENBQUNELEtBQUssS0FBS0csR0FBRyxJQUFJLENBQUNILEtBQUssR0FBR0U7b0JBQ3JDO2dCQUNGO1lBQ0Y7UUFDRjtJQUNGO0lBRUF1QixVQUFVM0IsT0FBZSxFQUFFQyxPQUFPLElBQUksRUFBRTtRQUN0QyxJQUFJLENBQUNGLFFBQVEsQ0FBQ0MsU0FBU0M7SUFDekI7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxTYWhpdGhcXE9uZURyaXZlXFxEZXNrdG9wXFx5b2thaWh1bnRcXGZyb250ZW5kXFxsaWJcXHBoYXNlclxcbWFuYWdlcnNcXFVJTWFuYWdlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVUlNYW5hZ2VyIHtcclxuICBwcml2YXRlIHNjZW5lOiBQaGFzZXIuU2NlbmU7XHJcbiAgcHJpdmF0ZSB0b2FzdD86IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xyXG4gIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHsgdGhpcy5zY2VuZSA9IHNjZW5lOyB9XHJcblxyXG4gIHRvYXN0VG9wKG1lc3NhZ2U6IHN0cmluZywgdGltZSA9IDMwMDApIHtcclxuICAgIGlmICh0aGlzLnRvYXN0KSB7IFxyXG4gICAgICB0aGlzLnRvYXN0LmRlc3Ryb3koKTsgXHJcbiAgICAgIHRoaXMudG9hc3QgPSB1bmRlZmluZWQ7IFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCB0ID0gdGhpcy5zY2VuZS5hZGQudGV4dChcclxuICAgICAgdGhpcy5zY2VuZS5zY2FsZS53aWR0aCAvIDIsIFxyXG4gICAgICAtMzAsIC8vIFN0YXJ0IGFib3ZlIHNjcmVlblxyXG4gICAgICBtZXNzYWdlLCBcclxuICAgICAgeyBcclxuICAgICAgICBmb250U2l6ZTogJzE0cHgnLCBcclxuICAgICAgICBjb2xvcjogJyNmZmYnLCBcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwYWEnLCBcclxuICAgICAgICBwYWRkaW5nOiB7IHg6IDEyLCB5OiA2IH0sXHJcbiAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgfVxyXG4gICAgKVxyXG4gICAgLnNldE9yaWdpbigwLjUsIDApXHJcbiAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAuc2V0RGVwdGgoMzAwMCk7XHJcbiAgICBcclxuICAgIHRoaXMudG9hc3QgPSB0O1xyXG4gICAgXHJcbiAgICAvLyBGYWRlIGluIGFuaW1hdGlvblxyXG4gICAgdGhpcy5zY2VuZS50d2VlbnMuYWRkKHtcclxuICAgICAgdGFyZ2V0czogdCxcclxuICAgICAgeTogOCxcclxuICAgICAgYWxwaGE6IDEsXHJcbiAgICAgIGR1cmF0aW9uOiAzMDAsXHJcbiAgICAgIGVhc2U6ICdQb3dlcjInXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gRmFkZSBvdXQgYW5kIGRlc3Ryb3lcclxuICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCh0aW1lLCAoKSA9PiB7XHJcbiAgICAgIGlmICh0LnNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS50d2VlbnMuYWRkKHtcclxuICAgICAgICAgIHRhcmdldHM6IHQsXHJcbiAgICAgICAgICB5OiAtMzAsXHJcbiAgICAgICAgICBhbHBoYTogMCxcclxuICAgICAgICAgIGR1cmF0aW9uOiAzMDAsXHJcbiAgICAgICAgICBlYXNlOiAnUG93ZXIyJyxcclxuICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAgICAgdC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRvYXN0ID09PSB0KSB0aGlzLnRvYXN0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgc2hvd1RvYXN0KG1lc3NhZ2U6IHN0cmluZywgdGltZSA9IDMwMDApIHtcclxuICAgIHRoaXMudG9hc3RUb3AobWVzc2FnZSwgdGltZSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJVSU1hbmFnZXIiLCJzY2VuZSIsInRvYXN0VG9wIiwibWVzc2FnZSIsInRpbWUiLCJ0b2FzdCIsImRlc3Ryb3kiLCJ1bmRlZmluZWQiLCJ0IiwiYWRkIiwidGV4dCIsInNjYWxlIiwid2lkdGgiLCJmb250U2l6ZSIsImNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsIngiLCJ5IiwiZm9udFN0eWxlIiwic2V0T3JpZ2luIiwic2V0U2Nyb2xsRmFjdG9yIiwic2V0RGVwdGgiLCJ0d2VlbnMiLCJ0YXJnZXRzIiwiYWxwaGEiLCJkdXJhdGlvbiIsImVhc2UiLCJkZWxheWVkQ2FsbCIsIm9uQ29tcGxldGUiLCJzaG93VG9hc3QiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./lib/phaser/managers/UIManager.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./lib/phaser/managers/XPManager.ts":
/*!******************************************!*\
  !*** ./lib/phaser/managers/XPManager.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XPManager: () => (/* binding */ XPManager)\n/* harmony export */ });\nclass XPManager {\n    static{\n        this.listeners = new Set();\n    }\n    constructor(initialXP = 0){\n        this.currentXP = 0;\n        this.currentLevel = 1;\n        const levelData = XPManager.levelFromXP(initialXP);\n        this.currentXP = initialXP;\n        this.currentLevel = levelData.level;\n    }\n    static trainerAward({ base = 0, attempt = false, success = false }) {\n        let xp = base + (attempt ? 5 : 0) + (success ? 25 : 0);\n        return xp;\n    }\n    static levelFromXP(totalXP) {\n        let lv = 1;\n        let rem = Math.max(0, Math.floor(totalXP));\n        while(rem >= 100 * Math.pow(lv, 2) && lv < 50){\n            rem -= 100 * Math.pow(lv, 2);\n            lv += 1;\n        }\n        return {\n            level: lv,\n            currentXP: rem,\n            nextLevelXP: 100 * Math.pow(lv, 2)\n        };\n    }\n    addXP(amount) {\n        const oldXP = this.currentXP;\n        const oldLevel = this.currentLevel;\n        this.currentXP += amount;\n        const levelData = XPManager.levelFromXP(this.currentXP);\n        const newLevel = levelData.level;\n        const leveledUp = newLevel > oldLevel;\n        this.currentLevel = newLevel;\n        const event = {\n            oldXP,\n            newXP: this.currentXP,\n            oldLevel,\n            newLevel,\n            currentXP: levelData.currentXP,\n            nextLevelXP: levelData.nextLevelXP,\n            xpGained: amount,\n            leveledUp\n        };\n        // Notify listeners\n        this.notifyListeners(event);\n        return event;\n    }\n    getCurrentXP() {\n        return this.currentXP;\n    }\n    getCurrentLevel() {\n        return this.currentLevel;\n    }\n    getLevelData() {\n        return XPManager.levelFromXP(this.currentXP);\n    }\n    setXP(totalXP) {\n        const levelData = XPManager.levelFromXP(totalXP);\n        this.currentXP = totalXP;\n        this.currentLevel = levelData.level;\n    }\n    static onXPUpdate(callback) {\n        XPManager.listeners.add(callback);\n        return ()=>XPManager.listeners.delete(callback);\n    }\n    notifyListeners(event) {\n        XPManager.listeners.forEach((cb)=>{\n            try {\n                cb(event);\n            } catch  {}\n        });\n        // Also dispatch global event\n        if (false) {}\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2xpYi9waGFzZXIvbWFuYWdlcnMvWFBNYW5hZ2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFXTyxNQUFNQTs7YUFDSUMsWUFBaUQsSUFBSUM7O0lBSXBFLFlBQVlDLFlBQW9CLENBQUMsQ0FBRTthQUgzQkMsWUFBb0I7YUFDcEJDLGVBQXVCO1FBRzdCLE1BQU1DLFlBQVlOLFVBQVVPLFdBQVcsQ0FBQ0o7UUFDeEMsSUFBSSxDQUFDQyxTQUFTLEdBQUdEO1FBQ2pCLElBQUksQ0FBQ0UsWUFBWSxHQUFHQyxVQUFVRSxLQUFLO0lBQ3JDO0lBRUEsT0FBT0MsYUFBYSxFQUFFQyxPQUFPLENBQUMsRUFBRUMsVUFBVSxLQUFLLEVBQUVDLFVBQVUsS0FBSyxFQUFFLEVBQUU7UUFDbEUsSUFBSUMsS0FBS0gsT0FBUUMsQ0FBQUEsVUFBVSxJQUFJLEtBQU1DLENBQUFBLFVBQVUsS0FBSztRQUNwRCxPQUFPQztJQUNUO0lBRUEsT0FBT04sWUFBWU8sT0FBZSxFQUFFO1FBQ2xDLElBQUlDLEtBQUs7UUFDVCxJQUFJQyxNQUFNQyxLQUFLQyxHQUFHLENBQUMsR0FBR0QsS0FBS0UsS0FBSyxDQUFDTDtRQUNqQyxNQUFPRSxPQUFRLE1BQU1DLEtBQUtHLEdBQUcsQ0FBQ0wsSUFBSSxNQUFPQSxLQUFLLEdBQUk7WUFDaERDLE9BQU8sTUFBTUMsS0FBS0csR0FBRyxDQUFDTCxJQUFJO1lBQzFCQSxNQUFNO1FBQ1I7UUFDQSxPQUFPO1lBQUVQLE9BQU9PO1lBQUlYLFdBQVdZO1lBQUtLLGFBQWEsTUFBTUosS0FBS0csR0FBRyxDQUFDTCxJQUFJO1FBQUc7SUFDekU7SUFFQU8sTUFBTUMsTUFBYyxFQUFpQjtRQUNuQyxNQUFNQyxRQUFRLElBQUksQ0FBQ3BCLFNBQVM7UUFDNUIsTUFBTXFCLFdBQVcsSUFBSSxDQUFDcEIsWUFBWTtRQUVsQyxJQUFJLENBQUNELFNBQVMsSUFBSW1CO1FBQ2xCLE1BQU1qQixZQUFZTixVQUFVTyxXQUFXLENBQUMsSUFBSSxDQUFDSCxTQUFTO1FBQ3RELE1BQU1zQixXQUFXcEIsVUFBVUUsS0FBSztRQUNoQyxNQUFNbUIsWUFBWUQsV0FBV0Q7UUFFN0IsSUFBSSxDQUFDcEIsWUFBWSxHQUFHcUI7UUFFcEIsTUFBTUUsUUFBdUI7WUFDM0JKO1lBQ0FLLE9BQU8sSUFBSSxDQUFDekIsU0FBUztZQUNyQnFCO1lBQ0FDO1lBQ0F0QixXQUFXRSxVQUFVRixTQUFTO1lBQzlCaUIsYUFBYWYsVUFBVWUsV0FBVztZQUNsQ1MsVUFBVVA7WUFDVkk7UUFDRjtRQUVBLG1CQUFtQjtRQUNuQixJQUFJLENBQUNJLGVBQWUsQ0FBQ0g7UUFFckIsT0FBT0E7SUFDVDtJQUVBSSxlQUF1QjtRQUNyQixPQUFPLElBQUksQ0FBQzVCLFNBQVM7SUFDdkI7SUFFQTZCLGtCQUEwQjtRQUN4QixPQUFPLElBQUksQ0FBQzVCLFlBQVk7SUFDMUI7SUFFQTZCLGVBQWU7UUFDYixPQUFPbEMsVUFBVU8sV0FBVyxDQUFDLElBQUksQ0FBQ0gsU0FBUztJQUM3QztJQUVBK0IsTUFBTXJCLE9BQWUsRUFBRTtRQUNyQixNQUFNUixZQUFZTixVQUFVTyxXQUFXLENBQUNPO1FBQ3hDLElBQUksQ0FBQ1YsU0FBUyxHQUFHVTtRQUNqQixJQUFJLENBQUNULFlBQVksR0FBR0MsVUFBVUUsS0FBSztJQUNyQztJQUVBLE9BQU80QixXQUFXQyxRQUF3QyxFQUFjO1FBQ3RFckMsVUFBVUMsU0FBUyxDQUFDcUMsR0FBRyxDQUFDRDtRQUN4QixPQUFPLElBQU1yQyxVQUFVQyxTQUFTLENBQUNzQyxNQUFNLENBQUNGO0lBQzFDO0lBRVFOLGdCQUFnQkgsS0FBb0IsRUFBRTtRQUM1QzVCLFVBQVVDLFNBQVMsQ0FBQ3VDLE9BQU8sQ0FBQ0MsQ0FBQUE7WUFDMUIsSUFBSTtnQkFDRkEsR0FBR2I7WUFDTCxFQUFFLE9BQU0sQ0FBQztRQUNYO1FBRUEsNkJBQTZCO1FBQzdCLElBQUksS0FBNkIsRUFBRSxFQUVsQztJQUNIO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2FoaXRoXFxPbmVEcml2ZVxcRGVza3RvcFxceW9rYWlodW50XFxmcm9udGVuZFxcbGliXFxwaGFzZXJcXG1hbmFnZXJzXFxYUE1hbmFnZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBYUFVwZGF0ZUV2ZW50IHtcclxuICBvbGRYUDogbnVtYmVyO1xyXG4gIG5ld1hQOiBudW1iZXI7XHJcbiAgb2xkTGV2ZWw6IG51bWJlcjtcclxuICBuZXdMZXZlbDogbnVtYmVyO1xyXG4gIGN1cnJlbnRYUDogbnVtYmVyO1xyXG4gIG5leHRMZXZlbFhQOiBudW1iZXI7XHJcbiAgeHBHYWluZWQ6IG51bWJlcjtcclxuICBsZXZlbGVkVXA6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBYUE1hbmFnZXIge1xyXG4gIHByaXZhdGUgc3RhdGljIGxpc3RlbmVyczogU2V0PChldmVudDogWFBVcGRhdGVFdmVudCkgPT4gdm9pZD4gPSBuZXcgU2V0KCk7XHJcbiAgcHJpdmF0ZSBjdXJyZW50WFA6IG51bWJlciA9IDA7XHJcbiAgcHJpdmF0ZSBjdXJyZW50TGV2ZWw6IG51bWJlciA9IDE7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGluaXRpYWxYUDogbnVtYmVyID0gMCkge1xyXG4gICAgY29uc3QgbGV2ZWxEYXRhID0gWFBNYW5hZ2VyLmxldmVsRnJvbVhQKGluaXRpYWxYUCk7XHJcbiAgICB0aGlzLmN1cnJlbnRYUCA9IGluaXRpYWxYUDtcclxuICAgIHRoaXMuY3VycmVudExldmVsID0gbGV2ZWxEYXRhLmxldmVsO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHRyYWluZXJBd2FyZCh7IGJhc2UgPSAwLCBhdHRlbXB0ID0gZmFsc2UsIHN1Y2Nlc3MgPSBmYWxzZSB9KSB7XHJcbiAgICBsZXQgeHAgPSBiYXNlICsgKGF0dGVtcHQgPyA1IDogMCkgKyAoc3VjY2VzcyA/IDI1IDogMCk7XHJcbiAgICByZXR1cm4geHA7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgbGV2ZWxGcm9tWFAodG90YWxYUDogbnVtYmVyKSB7XHJcbiAgICBsZXQgbHYgPSAxOyBcclxuICAgIGxldCByZW0gPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKHRvdGFsWFApKTtcclxuICAgIHdoaWxlIChyZW0gPj0gKDEwMCAqIE1hdGgucG93KGx2LCAyKSkgJiYgbHYgPCA1MCkgeyBcclxuICAgICAgcmVtIC09IDEwMCAqIE1hdGgucG93KGx2LCAyKTsgXHJcbiAgICAgIGx2ICs9IDE7IFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgbGV2ZWw6IGx2LCBjdXJyZW50WFA6IHJlbSwgbmV4dExldmVsWFA6IDEwMCAqIE1hdGgucG93KGx2LCAyKSB9O1xyXG4gIH1cclxuXHJcbiAgYWRkWFAoYW1vdW50OiBudW1iZXIpOiBYUFVwZGF0ZUV2ZW50IHtcclxuICAgIGNvbnN0IG9sZFhQID0gdGhpcy5jdXJyZW50WFA7XHJcbiAgICBjb25zdCBvbGRMZXZlbCA9IHRoaXMuY3VycmVudExldmVsO1xyXG4gICAgXHJcbiAgICB0aGlzLmN1cnJlbnRYUCArPSBhbW91bnQ7XHJcbiAgICBjb25zdCBsZXZlbERhdGEgPSBYUE1hbmFnZXIubGV2ZWxGcm9tWFAodGhpcy5jdXJyZW50WFApO1xyXG4gICAgY29uc3QgbmV3TGV2ZWwgPSBsZXZlbERhdGEubGV2ZWw7XHJcbiAgICBjb25zdCBsZXZlbGVkVXAgPSBuZXdMZXZlbCA+IG9sZExldmVsO1xyXG4gICAgXHJcbiAgICB0aGlzLmN1cnJlbnRMZXZlbCA9IG5ld0xldmVsO1xyXG4gICAgXHJcbiAgICBjb25zdCBldmVudDogWFBVcGRhdGVFdmVudCA9IHtcclxuICAgICAgb2xkWFAsXHJcbiAgICAgIG5ld1hQOiB0aGlzLmN1cnJlbnRYUCxcclxuICAgICAgb2xkTGV2ZWwsXHJcbiAgICAgIG5ld0xldmVsLFxyXG4gICAgICBjdXJyZW50WFA6IGxldmVsRGF0YS5jdXJyZW50WFAsXHJcbiAgICAgIG5leHRMZXZlbFhQOiBsZXZlbERhdGEubmV4dExldmVsWFAsXHJcbiAgICAgIHhwR2FpbmVkOiBhbW91bnQsXHJcbiAgICAgIGxldmVsZWRVcFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gTm90aWZ5IGxpc3RlbmVyc1xyXG4gICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoZXZlbnQpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gZXZlbnQ7XHJcbiAgfVxyXG5cclxuICBnZXRDdXJyZW50WFAoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmN1cnJlbnRYUDtcclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRMZXZlbCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuY3VycmVudExldmVsO1xyXG4gIH1cclxuXHJcbiAgZ2V0TGV2ZWxEYXRhKCkge1xyXG4gICAgcmV0dXJuIFhQTWFuYWdlci5sZXZlbEZyb21YUCh0aGlzLmN1cnJlbnRYUCk7XHJcbiAgfVxyXG5cclxuICBzZXRYUCh0b3RhbFhQOiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGxldmVsRGF0YSA9IFhQTWFuYWdlci5sZXZlbEZyb21YUCh0b3RhbFhQKTtcclxuICAgIHRoaXMuY3VycmVudFhQID0gdG90YWxYUDtcclxuICAgIHRoaXMuY3VycmVudExldmVsID0gbGV2ZWxEYXRhLmxldmVsO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIG9uWFBVcGRhdGUoY2FsbGJhY2s6IChldmVudDogWFBVcGRhdGVFdmVudCkgPT4gdm9pZCk6ICgpID0+IHZvaWQge1xyXG4gICAgWFBNYW5hZ2VyLmxpc3RlbmVycy5hZGQoY2FsbGJhY2spO1xyXG4gICAgcmV0dXJuICgpID0+IFhQTWFuYWdlci5saXN0ZW5lcnMuZGVsZXRlKGNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgbm90aWZ5TGlzdGVuZXJzKGV2ZW50OiBYUFVwZGF0ZUV2ZW50KSB7XHJcbiAgICBYUE1hbmFnZXIubGlzdGVuZXJzLmZvckVhY2goY2IgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNiKGV2ZW50KTtcclxuICAgICAgfSBjYXRjaCB7fVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIEFsc28gZGlzcGF0Y2ggZ2xvYmFsIGV2ZW50XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCd5b2thaS14cC11cGRhdGUnLCB7IGRldGFpbDogZXZlbnQgfSkpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiWFBNYW5hZ2VyIiwibGlzdGVuZXJzIiwiU2V0IiwiaW5pdGlhbFhQIiwiY3VycmVudFhQIiwiY3VycmVudExldmVsIiwibGV2ZWxEYXRhIiwibGV2ZWxGcm9tWFAiLCJsZXZlbCIsInRyYWluZXJBd2FyZCIsImJhc2UiLCJhdHRlbXB0Iiwic3VjY2VzcyIsInhwIiwidG90YWxYUCIsImx2IiwicmVtIiwiTWF0aCIsIm1heCIsImZsb29yIiwicG93IiwibmV4dExldmVsWFAiLCJhZGRYUCIsImFtb3VudCIsIm9sZFhQIiwib2xkTGV2ZWwiLCJuZXdMZXZlbCIsImxldmVsZWRVcCIsImV2ZW50IiwibmV3WFAiLCJ4cEdhaW5lZCIsIm5vdGlmeUxpc3RlbmVycyIsImdldEN1cnJlbnRYUCIsImdldEN1cnJlbnRMZXZlbCIsImdldExldmVsRGF0YSIsInNldFhQIiwib25YUFVwZGF0ZSIsImNhbGxiYWNrIiwiYWRkIiwiZGVsZXRlIiwiZm9yRWFjaCIsImNiIiwid2luZG93IiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./lib/phaser/managers/XPManager.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./lib/phaser/renderers/OtherPlayers.ts":
/*!**********************************************!*\
  !*** ./lib/phaser/renderers/OtherPlayers.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ OtherPlayers)\n/* harmony export */ });\n// frontend/lib/phaser/renderers/OtherPlayers.ts\nclass OtherPlayers {\n    constructor(scene){\n        this.sprites = {};\n        this.scene = scene;\n        if (false) {}\n    }\n    updatePlayers(data) {\n        for(const wallet in data){\n            // Skip self\n            if (wallet === this.myWallet) continue;\n            const p = data[wallet];\n            if (!this.sprites[wallet]) {\n                this.sprites[wallet] = this.scene.add.sprite(p.x, p.y, \"player\");\n                this.sprites[wallet].setTint(0x4a90e2); // Blue tint for other players\n                this.sprites[wallet].setScale(0.75); // Smaller than player\n                this.sprites[wallet].setDepth(9);\n            }\n            const sprite = this.sprites[wallet];\n            // Interpolate movement (0.2 smoothing)\n            sprite.x += (p.x - sprite.x) * 0.2;\n            sprite.y += (p.y - sprite.y) * 0.2;\n        }\n        // Remove disconnected players\n        for(const w in this.sprites){\n            if (!data[w] || w === this.myWallet) {\n                this.sprites[w].destroy();\n                delete this.sprites[w];\n            }\n        }\n    }\n    destroy() {\n        for(const w in this.sprites){\n            if (this.sprites[w]) {\n                this.sprites[w].destroy();\n            }\n        }\n        this.sprites = {};\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2xpYi9waGFzZXIvcmVuZGVyZXJzL090aGVyUGxheWVycy50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsZ0RBQWdEO0FBRWpDLE1BQU1BO0lBS25CLFlBQVlDLEtBQW1CLENBQUU7YUFIekJDLFVBQWUsQ0FBQztRQUl0QixJQUFJLENBQUNELEtBQUssR0FBR0E7UUFDYixJQUFJLEtBQTZCLEVBQUUsRUFFbEM7SUFDSDtJQUVBTSxjQUFjQyxJQUF5QixFQUFFO1FBQ3ZDLElBQUssTUFBTUMsVUFBVUQsS0FBTTtZQUN6QixZQUFZO1lBQ1osSUFBSUMsV0FBVyxJQUFJLENBQUNOLFFBQVEsRUFBRTtZQUU5QixNQUFNTyxJQUFJRixJQUFJLENBQUNDLE9BQU87WUFFdEIsSUFBSSxDQUFDLElBQUksQ0FBQ1AsT0FBTyxDQUFDTyxPQUFPLEVBQUU7Z0JBQ3pCLElBQUksQ0FBQ1AsT0FBTyxDQUFDTyxPQUFPLEdBQUcsSUFBSSxDQUFDUixLQUFLLENBQUNVLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDRixFQUFFRyxDQUFDLEVBQUVILEVBQUVJLENBQUMsRUFBRTtnQkFDdkQsSUFBSSxDQUFDWixPQUFPLENBQUNPLE9BQU8sQ0FBQ00sT0FBTyxDQUFDLFdBQVcsOEJBQThCO2dCQUN0RSxJQUFJLENBQUNiLE9BQU8sQ0FBQ08sT0FBTyxDQUFDTyxRQUFRLENBQUMsT0FBTyxzQkFBc0I7Z0JBQzNELElBQUksQ0FBQ2QsT0FBTyxDQUFDTyxPQUFPLENBQUNRLFFBQVEsQ0FBQztZQUNoQztZQUVBLE1BQU1MLFNBQVMsSUFBSSxDQUFDVixPQUFPLENBQUNPLE9BQU87WUFFbkMsdUNBQXVDO1lBQ3ZDRyxPQUFPQyxDQUFDLElBQUksQ0FBQ0gsRUFBRUcsQ0FBQyxHQUFHRCxPQUFPQyxDQUFDLElBQUk7WUFDL0JELE9BQU9FLENBQUMsSUFBSSxDQUFDSixFQUFFSSxDQUFDLEdBQUdGLE9BQU9FLENBQUMsSUFBSTtRQUNqQztRQUVBLDhCQUE4QjtRQUM5QixJQUFLLE1BQU1JLEtBQUssSUFBSSxDQUFDaEIsT0FBTyxDQUFFO1lBQzVCLElBQUksQ0FBQ00sSUFBSSxDQUFDVSxFQUFFLElBQUlBLE1BQU0sSUFBSSxDQUFDZixRQUFRLEVBQUU7Z0JBQ25DLElBQUksQ0FBQ0QsT0FBTyxDQUFDZ0IsRUFBRSxDQUFDQyxPQUFPO2dCQUN2QixPQUFPLElBQUksQ0FBQ2pCLE9BQU8sQ0FBQ2dCLEVBQUU7WUFDeEI7UUFDRjtJQUNGO0lBRUFDLFVBQVU7UUFDUixJQUFLLE1BQU1ELEtBQUssSUFBSSxDQUFDaEIsT0FBTyxDQUFFO1lBQzVCLElBQUksSUFBSSxDQUFDQSxPQUFPLENBQUNnQixFQUFFLEVBQUU7Z0JBQ25CLElBQUksQ0FBQ2hCLE9BQU8sQ0FBQ2dCLEVBQUUsQ0FBQ0MsT0FBTztZQUN6QjtRQUNGO1FBQ0EsSUFBSSxDQUFDakIsT0FBTyxHQUFHLENBQUM7SUFDbEI7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxTYWhpdGhcXE9uZURyaXZlXFxEZXNrdG9wXFx5b2thaWh1bnRcXGZyb250ZW5kXFxsaWJcXHBoYXNlclxccmVuZGVyZXJzXFxPdGhlclBsYXllcnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZnJvbnRlbmQvbGliL3BoYXNlci9yZW5kZXJlcnMvT3RoZXJQbGF5ZXJzLnRzXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPdGhlclBsYXllcnMge1xyXG4gIHByaXZhdGUgc2NlbmU6IFBoYXNlci5TY2VuZTtcclxuICBwcml2YXRlIHNwcml0ZXM6IGFueSA9IHt9O1xyXG4gIHByaXZhdGUgbXlXYWxsZXQ/OiBzdHJpbmc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUpIHtcclxuICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICB0aGlzLm15V2FsbGV0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FsZ29yYW5kX3dhbGxldF9hZGRyZXNzJykgfHwgdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlUGxheWVycyhkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XHJcbiAgICBmb3IgKGNvbnN0IHdhbGxldCBpbiBkYXRhKSB7XHJcbiAgICAgIC8vIFNraXAgc2VsZlxyXG4gICAgICBpZiAod2FsbGV0ID09PSB0aGlzLm15V2FsbGV0KSBjb250aW51ZTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHAgPSBkYXRhW3dhbGxldF07XHJcblxyXG4gICAgICBpZiAoIXRoaXMuc3ByaXRlc1t3YWxsZXRdKSB7XHJcbiAgICAgICAgdGhpcy5zcHJpdGVzW3dhbGxldF0gPSB0aGlzLnNjZW5lLmFkZC5zcHJpdGUocC54LCBwLnksIFwicGxheWVyXCIpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlc1t3YWxsZXRdLnNldFRpbnQoMHg0YTkwZTIpOyAvLyBCbHVlIHRpbnQgZm9yIG90aGVyIHBsYXllcnNcclxuICAgICAgICB0aGlzLnNwcml0ZXNbd2FsbGV0XS5zZXRTY2FsZSgwLjc1KTsgLy8gU21hbGxlciB0aGFuIHBsYXllclxyXG4gICAgICAgIHRoaXMuc3ByaXRlc1t3YWxsZXRdLnNldERlcHRoKDkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBzcHJpdGUgPSB0aGlzLnNwcml0ZXNbd2FsbGV0XTtcclxuXHJcbiAgICAgIC8vIEludGVycG9sYXRlIG1vdmVtZW50ICgwLjIgc21vb3RoaW5nKVxyXG4gICAgICBzcHJpdGUueCArPSAocC54IC0gc3ByaXRlLngpICogMC4yO1xyXG4gICAgICBzcHJpdGUueSArPSAocC55IC0gc3ByaXRlLnkpICogMC4yO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSBkaXNjb25uZWN0ZWQgcGxheWVyc1xyXG4gICAgZm9yIChjb25zdCB3IGluIHRoaXMuc3ByaXRlcykge1xyXG4gICAgICBpZiAoIWRhdGFbd10gfHwgdyA9PT0gdGhpcy5teVdhbGxldCkge1xyXG4gICAgICAgIHRoaXMuc3ByaXRlc1t3XS5kZXN0cm95KCk7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuc3ByaXRlc1t3XTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIGZvciAoY29uc3QgdyBpbiB0aGlzLnNwcml0ZXMpIHtcclxuICAgICAgaWYgKHRoaXMuc3ByaXRlc1t3XSkge1xyXG4gICAgICAgIHRoaXMuc3ByaXRlc1t3XS5kZXN0cm95KCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuc3ByaXRlcyA9IHt9O1xyXG4gIH1cclxufVxyXG5cclxuIl0sIm5hbWVzIjpbIk90aGVyUGxheWVycyIsInNjZW5lIiwic3ByaXRlcyIsIm15V2FsbGV0IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInVuZGVmaW5lZCIsInVwZGF0ZVBsYXllcnMiLCJkYXRhIiwid2FsbGV0IiwicCIsImFkZCIsInNwcml0ZSIsIngiLCJ5Iiwic2V0VGludCIsInNldFNjYWxlIiwic2V0RGVwdGgiLCJ3IiwiZGVzdHJveSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./lib/phaser/renderers/OtherPlayers.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./lib/spawnUtils.ts":
/*!***************************!*\
  !*** ./lib/spawnUtils.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SpawnManager: () => (/* binding */ SpawnManager)\n/* harmony export */ });\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mapZones__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapZones */ \"(pages-dir-node)/./lib/mapZones.ts\");\n\n\nconst MAX_ACTIVE = 8; // 7-8 active Pokemon per 10x10 grid area\n// Weighted rarity distribution (as per requirements)\nconst RARITY_WEIGHTS = {\n    common: 0.60,\n    uncommon: 0.25,\n    rare: 0.10,\n    epic: 0.04,\n    legendary: 0.01\n};\n// Legendary Pokemon IDs (require level >= 20)\nconst LEGENDARY_IDS = [\n    // Gen 1\n    144,\n    145,\n    146,\n    150,\n    151,\n    // Gen 2\n    243,\n    244,\n    245,\n    249,\n    250,\n    251,\n    // Gen 3\n    377,\n    378,\n    379,\n    380,\n    381,\n    382,\n    383,\n    384,\n    385,\n    386,\n    // Gen 4\n    480,\n    481,\n    482,\n    483,\n    484,\n    487,\n    488,\n    489,\n    490,\n    491\n];\n// Mythical Pokemon (also require level >= 20)\nconst MYTHICAL_IDS = [\n    151,\n    251,\n    385,\n    386,\n    489,\n    490,\n    491,\n    492,\n    493,\n    494\n];\n// Common Pokemon by type - Complete list from all generations\nconst COMMON_POKEMON_BY_TYPE = {\n    // Normal type - Common across all generations\n    normal: [\n        16,\n        19,\n        161,\n        163,\n        263,\n        396,\n        399,\n        504,\n        506,\n        519,\n        659,\n        734,\n        819\n    ],\n    // Grass type - Common starters and wild Pokemon\n    grass: [\n        1,\n        43,\n        69,\n        102,\n        152,\n        187,\n        252,\n        285,\n        387,\n        495,\n        548,\n        650,\n        672,\n        722,\n        810\n    ],\n    // Bug type - Most common type in Pokemon games\n    bug: [\n        10,\n        11,\n        13,\n        14,\n        165,\n        167,\n        265,\n        266,\n        268,\n        290,\n        412,\n        540,\n        595,\n        664,\n        736,\n        824\n    ],\n    // Flying type - Birds and common flyers\n    flying: [\n        16,\n        21,\n        41,\n        163,\n        276,\n        278,\n        396,\n        519,\n        521,\n        661,\n        714,\n        731,\n        821\n    ],\n    // Water type - Common water Pokemon\n    water: [\n        7,\n        54,\n        60,\n        72,\n        116,\n        118,\n        129,\n        158,\n        183,\n        258,\n        318,\n        393,\n        456,\n        501,\n        550,\n        656,\n        728,\n        771,\n        816\n    ],\n    // Fire type - Common fire Pokemon\n    fire: [\n        4,\n        37,\n        58,\n        77,\n        155,\n        218,\n        255,\n        322,\n        390,\n        498,\n        513,\n        653,\n        725,\n        813\n    ],\n    // Electric type - Common electric Pokemon\n    electric: [\n        25,\n        81,\n        100,\n        172,\n        179,\n        309,\n        311,\n        312,\n        403,\n        417,\n        522,\n        587,\n        702,\n        777,\n        835\n    ],\n    // Rock type - Common rock Pokemon\n    rock: [\n        74,\n        95,\n        138,\n        140,\n        213,\n        299,\n        304,\n        408,\n        410,\n        524,\n        557,\n        688,\n        696,\n        744,\n        837\n    ],\n    // Ground type - Common ground Pokemon\n    ground: [\n        27,\n        50,\n        104,\n        207,\n        231,\n        328,\n        449,\n        529,\n        551,\n        659,\n        749,\n        843\n    ],\n    // Poison type - Common poison Pokemon\n    poison: [\n        23,\n        29,\n        32,\n        41,\n        88,\n        109,\n        316,\n        336,\n        451,\n        453,\n        543,\n        568,\n        757,\n        848\n    ],\n    // Fighting type - Common fighting Pokemon\n    fighting: [\n        56,\n        66,\n        236,\n        296,\n        307,\n        447,\n        532,\n        538,\n        539,\n        674,\n        739,\n        759\n    ],\n    // Psychic type - Common psychic Pokemon\n    psychic: [\n        63,\n        96,\n        122,\n        177,\n        280,\n        307,\n        433,\n        517,\n        527,\n        605,\n        677,\n        765,\n        856\n    ],\n    // Ice type - Common ice Pokemon\n    ice: [\n        86,\n        215,\n        220,\n        361,\n        363,\n        459,\n        582,\n        613,\n        712,\n        872\n    ],\n    // Ghost type - Common ghost Pokemon\n    ghost: [\n        92,\n        200,\n        353,\n        355,\n        425,\n        562,\n        607,\n        708,\n        710,\n        778,\n        854\n    ],\n    // Dragon type - Less common but still available\n    dragon: [\n        147,\n        371,\n        443,\n        610,\n        633,\n        704,\n        780,\n        782,\n        884\n    ],\n    // Dark type - Common dark Pokemon\n    dark: [\n        198,\n        228,\n        261,\n        302,\n        434,\n        509,\n        624,\n        629,\n        686,\n        827,\n        859\n    ],\n    // Steel type - Common steel Pokemon\n    steel: [\n        81,\n        95,\n        304,\n        436,\n        597,\n        599,\n        707,\n        808,\n        878\n    ],\n    // Fairy type - Common fairy Pokemon (Gen 6+)\n    fairy: [\n        35,\n        39,\n        174,\n        183,\n        280,\n        439,\n        546,\n        682,\n        684,\n        702,\n        868\n    ]\n};\n// Get common IDs for type\nfunction getCommonIdsForType(type) {\n    return COMMON_POKEMON_BY_TYPE[type] || [\n        16,\n        19,\n        43\n    ]; // Default to Pidgey, Rattata, Caterpie\n}\n/**\r\n * Pick rarity based on weighted distribution and trainer level\r\n */ function pickRarity(trainerLevel) {\n    const r = Math.random();\n    let cumulative = 0;\n    // Legendary/Mythic require trainer level >= 20\n    const canSpawnLegendary = trainerLevel >= 20;\n    // Adjust weights if legendary not available\n    const weights = {\n        ...RARITY_WEIGHTS\n    };\n    if (!canSpawnLegendary) {\n        // Redistribute legendary weight to other rarities\n        const redistribution = weights.legendary / 4;\n        weights.common += redistribution;\n        weights.uncommon += redistribution;\n        weights.rare += redistribution;\n        weights.epic += redistribution;\n        weights.legendary = 0;\n    }\n    // Slightly increase better spawn chances with level\n    const levelBonus = Math.min(trainerLevel * 0.005, 0.1); // Max 10% bonus at level 20\n    weights.rare += levelBonus;\n    weights.epic += levelBonus / 2;\n    weights.common -= levelBonus * 1.5; // Reduce common spawns\n    for (const [rarity, weight] of Object.entries(weights)){\n        cumulative += weight;\n        if (r < cumulative) return rarity;\n    }\n    return \"common\";\n}\nasync function fetchPokemon(pokeId) {\n    const res = await fetch(`https://pokeapi.co/api/v2/pokemon/${pokeId}`);\n    const data = await res.json();\n    const types = data.types?.map((t)=>t.type.name) || [];\n    const spriteUrl = data?.sprites?.front_default || data?.sprites?.other?.[\"official-artwork\"]?.front_default;\n    return {\n        data,\n        types,\n        spriteUrl,\n        name: data.name\n    };\n}\nasync function fetchSpecies(pokeId) {\n    const res = await fetch(`https://pokeapi.co/api/v2/pokemon-species/${pokeId}`);\n    return res.json();\n}\n// Heuristic rarity tiering based on species flags and capture_rate\nfunction classifyRarity(species, pokeId) {\n    // Check if legendary or mythical\n    if (LEGENDARY_IDS.includes(pokeId) || MYTHICAL_IDS.includes(pokeId)) return \"legendary\";\n    if (species?.is_legendary || species?.is_mythical) return \"legendary\";\n    const rate = species?.capture_rate ?? 45; // 0-255 higher = easier\n    // Classify based on capture rate\n    if (rate >= 200) return \"common\"; // Very easy\n    if (rate >= 120) return \"uncommon\"; // Easy\n    if (rate >= 75) return \"rare\"; // Moderate\n    if (rate >= 45) return \"epic\"; // Hard\n    return \"legendary\"; // Very hard\n}\nclass SpawnManager extends phaser__WEBPACK_IMPORTED_MODULE_0__.Events.EventEmitter {\n    constructor(scene, tileSize, mapWidthTiles, mapHeightTiles, trainerLevel = 1){\n        super(), this.zones = [], this.zoneCols = 0, this.zoneRows = 0, this.active = new Map(), this.currentZone = {\n            col: 0,\n            row: 0,\n            id: \"0,0\"\n        }, this.overrideTypes = null, this.trainerLevel = 1 // Trainer level for spawn balancing\n        ;\n        this.scene = scene;\n        this.tileSize = tileSize;\n        this.mapWidthTiles = mapWidthTiles;\n        this.mapHeightTiles = mapHeightTiles;\n        this.trainerLevel = trainerLevel;\n        this.zoneCols = Math.max(1, Math.floor(mapWidthTiles / _mapZones__WEBPACK_IMPORTED_MODULE_1__.ZONE_TILES));\n        this.zoneRows = Math.max(1, Math.floor(mapHeightTiles / _mapZones__WEBPACK_IMPORTED_MODULE_1__.ZONE_TILES));\n        this.zones = (0,_mapZones__WEBPACK_IMPORTED_MODULE_1__.generateZones)(this.zoneCols, this.zoneRows);\n    }\n    getActiveSpawns() {\n        return Array.from(this.active.values());\n    }\n    getZoneGrid() {\n        return {\n            cols: this.zoneCols,\n            rows: this.zoneRows,\n            zones: this.zones\n        };\n    }\n    getCurrentZone() {\n        return this.currentZone;\n    }\n    setOverrideTypes(types) {\n        this.overrideTypes = types;\n        this.topUpSpawns(true);\n    }\n    setTrainerLevel(level) {\n        this.trainerLevel = level;\n    }\n    updatePlayerPos(x, y) {\n        const tx = Math.floor(x / this.tileSize);\n        const ty = Math.floor(y / this.tileSize);\n        const z = (0,_mapZones__WEBPACK_IMPORTED_MODULE_1__.getZoneForTile)(tx, ty, this.zoneCols, this.zoneRows);\n        if (z.id !== this.currentZone.id) {\n            this.currentZone = z;\n            this.emit(\"zoneChanged\", z);\n            // on zone change, try to top up spawns immediately\n            this.topUpSpawns(true);\n        }\n    }\n    start() {\n        this.topUpSpawns(true);\n        this.spawnTimer?.remove(false);\n        const scheduleNext = ()=>{\n            const delay = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Between(20000, 40000);\n            this.spawnTimer = this.scene.time.addEvent({\n                delay,\n                loop: false,\n                callback: ()=>{\n                    this.topUpSpawns(false);\n                    scheduleNext();\n                }\n            });\n        };\n        scheduleNext();\n    }\n    stop() {\n        this.spawnTimer?.remove(false);\n        this.active.forEach((r)=>this.despawn(r.key));\n        this.active.clear();\n    }\n    async topUpSpawns(immediate) {\n        if (this.active.size >= MAX_ACTIVE) return;\n        const need = Math.min(MAX_ACTIVE - this.active.size, 2); // spawn up to 2 at a time\n        for(let i = 0; i < need; i++){\n            try {\n                await this.spawnOne();\n            } catch  {}\n            if (!immediate) break;\n        }\n    }\n    getCandidateZones() {\n        const around = (0,_mapZones__WEBPACK_IMPORTED_MODULE_1__.getAdjacentZoneCoords)(this.currentZone.col, this.currentZone.row, this.zoneCols, this.zoneRows, 1);\n        return around;\n    }\n    pickZoneArea(zone) {\n        const startX = zone.col * _mapZones__WEBPACK_IMPORTED_MODULE_1__.ZONE_TILES * this.tileSize;\n        const startY = zone.row * _mapZones__WEBPACK_IMPORTED_MODULE_1__.ZONE_TILES * this.tileSize;\n        const endX = startX + _mapZones__WEBPACK_IMPORTED_MODULE_1__.ZONE_TILES * this.tileSize;\n        const endY = startY + _mapZones__WEBPACK_IMPORTED_MODULE_1__.ZONE_TILES * this.tileSize;\n        return {\n            startX,\n            startY,\n            endX,\n            endY\n        };\n    }\n    async spawnOne() {\n        const zones = this.getCandidateZones();\n        const picked = phaser__WEBPACK_IMPORTED_MODULE_0__.Utils.Array.GetRandom(zones);\n        const zoneMeta = this.zones.find((z)=>z.id === picked.id);\n        const biome = zoneMeta.biome;\n        const types = this.overrideTypes || _mapZones__WEBPACK_IMPORTED_MODULE_1__.BIOME_TYPE_POOLS[biome];\n        // Pick rarity target based on trainer level\n        const target = pickRarity(this.trainerLevel);\n        // For common spawns, prioritize common Pokemon IDs\n        let chosen = null;\n        if (target === \"common\") {\n            // Try to spawn common Pokemon first\n            const typeToUse = phaser__WEBPACK_IMPORTED_MODULE_0__.Utils.Array.GetRandom(types);\n            const commonIds = getCommonIdsForType(typeToUse);\n            const id = phaser__WEBPACK_IMPORTED_MODULE_0__.Utils.Array.GetRandom(commonIds);\n            try {\n                const p = await fetchPokemon(id);\n                if (p.spriteUrl) {\n                    const species = await fetchSpecies(id);\n                    const rarity = classifyRarity(species, id);\n                    chosen = {\n                        id,\n                        name: p.name,\n                        spriteUrl: p.spriteUrl,\n                        types: p.types,\n                        rarity\n                    };\n                }\n            } catch  {}\n        }\n        // If common failed or targeting other rarity, use random search\n        if (!chosen) {\n            for(let tries = 0; tries < 15; tries++){\n                let id = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Between(1, 898);\n                // For legendary target, only check legendary IDs if trainer level allows\n                if (target === \"legendary\" && this.trainerLevel >= 20) {\n                    id = phaser__WEBPACK_IMPORTED_MODULE_0__.Utils.Array.GetRandom([\n                        ...LEGENDARY_IDS,\n                        ...MYTHICAL_IDS\n                    ]);\n                }\n                const p = await fetchPokemon(id);\n                if (!p.spriteUrl) continue;\n                if (!p.types.some((t)=>types.includes(t))) continue; // not matching biome\n                const species = await fetchSpecies(id);\n                const r = classifyRarity(species, id);\n                // Allow some flexibility in rarity matching\n                if (r !== target && Math.random() > 0.3) continue;\n                chosen = {\n                    id,\n                    name: p.name,\n                    spriteUrl: p.spriteUrl,\n                    types: p.types,\n                    rarity: r\n                };\n                break;\n            }\n        }\n        if (!chosen) return;\n        const area = this.pickZoneArea(picked);\n        const x = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Between(area.startX + 12, area.endX - 12);\n        const y = phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Between(area.startY + 12, area.endY - 12);\n        // Calculate Pokemon level based on trainer level and rarity\n        const baseLevel = Math.max(1, this.trainerLevel - 2 + phaser__WEBPACK_IMPORTED_MODULE_0__.Math.Between(-1, 3));\n        const rarityBonus = chosen.rarity === \"legendary\" ? 5 : chosen.rarity === \"epic\" ? 3 : chosen.rarity === \"rare\" ? 2 : 0;\n        const pokemonLevel = Math.max(1, baseLevel + rarityBonus);\n        const key = `spawn-${chosen.id}-${Date.now()}`;\n        const sprite = this.scene.add.image(x, y, `pkmn-${chosen.id}`).setVisible(false);\n        if (!this.scene.textures.exists(`pkmn-${chosen.id}`)) {\n            await new Promise((resolve)=>{\n                this.scene.load.once(phaser__WEBPACK_IMPORTED_MODULE_0__.Loader.Events.COMPLETE, ()=>resolve());\n                this.scene.load.image(`pkmn-${chosen.id}`, chosen.spriteUrl);\n                this.scene.load.start();\n            });\n            sprite.setTexture(`pkmn-${chosen.id}`);\n        }\n        sprite.setDepth(20).setInteractive({\n            useHandCursor: true\n        });\n        sprite.setScale(0.1).setAlpha(0);\n        sprite.on(\"pointerdown\", ()=>this.emit(\"spawnClicked\", key));\n        // emerge animation - vary by rarity\n        sprite.setVisible(true);\n        const scaleFactor = chosen.rarity === \"legendary\" ? 1.5 : chosen.rarity === \"epic\" ? 1.3 : 1.2;\n        this.scene.tweens.add({\n            targets: sprite,\n            alpha: 1,\n            scale: scaleFactor,\n            duration: 300,\n            yoyo: true,\n            ease: \"sine.out\",\n            onComplete: ()=>sprite.setScale(chosen.rarity === \"legendary\" ? 1.2 : 1)\n        });\n        const rec = {\n            key,\n            name: chosen.name,\n            pokeId: chosen.id,\n            types: chosen.types,\n            spriteUrl: chosen.spriteUrl,\n            position: {\n                x,\n                y\n            },\n            zone: picked,\n            sprite,\n            level: pokemonLevel,\n            rarity: chosen.rarity\n        };\n        // despawn after time based on rarity (legendary lasts longer)\n        const despawnTime = chosen.rarity === \"legendary\" ? 90000 : chosen.rarity === \"epic\" ? 75000 : 60000;\n        rec.timeout = this.scene.time.delayedCall(despawnTime, ()=>this.despawn(key));\n        this.active.set(key, rec);\n        this.emit(\"spawned\", rec);\n    }\n    despawn(key) {\n        const rec = this.active.get(key);\n        if (!rec) return;\n        if (rec.timeout) rec.timeout.remove(false);\n        if (rec.sprite) {\n            this.scene.tweens.add({\n                targets: rec.sprite,\n                alpha: 0,\n                duration: 400,\n                onComplete: ()=>rec.sprite?.destroy()\n            });\n        }\n        this.emit(\"despawned\", key);\n        this.active.delete(key);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2xpYi9zcGF3blV0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBaUM7QUFDMkY7QUFtQjVILE1BQU1NLGFBQWEsR0FBRyx5Q0FBeUM7QUFFL0QscURBQXFEO0FBQ3JELE1BQU1DLGlCQUE4QztJQUNsREMsUUFBUTtJQUNSQyxVQUFVO0lBQ1ZDLE1BQU07SUFDTkMsTUFBTTtJQUNOQyxXQUFXO0FBQ2I7QUFFQSw4Q0FBOEM7QUFDOUMsTUFBTUMsZ0JBQWdCO0lBQ3BCLFFBQVE7SUFDUjtJQUFLO0lBQUs7SUFDVjtJQUFLO0lBQ0wsUUFBUTtJQUNSO0lBQUs7SUFBSztJQUNWO0lBQUs7SUFBSztJQUNWLFFBQVE7SUFDUjtJQUFLO0lBQUs7SUFDVjtJQUFLO0lBQUs7SUFBSztJQUFLO0lBQ3BCO0lBQUs7SUFDTCxRQUFRO0lBQ1I7SUFBSztJQUFLO0lBQ1Y7SUFBSztJQUFLO0lBQUs7SUFBSztJQUFLO0lBQUs7Q0FDL0I7QUFFRCw4Q0FBOEM7QUFDOUMsTUFBTUMsZUFBZTtJQUFDO0lBQUs7SUFBSztJQUFLO0lBQUs7SUFBSztJQUFLO0lBQUs7SUFBSztJQUFLO0NBQUk7QUFFdkUsOERBQThEO0FBQzlELE1BQU1DLHlCQUFtRDtJQUN2RCw4Q0FBOEM7SUFDOUNDLFFBQVE7UUFDTjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtLQUNEO0lBRUQsZ0RBQWdEO0lBQ2hEQyxPQUFPO1FBQ0w7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO0tBQ0Q7SUFFRCwrQ0FBK0M7SUFDL0NDLEtBQUs7UUFDSDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtLQUNEO0lBRUQsd0NBQXdDO0lBQ3hDQyxRQUFRO1FBQ047UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7S0FDRDtJQUVELG9DQUFvQztJQUNwQ0MsT0FBTztRQUNMO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO0tBQ0Q7SUFFRCxrQ0FBa0M7SUFDbENDLE1BQU07UUFDSjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO0tBQ0Q7SUFFRCwwQ0FBMEM7SUFDMUNDLFVBQVU7UUFDUjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7S0FDRDtJQUVELGtDQUFrQztJQUNsQ0MsTUFBTTtRQUNKO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtLQUNEO0lBRUQsc0NBQXNDO0lBQ3RDQyxRQUFRO1FBQ047UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO0tBQ0Q7SUFFRCxzQ0FBc0M7SUFDdENDLFFBQVE7UUFDTjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO0tBQ0Q7SUFFRCwwQ0FBMEM7SUFDMUNDLFVBQVU7UUFDUjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7S0FDRDtJQUVELHdDQUF3QztJQUN4Q0MsU0FBUztRQUNQO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO0tBQ0Q7SUFFRCxnQ0FBZ0M7SUFDaENDLEtBQUs7UUFDSDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtLQUNEO0lBRUQsb0NBQW9DO0lBQ3BDQyxPQUFPO1FBQ0w7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtLQUNEO0lBRUQsZ0RBQWdEO0lBQ2hEQyxRQUFRO1FBQ047UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO0tBQ0Q7SUFFRCxrQ0FBa0M7SUFDbENDLE1BQU07UUFDSjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO0tBQ0Q7SUFFRCxvQ0FBb0M7SUFDcENDLE9BQU87UUFDTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7S0FDRDtJQUVELDZDQUE2QztJQUM3Q0MsT0FBTztRQUNMO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7S0FDRDtBQUNIO0FBRUEsMEJBQTBCO0FBQzFCLFNBQVNDLG9CQUFvQkMsSUFBWTtJQUN2QyxPQUFPcEIsc0JBQXNCLENBQUNvQixLQUFLLElBQUk7UUFBQztRQUFJO1FBQUk7S0FBRyxFQUFFLHVDQUF1QztBQUM5RjtBQUVBOztDQUVDLEdBQ0QsU0FBU0MsV0FBV0MsWUFBb0I7SUFDdEMsTUFBTUMsSUFBSUMsS0FBS0MsTUFBTTtJQUNyQixJQUFJQyxhQUFhO0lBRWpCLCtDQUErQztJQUMvQyxNQUFNQyxvQkFBb0JMLGdCQUFnQjtJQUUxQyw0Q0FBNEM7SUFDNUMsTUFBTU0sVUFBVTtRQUFFLEdBQUdwQyxjQUFjO0lBQUM7SUFDcEMsSUFBSSxDQUFDbUMsbUJBQW1CO1FBQ3RCLGtEQUFrRDtRQUNsRCxNQUFNRSxpQkFBaUJELFFBQVEvQixTQUFTLEdBQUc7UUFDM0MrQixRQUFRbkMsTUFBTSxJQUFJb0M7UUFDbEJELFFBQVFsQyxRQUFRLElBQUltQztRQUNwQkQsUUFBUWpDLElBQUksSUFBSWtDO1FBQ2hCRCxRQUFRaEMsSUFBSSxJQUFJaUM7UUFDaEJELFFBQVEvQixTQUFTLEdBQUc7SUFDdEI7SUFFQSxvREFBb0Q7SUFDcEQsTUFBTWlDLGFBQWFOLEtBQUtPLEdBQUcsQ0FBQ1QsZUFBZSxPQUFPLE1BQU0sNEJBQTRCO0lBQ3BGTSxRQUFRakMsSUFBSSxJQUFJbUM7SUFDaEJGLFFBQVFoQyxJQUFJLElBQUlrQyxhQUFhO0lBQzdCRixRQUFRbkMsTUFBTSxJQUFJcUMsYUFBYSxLQUFLLHVCQUF1QjtJQUUzRCxLQUFLLE1BQU0sQ0FBQ0UsUUFBUUMsT0FBTyxJQUFJQyxPQUFPQyxPQUFPLENBQUNQLFNBQXFDO1FBQ2pGRixjQUFjTztRQUNkLElBQUlWLElBQUlHLFlBQVksT0FBT007SUFDN0I7SUFFQSxPQUFPO0FBQ1Q7QUFFQSxlQUFlSSxhQUFhQyxNQUFjO0lBQ3hDLE1BQU1DLE1BQU0sTUFBTUMsTUFBTSxDQUFDLGtDQUFrQyxFQUFFRixRQUFRO0lBQ3JFLE1BQU1HLE9BQU8sTUFBTUYsSUFBSUcsSUFBSTtJQUMzQixNQUFNQyxRQUFrQkYsS0FBS0UsS0FBSyxFQUFFQyxJQUFJLENBQUNDLElBQVdBLEVBQUV4QixJQUFJLENBQUN5QixJQUFJLEtBQUssRUFBRTtJQUN0RSxNQUFNQyxZQUFZTixNQUFNTyxTQUFTQyxpQkFBaUJSLE1BQU1PLFNBQVNFLE9BQU8sQ0FBQyxtQkFBbUIsRUFBRUQ7SUFDOUYsT0FBTztRQUFFUjtRQUFNRTtRQUFPSTtRQUFXRCxNQUFNTCxLQUFLSyxJQUFJO0lBQUM7QUFDbkQ7QUFFQSxlQUFlSyxhQUFhYixNQUFjO0lBQ3hDLE1BQU1DLE1BQU0sTUFBTUMsTUFBTSxDQUFDLDBDQUEwQyxFQUFFRixRQUFRO0lBQzdFLE9BQU9DLElBQUlHLElBQUk7QUFDakI7QUFFQSxtRUFBbUU7QUFDbkUsU0FBU1UsZUFBZUMsT0FBWSxFQUFFZixNQUFjO0lBQ2xELGlDQUFpQztJQUNqQyxJQUFJdkMsY0FBY3VELFFBQVEsQ0FBQ2hCLFdBQVd0QyxhQUFhc0QsUUFBUSxDQUFDaEIsU0FBUyxPQUFPO0lBQzVFLElBQUllLFNBQVNFLGdCQUFnQkYsU0FBU0csYUFBYSxPQUFPO0lBRTFELE1BQU1DLE9BQU9KLFNBQVNLLGdCQUFnQixJQUFJLHdCQUF3QjtJQUVsRSxpQ0FBaUM7SUFDakMsSUFBSUQsUUFBUSxLQUFLLE9BQU8sVUFBYyxZQUFZO0lBQ2xELElBQUlBLFFBQVEsS0FBSyxPQUFPLFlBQWMsT0FBTztJQUM3QyxJQUFJQSxRQUFRLElBQUksT0FBTyxRQUFlLFdBQVc7SUFDakQsSUFBSUEsUUFBUSxJQUFJLE9BQU8sUUFBZSxPQUFPO0lBQzdDLE9BQU8sYUFBK0IsWUFBWTtBQUNwRDtBQUVPLE1BQU1FLHFCQUFxQnpFLDBDQUFhLENBQUMyRSxZQUFZO0lBYzFELFlBQVlDLEtBQW1CLEVBQUVDLFFBQWdCLEVBQUVDLGFBQXFCLEVBQUVDLGNBQXNCLEVBQUUxQyxlQUF1QixDQUFDLENBQUU7UUFDMUgsS0FBSyxTQVZDMkMsUUFBMEMsRUFBRSxPQUM1Q0MsV0FBVyxRQUNYQyxXQUFXLFFBQ1hDLFNBQW1DLElBQUlDLFlBQ3ZDQyxjQUFjO1lBQUVDLEtBQUs7WUFBR0MsS0FBSztZQUFHQyxJQUFJO1FBQU0sUUFFMUNDLGdCQUFpQyxXQUNqQ3BELGVBQXVCLEVBQUcsb0NBQW9DOztRQUlwRSxJQUFJLENBQUN1QyxLQUFLLEdBQUdBO1FBQ2IsSUFBSSxDQUFDQyxRQUFRLEdBQUdBO1FBQ2hCLElBQUksQ0FBQ0MsYUFBYSxHQUFHQTtRQUNyQixJQUFJLENBQUNDLGNBQWMsR0FBR0E7UUFDdEIsSUFBSSxDQUFDMUMsWUFBWSxHQUFHQTtRQUVwQixJQUFJLENBQUM0QyxRQUFRLEdBQUcxQyxLQUFLbUQsR0FBRyxDQUFDLEdBQUduRCxLQUFLb0QsS0FBSyxDQUFDYixnQkFBZ0I1RSxpREFBVUE7UUFDakUsSUFBSSxDQUFDZ0YsUUFBUSxHQUFHM0MsS0FBS21ELEdBQUcsQ0FBQyxHQUFHbkQsS0FBS29ELEtBQUssQ0FBQ1osaUJBQWlCN0UsaURBQVVBO1FBQ2xFLElBQUksQ0FBQzhFLEtBQUssR0FBRzdFLHdEQUFhQSxDQUFDLElBQUksQ0FBQzhFLFFBQVEsRUFBRSxJQUFJLENBQUNDLFFBQVE7SUFDekQ7SUFFQVUsa0JBQWtCO1FBQUUsT0FBT0MsTUFBTUMsSUFBSSxDQUFDLElBQUksQ0FBQ1gsTUFBTSxDQUFDWSxNQUFNO0lBQUs7SUFDN0RDLGNBQWM7UUFBRSxPQUFPO1lBQUVDLE1BQU0sSUFBSSxDQUFDaEIsUUFBUTtZQUFFaUIsTUFBTSxJQUFJLENBQUNoQixRQUFRO1lBQUVGLE9BQU8sSUFBSSxDQUFDQSxLQUFLO1FBQUM7SUFBRztJQUN4Rm1CLGlCQUFpQjtRQUFFLE9BQU8sSUFBSSxDQUFDZCxXQUFXO0lBQUU7SUFDNUNlLGlCQUFpQjNDLEtBQXNCLEVBQUU7UUFBRSxJQUFJLENBQUNnQyxhQUFhLEdBQUdoQztRQUFPLElBQUksQ0FBQzRDLFdBQVcsQ0FBQztJQUFPO0lBQy9GQyxnQkFBZ0JDLEtBQWEsRUFBRTtRQUFFLElBQUksQ0FBQ2xFLFlBQVksR0FBR2tFO0lBQU87SUFFNURDLGdCQUFnQkMsQ0FBUyxFQUFFQyxDQUFTLEVBQUU7UUFDcEMsTUFBTUMsS0FBS3BFLEtBQUtvRCxLQUFLLENBQUNjLElBQUksSUFBSSxDQUFDNUIsUUFBUTtRQUN2QyxNQUFNK0IsS0FBS3JFLEtBQUtvRCxLQUFLLENBQUNlLElBQUksSUFBSSxDQUFDN0IsUUFBUTtRQUN2QyxNQUFNZ0MsSUFBSXhHLHlEQUFjQSxDQUFDc0csSUFBSUMsSUFBSSxJQUFJLENBQUMzQixRQUFRLEVBQUUsSUFBSSxDQUFDQyxRQUFRO1FBQzdELElBQUkyQixFQUFFckIsRUFBRSxLQUFLLElBQUksQ0FBQ0gsV0FBVyxDQUFDRyxFQUFFLEVBQUU7WUFDaEMsSUFBSSxDQUFDSCxXQUFXLEdBQUd3QjtZQUNuQixJQUFJLENBQUNDLElBQUksQ0FBQyxlQUFlRDtZQUN6QixtREFBbUQ7WUFDbkQsSUFBSSxDQUFDUixXQUFXLENBQUM7UUFDbkI7SUFDRjtJQUVBVSxRQUFRO1FBQ04sSUFBSSxDQUFDVixXQUFXLENBQUM7UUFDakIsSUFBSSxDQUFDVyxVQUFVLEVBQUVDLE9BQU87UUFDeEIsTUFBTUMsZUFBZTtZQUNuQixNQUFNQyxRQUFRbkgsd0NBQVcsQ0FBQ29ILE9BQU8sQ0FBQyxPQUFPO1lBQ3pDLElBQUksQ0FBQ0osVUFBVSxHQUFHLElBQUksQ0FBQ3BDLEtBQUssQ0FBQ3lDLElBQUksQ0FBQ0MsUUFBUSxDQUFDO2dCQUFFSDtnQkFBT0ksTUFBTTtnQkFBT0MsVUFBVTtvQkFDekUsSUFBSSxDQUFDbkIsV0FBVyxDQUFDO29CQUNqQmE7Z0JBQ0Y7WUFBQztRQUNIO1FBQ0FBO0lBQ0Y7SUFFQU8sT0FBTztRQUNMLElBQUksQ0FBQ1QsVUFBVSxFQUFFQyxPQUFPO1FBQ3hCLElBQUksQ0FBQzlCLE1BQU0sQ0FBQ3VDLE9BQU8sQ0FBQ3BGLENBQUFBLElBQUssSUFBSSxDQUFDcUYsT0FBTyxDQUFDckYsRUFBRXNGLEdBQUc7UUFDM0MsSUFBSSxDQUFDekMsTUFBTSxDQUFDMEMsS0FBSztJQUNuQjtJQUVBLE1BQWN4QixZQUFZeUIsU0FBa0IsRUFBRTtRQUM1QyxJQUFJLElBQUksQ0FBQzNDLE1BQU0sQ0FBQzRDLElBQUksSUFBSXpILFlBQVk7UUFDcEMsTUFBTTBILE9BQU96RixLQUFLTyxHQUFHLENBQUN4QyxhQUFhLElBQUksQ0FBQzZFLE1BQU0sQ0FBQzRDLElBQUksRUFBRSxJQUFJLDBCQUEwQjtRQUNuRixJQUFLLElBQUlFLElBQUksR0FBR0EsSUFBSUQsTUFBTUMsSUFBSztZQUM3QixJQUFJO2dCQUFFLE1BQU0sSUFBSSxDQUFDQyxRQUFRO1lBQUksRUFBRSxPQUFNLENBQXlCO1lBQzlELElBQUksQ0FBQ0osV0FBVztRQUNsQjtJQUNGO0lBRVFLLG9CQUFvQjtRQUMxQixNQUFNQyxTQUFTaEksZ0VBQXFCQSxDQUFDLElBQUksQ0FBQ2lGLFdBQVcsQ0FBQ0MsR0FBRyxFQUFFLElBQUksQ0FBQ0QsV0FBVyxDQUFDRSxHQUFHLEVBQUUsSUFBSSxDQUFDTixRQUFRLEVBQUUsSUFBSSxDQUFDQyxRQUFRLEVBQUU7UUFDL0csT0FBT2tEO0lBQ1Q7SUFFUUMsYUFBYUMsSUFBa0MsRUFBRTtRQUN2RCxNQUFNQyxTQUFTRCxLQUFLaEQsR0FBRyxHQUFHcEYsaURBQVVBLEdBQUcsSUFBSSxDQUFDMkUsUUFBUTtRQUNwRCxNQUFNMkQsU0FBU0YsS0FBSy9DLEdBQUcsR0FBR3JGLGlEQUFVQSxHQUFHLElBQUksQ0FBQzJFLFFBQVE7UUFDcEQsTUFBTTRELE9BQU9GLFNBQVNySSxpREFBVUEsR0FBRyxJQUFJLENBQUMyRSxRQUFRO1FBQ2hELE1BQU02RCxPQUFPRixTQUFTdEksaURBQVVBLEdBQUcsSUFBSSxDQUFDMkUsUUFBUTtRQUNoRCxPQUFPO1lBQUUwRDtZQUFRQztZQUFRQztZQUFNQztRQUFLO0lBQ3RDO0lBRUEsTUFBY1IsV0FBVztRQUN2QixNQUFNbEQsUUFBUSxJQUFJLENBQUNtRCxpQkFBaUI7UUFDcEMsTUFBTVEsU0FBUzNJLHlDQUFZLENBQUM2RixLQUFLLENBQUNnRCxTQUFTLENBQUM3RDtRQUM1QyxNQUFNOEQsV0FBVyxJQUFJLENBQUM5RCxLQUFLLENBQUMrRCxJQUFJLENBQUNsQyxDQUFBQSxJQUFLQSxFQUFFckIsRUFBRSxLQUFLbUQsT0FBT25ELEVBQUU7UUFDeEQsTUFBTXdELFFBQWVGLFNBQVNFLEtBQUs7UUFDbkMsTUFBTXZGLFFBQVEsSUFBSSxDQUFDZ0MsYUFBYSxJQUFJeEYsdURBQWdCLENBQUMrSSxNQUFNO1FBRTNELDRDQUE0QztRQUM1QyxNQUFNQyxTQUFTN0csV0FBVyxJQUFJLENBQUNDLFlBQVk7UUFFM0MsbURBQW1EO1FBQ25ELElBQUk2RyxTQUF1RztRQUUzRyxJQUFJRCxXQUFXLFVBQVU7WUFDdkIsb0NBQW9DO1lBQ3BDLE1BQU1FLFlBQVluSix5Q0FBWSxDQUFDNkYsS0FBSyxDQUFDZ0QsU0FBUyxDQUFDcEY7WUFDL0MsTUFBTTJGLFlBQVlsSCxvQkFBb0JpSDtZQUN0QyxNQUFNM0QsS0FBS3hGLHlDQUFZLENBQUM2RixLQUFLLENBQUNnRCxTQUFTLENBQUNPO1lBRXhDLElBQUk7Z0JBQ0YsTUFBTUMsSUFBSSxNQUFNbEcsYUFBYXFDO2dCQUM3QixJQUFJNkQsRUFBRXhGLFNBQVMsRUFBRTtvQkFDZixNQUFNTSxVQUFVLE1BQU1GLGFBQWF1QjtvQkFDbkMsTUFBTXpDLFNBQVNtQixlQUFlQyxTQUFTcUI7b0JBQ3ZDMEQsU0FBUzt3QkFBRTFEO3dCQUFJNUIsTUFBTXlGLEVBQUV6RixJQUFJO3dCQUFFQyxXQUFXd0YsRUFBRXhGLFNBQVM7d0JBQUVKLE9BQU80RixFQUFFNUYsS0FBSzt3QkFBRVY7b0JBQU87Z0JBQzlFO1lBQ0YsRUFBRSxPQUFNLENBQUM7UUFDWDtRQUVBLGdFQUFnRTtRQUNoRSxJQUFJLENBQUNtRyxRQUFRO1lBQ1gsSUFBSyxJQUFJSSxRQUFRLEdBQUdBLFFBQVEsSUFBSUEsUUFBUztnQkFDdkMsSUFBSTlELEtBQUt4Rix3Q0FBVyxDQUFDb0gsT0FBTyxDQUFDLEdBQUc7Z0JBRWhDLHlFQUF5RTtnQkFDekUsSUFBSTZCLFdBQVcsZUFBZSxJQUFJLENBQUM1RyxZQUFZLElBQUksSUFBSTtvQkFDckRtRCxLQUFLeEYseUNBQVksQ0FBQzZGLEtBQUssQ0FBQ2dELFNBQVMsQ0FBQzsyQkFBSWhJOzJCQUFrQkM7cUJBQWE7Z0JBQ3ZFO2dCQUVBLE1BQU11SSxJQUFJLE1BQU1sRyxhQUFhcUM7Z0JBQzdCLElBQUksQ0FBQzZELEVBQUV4RixTQUFTLEVBQUU7Z0JBQ2xCLElBQUksQ0FBQ3dGLEVBQUU1RixLQUFLLENBQUM4RixJQUFJLENBQUM1RixDQUFBQSxJQUFLRixNQUFNVyxRQUFRLENBQUNULEtBQUssVUFBVSxxQkFBcUI7Z0JBRTFFLE1BQU1RLFVBQVUsTUFBTUYsYUFBYXVCO2dCQUNuQyxNQUFNbEQsSUFBSTRCLGVBQWVDLFNBQVNxQjtnQkFFbEMsNENBQTRDO2dCQUM1QyxJQUFJbEQsTUFBTTJHLFVBQVUxRyxLQUFLQyxNQUFNLEtBQUssS0FBSztnQkFFekMwRyxTQUFTO29CQUFFMUQ7b0JBQUk1QixNQUFNeUYsRUFBRXpGLElBQUk7b0JBQUVDLFdBQVd3RixFQUFFeEYsU0FBUztvQkFBRUosT0FBTzRGLEVBQUU1RixLQUFLO29CQUFFVixRQUFRVDtnQkFBRTtnQkFDL0U7WUFDRjtRQUNGO1FBQ0EsSUFBSSxDQUFDNEcsUUFBUTtRQUViLE1BQU1NLE9BQU8sSUFBSSxDQUFDbkIsWUFBWSxDQUFDTTtRQUMvQixNQUFNbEMsSUFBSXpHLHdDQUFXLENBQUNvSCxPQUFPLENBQUNvQyxLQUFLakIsTUFBTSxHQUFHLElBQUlpQixLQUFLZixJQUFJLEdBQUc7UUFDNUQsTUFBTS9CLElBQUkxRyx3Q0FBVyxDQUFDb0gsT0FBTyxDQUFDb0MsS0FBS2hCLE1BQU0sR0FBRyxJQUFJZ0IsS0FBS2QsSUFBSSxHQUFHO1FBRTVELDREQUE0RDtRQUM1RCxNQUFNZSxZQUFZbEgsS0FBS21ELEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQ3JELFlBQVksR0FBRyxJQUFJckMsd0NBQVcsQ0FBQ29ILE9BQU8sQ0FBQyxDQUFDLEdBQUc7UUFDOUUsTUFBTXNDLGNBQWNSLE9BQU9uRyxNQUFNLEtBQUssY0FBYyxJQUFJbUcsT0FBT25HLE1BQU0sS0FBSyxTQUFTLElBQUltRyxPQUFPbkcsTUFBTSxLQUFLLFNBQVMsSUFBSTtRQUN0SCxNQUFNNEcsZUFBZXBILEtBQUttRCxHQUFHLENBQUMsR0FBRytELFlBQVlDO1FBRTdDLE1BQU05QixNQUFNLENBQUMsTUFBTSxFQUFFc0IsT0FBTzFELEVBQUUsQ0FBQyxDQUFDLEVBQUVvRSxLQUFLQyxHQUFHLElBQUk7UUFDOUMsTUFBTUMsU0FBUyxJQUFJLENBQUNsRixLQUFLLENBQUNtRixHQUFHLENBQUNDLEtBQUssQ0FBQ3ZELEdBQUdDLEdBQUcsQ0FBQyxLQUFLLEVBQUV3QyxPQUFPMUQsRUFBRSxFQUFFLEVBQUV5RSxVQUFVLENBQUM7UUFDMUUsSUFBSSxDQUFDLElBQUksQ0FBQ3JGLEtBQUssQ0FBQ3NGLFFBQVEsQ0FBQ0MsTUFBTSxDQUFDLENBQUMsS0FBSyxFQUFFakIsT0FBTzFELEVBQUUsRUFBRSxHQUFHO1lBQ3BELE1BQU0sSUFBSTRFLFFBQWMsQ0FBQ0M7Z0JBQ3ZCLElBQUksQ0FBQ3pGLEtBQUssQ0FBQzBGLElBQUksQ0FBQ0MsSUFBSSxDQUFDdkssMENBQWEsQ0FBQzBFLE1BQU0sQ0FBQytGLFFBQVEsRUFBRSxJQUFNSjtnQkFDMUQsSUFBSSxDQUFDekYsS0FBSyxDQUFDMEYsSUFBSSxDQUFDTixLQUFLLENBQUMsQ0FBQyxLQUFLLEVBQUVkLE9BQU8xRCxFQUFFLEVBQUUsRUFBRTBELE9BQVFyRixTQUFTO2dCQUM1RCxJQUFJLENBQUNlLEtBQUssQ0FBQzBGLElBQUksQ0FBQ3ZELEtBQUs7WUFDdkI7WUFDQStDLE9BQU9ZLFVBQVUsQ0FBQyxDQUFDLEtBQUssRUFBRXhCLE9BQU8xRCxFQUFFLEVBQUU7UUFDdkM7UUFFQXNFLE9BQU9hLFFBQVEsQ0FBQyxJQUFJQyxjQUFjLENBQUM7WUFBRUMsZUFBZTtRQUFLO1FBQ3pEZixPQUFPZ0IsUUFBUSxDQUFDLEtBQUtDLFFBQVEsQ0FBQztRQUM5QmpCLE9BQU9rQixFQUFFLENBQUMsZUFBZSxJQUFNLElBQUksQ0FBQ2xFLElBQUksQ0FBQyxnQkFBZ0JjO1FBRXpELG9DQUFvQztRQUNwQ2tDLE9BQU9HLFVBQVUsQ0FBQztRQUNsQixNQUFNZ0IsY0FBYy9CLE9BQU9uRyxNQUFNLEtBQUssY0FBYyxNQUFNbUcsT0FBT25HLE1BQU0sS0FBSyxTQUFTLE1BQU07UUFDM0YsSUFBSSxDQUFDNkIsS0FBSyxDQUFDc0csTUFBTSxDQUFDbkIsR0FBRyxDQUFDO1lBQ3BCb0IsU0FBU3JCO1lBQ1RzQixPQUFPO1lBQ1BDLE9BQU9KO1lBQ1BLLFVBQVU7WUFDVkMsTUFBTTtZQUNOQyxNQUFNO1lBQ05DLFlBQVksSUFBTTNCLE9BQU9nQixRQUFRLENBQUM1QixPQUFPbkcsTUFBTSxLQUFLLGNBQWMsTUFBTTtRQUMxRTtRQUVBLE1BQU0ySSxNQUFtQjtZQUN2QjlEO1lBQ0FoRSxNQUFNc0YsT0FBT3RGLElBQUk7WUFDakJSLFFBQVE4RixPQUFPMUQsRUFBRTtZQUNqQi9CLE9BQU95RixPQUFPekYsS0FBSztZQUNuQkksV0FBV3FGLE9BQU9yRixTQUFTO1lBQzNCOEgsVUFBVTtnQkFBRWxGO2dCQUFHQztZQUFFO1lBQ2pCNEIsTUFBTUs7WUFDTm1CO1lBQ0F2RCxPQUFPb0Q7WUFDUDVHLFFBQVFtRyxPQUFPbkcsTUFBTTtRQUN2QjtRQUVBLDhEQUE4RDtRQUM5RCxNQUFNNkksY0FBYzFDLE9BQU9uRyxNQUFNLEtBQUssY0FBYyxRQUFRbUcsT0FBT25HLE1BQU0sS0FBSyxTQUFTLFFBQVE7UUFDL0YySSxJQUFJRyxPQUFPLEdBQUcsSUFBSSxDQUFDakgsS0FBSyxDQUFDeUMsSUFBSSxDQUFDeUUsV0FBVyxDQUFDRixhQUFhLElBQU0sSUFBSSxDQUFDakUsT0FBTyxDQUFDQztRQUUxRSxJQUFJLENBQUN6QyxNQUFNLENBQUM0RyxHQUFHLENBQUNuRSxLQUFLOEQ7UUFDckIsSUFBSSxDQUFDNUUsSUFBSSxDQUFDLFdBQVc0RTtJQUN2QjtJQUVBL0QsUUFBUUMsR0FBVyxFQUFFO1FBQ25CLE1BQU04RCxNQUFNLElBQUksQ0FBQ3ZHLE1BQU0sQ0FBQzZHLEdBQUcsQ0FBQ3BFO1FBQzVCLElBQUksQ0FBQzhELEtBQUs7UUFDVixJQUFJQSxJQUFJRyxPQUFPLEVBQUVILElBQUlHLE9BQU8sQ0FBQzVFLE1BQU0sQ0FBQztRQUNwQyxJQUFJeUUsSUFBSTVCLE1BQU0sRUFBRTtZQUNkLElBQUksQ0FBQ2xGLEtBQUssQ0FBQ3NHLE1BQU0sQ0FBQ25CLEdBQUcsQ0FBQztnQkFBRW9CLFNBQVNPLElBQUk1QixNQUFNO2dCQUFFc0IsT0FBTztnQkFBR0UsVUFBVTtnQkFBS0csWUFBWSxJQUFNQyxJQUFJNUIsTUFBTSxFQUFFbUM7WUFBVTtRQUNoSDtRQUNBLElBQUksQ0FBQ25GLElBQUksQ0FBQyxhQUFhYztRQUN2QixJQUFJLENBQUN6QyxNQUFNLENBQUMrRyxNQUFNLENBQUN0RTtJQUNyQjtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXFNhaGl0aFxcT25lRHJpdmVcXERlc2t0b3BcXHlva2FpaHVudFxcZnJvbnRlbmRcXGxpYlxcc3Bhd25VdGlscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBCSU9NRV9UWVBFX1BPT0xTLCBaT05FX1RJTEVTLCBnZW5lcmF0ZVpvbmVzLCBnZXRBZGphY2VudFpvbmVDb29yZHMsIGdldFpvbmVGb3JUaWxlLCB0eXBlIEJpb21lIH0gZnJvbSBcIi4vbWFwWm9uZXNcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFNwYXduUmFyaXR5ID0gXCJjb21tb25cIiB8IFwidW5jb21tb25cIiB8IFwicmFyZVwiIHwgXCJlcGljXCIgfCBcImxlZ2VuZGFyeVwiO1xyXG5cclxuZXhwb3J0IHR5cGUgU3Bhd25SZWNvcmQgPSB7XHJcbiAga2V5OiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHBva2VJZDogbnVtYmVyO1xyXG4gIHR5cGVzOiBzdHJpbmdbXTtcclxuICBzcHJpdGVVcmw6IHN0cmluZztcclxuICBwb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xyXG4gIHpvbmU6IHsgY29sOiBudW1iZXI7IHJvdzogbnVtYmVyOyBpZDogc3RyaW5nIH07XHJcbiAgc3ByaXRlPzogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlO1xyXG4gIHRpbWVvdXQ/OiBQaGFzZXIuVGltZS5UaW1lckV2ZW50O1xyXG4gIG1hcmtlcj86IFBoYXNlci5HYW1lT2JqZWN0cy5TaGFwZTsgLy8gbWluaW1hcCBtYXJrZXJcclxuICBsZXZlbDogbnVtYmVyO1xyXG4gIHJhcml0eTogU3Bhd25SYXJpdHk7XHJcbn07XHJcblxyXG5jb25zdCBNQVhfQUNUSVZFID0gODsgLy8gNy04IGFjdGl2ZSBQb2tlbW9uIHBlciAxMHgxMCBncmlkIGFyZWFcclxuXHJcbi8vIFdlaWdodGVkIHJhcml0eSBkaXN0cmlidXRpb24gKGFzIHBlciByZXF1aXJlbWVudHMpXHJcbmNvbnN0IFJBUklUWV9XRUlHSFRTOiBSZWNvcmQ8U3Bhd25SYXJpdHksIG51bWJlcj4gPSB7XHJcbiAgY29tbW9uOiAwLjYwLCAgICAgIC8vIDYwJVxyXG4gIHVuY29tbW9uOiAwLjI1LCAgICAvLyAyNSVcclxuICByYXJlOiAwLjEwLCAgICAgICAgLy8gMTAlXHJcbiAgZXBpYzogMC4wNCwgICAgICAgIC8vIDQlXHJcbiAgbGVnZW5kYXJ5OiAwLjAxLCAgIC8vIDElXHJcbn07XHJcblxyXG4vLyBMZWdlbmRhcnkgUG9rZW1vbiBJRHMgKHJlcXVpcmUgbGV2ZWwgPj0gMjApXHJcbmNvbnN0IExFR0VOREFSWV9JRFMgPSBbXHJcbiAgLy8gR2VuIDFcclxuICAxNDQsIDE0NSwgMTQ2LCAvLyBBcnRpY3VubywgWmFwZG9zLCBNb2x0cmVzXHJcbiAgMTUwLCAxNTEsIC8vIE1ld3R3bywgTWV3XHJcbiAgLy8gR2VuIDJcclxuICAyNDMsIDI0NCwgMjQ1LCAvLyBSYWlrb3UsIEVudGVpLCBTdWljdW5lXHJcbiAgMjQ5LCAyNTAsIDI1MSwgLy8gTHVnaWEsIEhvLU9oLCBDZWxlYmlcclxuICAvLyBHZW4gM1xyXG4gIDM3NywgMzc4LCAzNzksIC8vIFJlZ2lyb2NrLCBSZWdpY2UsIFJlZ2lzdGVlbFxyXG4gIDM4MCwgMzgxLCAzODIsIDM4MywgMzg0LCAvLyBMYXRpYXMsIExhdGlvcywgS3lvZ3JlLCBHcm91ZG9uLCBSYXlxdWF6YVxyXG4gIDM4NSwgMzg2LCAvLyBKaXJhY2hpLCBEZW94eXNcclxuICAvLyBHZW4gNFxyXG4gIDQ4MCwgNDgxLCA0ODIsIC8vIFV4aWUsIE1lc3ByaXQsIEF6ZWxmXHJcbiAgNDgzLCA0ODQsIDQ4NywgNDg4LCA0ODksIDQ5MCwgNDkxLCAvLyBEaWFsZ2EsIFBhbGtpYSwgR2lyYXRpbmEsIENyZXNzZWxpYSwgUGhpb25lLCBNYW5hcGh5LCBEYXJrcmFpXHJcbl07XHJcblxyXG4vLyBNeXRoaWNhbCBQb2tlbW9uIChhbHNvIHJlcXVpcmUgbGV2ZWwgPj0gMjApXHJcbmNvbnN0IE1ZVEhJQ0FMX0lEUyA9IFsxNTEsIDI1MSwgMzg1LCAzODYsIDQ4OSwgNDkwLCA0OTEsIDQ5MiwgNDkzLCA0OTRdO1xyXG5cclxuLy8gQ29tbW9uIFBva2Vtb24gYnkgdHlwZSAtIENvbXBsZXRlIGxpc3QgZnJvbSBhbGwgZ2VuZXJhdGlvbnNcclxuY29uc3QgQ09NTU9OX1BPS0VNT05fQllfVFlQRTogUmVjb3JkPHN0cmluZywgbnVtYmVyW10+ID0ge1xyXG4gIC8vIE5vcm1hbCB0eXBlIC0gQ29tbW9uIGFjcm9zcyBhbGwgZ2VuZXJhdGlvbnNcclxuICBub3JtYWw6IFtcclxuICAgIDE2LCAgIC8vIFBpZGdleSAoR2VuIDEpXHJcbiAgICAxOSwgICAvLyBSYXR0YXRhIChHZW4gMSlcclxuICAgIDE2MSwgIC8vIFNlbnRyZXQgKEdlbiAyKVxyXG4gICAgMTYzLCAgLy8gSG9vdGhvb3QgKEdlbiAyKVxyXG4gICAgMjYzLCAgLy8gWmlnemFnb29uIChHZW4gMylcclxuICAgIDM5NiwgIC8vIFN0YXJseSAoR2VuIDQpXHJcbiAgICAzOTksICAvLyBCaWRvb2YgKEdlbiA0KVxyXG4gICAgNTA0LCAgLy8gUGF0cmF0IChHZW4gNSlcclxuICAgIDUwNiwgIC8vIExpbGxpcHVwIChHZW4gNSlcclxuICAgIDUxOSwgIC8vIFBpZG92ZSAoR2VuIDUpXHJcbiAgICA2NTksICAvLyBCdW5uZWxieSAoR2VuIDYpXHJcbiAgICA3MzQsICAvLyBZdW5nb29zIChHZW4gNylcclxuICAgIDgxOSwgIC8vIFNrd292ZXQgKEdlbiA4KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gR3Jhc3MgdHlwZSAtIENvbW1vbiBzdGFydGVycyBhbmQgd2lsZCBQb2tlbW9uXHJcbiAgZ3Jhc3M6IFtcclxuICAgIDEsICAgIC8vIEJ1bGJhc2F1ciAoR2VuIDEpXHJcbiAgICA0MywgICAvLyBPZGRpc2ggKEdlbiAxKVxyXG4gICAgNjksICAgLy8gQmVsbHNwcm91dCAoR2VuIDEpXHJcbiAgICAxMDIsICAvLyBFeGVnZ2N1dGUgKEdlbiAxKVxyXG4gICAgMTUyLCAgLy8gQ2hpa29yaXRhIChHZW4gMilcclxuICAgIDE4NywgIC8vIEhvcHBpcCAoR2VuIDIpXHJcbiAgICAyNTIsICAvLyBUcmVlY2tvIChHZW4gMylcclxuICAgIDI4NSwgIC8vIFNocm9vbWlzaCAoR2VuIDMpXHJcbiAgICAzODcsICAvLyBUdXJ0d2lnIChHZW4gNClcclxuICAgIDQ5NSwgIC8vIFNuaXZ5IChHZW4gNSlcclxuICAgIDU0OCwgIC8vIFBldGlsaWwgKEdlbiA1KVxyXG4gICAgNjUwLCAgLy8gQ2hlc3BpbiAoR2VuIDYpXHJcbiAgICA2NzIsICAvLyBTa2lkZG8gKEdlbiA2KVxyXG4gICAgNzIyLCAgLy8gUm93bGV0IChHZW4gNylcclxuICAgIDgxMCwgIC8vIEdyb29rZXkgKEdlbiA4KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gQnVnIHR5cGUgLSBNb3N0IGNvbW1vbiB0eXBlIGluIFBva2Vtb24gZ2FtZXNcclxuICBidWc6IFtcclxuICAgIDEwLCAgIC8vIENhdGVycGllIChHZW4gMSlcclxuICAgIDExLCAgIC8vIE1ldGFwb2QgKEdlbiAxKVxyXG4gICAgMTMsICAgLy8gV2VlZGxlIChHZW4gMSlcclxuICAgIDE0LCAgIC8vIEtha3VuYSAoR2VuIDEpXHJcbiAgICAxNjUsICAvLyBMZWR5YmEgKEdlbiAyKVxyXG4gICAgMTY3LCAgLy8gU3BpbmFyYWsgKEdlbiAyKVxyXG4gICAgMjY1LCAgLy8gV3VybXBsZSAoR2VuIDMpXHJcbiAgICAyNjYsICAvLyBTaWxjb29uIChHZW4gMylcclxuICAgIDI2OCwgIC8vIENhc2Nvb24gKEdlbiAzKVxyXG4gICAgMjkwLCAgLy8gTmluY2FkYSAoR2VuIDMpXHJcbiAgICA0MTIsICAvLyBCdXJteSAoR2VuIDQpXHJcbiAgICA1NDAsICAvLyBTZXdhZGRsZSAoR2VuIDUpXHJcbiAgICA1OTUsICAvLyBKb2x0aWsgKEdlbiA1KVxyXG4gICAgNjY0LCAgLy8gU2NhdHRlcmJ1ZyAoR2VuIDYpXHJcbiAgICA3MzYsICAvLyBHcnViYmluIChHZW4gNylcclxuICAgIDgyNCwgIC8vIEJsaXBidWcgKEdlbiA4KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gRmx5aW5nIHR5cGUgLSBCaXJkcyBhbmQgY29tbW9uIGZseWVyc1xyXG4gIGZseWluZzogW1xyXG4gICAgMTYsICAgLy8gUGlkZ2V5IChHZW4gMSlcclxuICAgIDIxLCAgIC8vIFNwZWFyb3cgKEdlbiAxKVxyXG4gICAgNDEsICAgLy8gWnViYXQgKEdlbiAxKVxyXG4gICAgMTYzLCAgLy8gSG9vdGhvb3QgKEdlbiAyKVxyXG4gICAgMjc2LCAgLy8gVGFpbGxvdyAoR2VuIDMpXHJcbiAgICAyNzgsICAvLyBXaW5ndWxsIChHZW4gMylcclxuICAgIDM5NiwgIC8vIFN0YXJseSAoR2VuIDQpXHJcbiAgICA1MTksICAvLyBQaWRvdmUgKEdlbiA1KVxyXG4gICAgNTIxLCAgLy8gVW5mZXphbnQgKEdlbiA1KVxyXG4gICAgNjYxLCAgLy8gRmxldGNobGluZyAoR2VuIDYpXHJcbiAgICA3MTQsICAvLyBOb2liYXQgKEdlbiA2KVxyXG4gICAgNzMxLCAgLy8gUGlraXBlayAoR2VuIDcpXHJcbiAgICA4MjEsICAvLyBSb29raWRlZSAoR2VuIDgpXHJcbiAgXSxcclxuICBcclxuICAvLyBXYXRlciB0eXBlIC0gQ29tbW9uIHdhdGVyIFBva2Vtb25cclxuICB3YXRlcjogW1xyXG4gICAgNywgICAgLy8gU3F1aXJ0bGUgKEdlbiAxKVxyXG4gICAgNTQsICAgLy8gUHN5ZHVjayAoR2VuIDEpXHJcbiAgICA2MCwgICAvLyBQb2xpd2FnIChHZW4gMSlcclxuICAgIDcyLCAgIC8vIFRlbnRhY29vbCAoR2VuIDEpXHJcbiAgICAxMTYsICAvLyBIb3JzZWEgKEdlbiAxKVxyXG4gICAgMTE4LCAgLy8gR29sZGVlbiAoR2VuIDEpXHJcbiAgICAxMjksICAvLyBNYWdpa2FycCAoR2VuIDEpXHJcbiAgICAxNTgsICAvLyBUb3RvZGlsZSAoR2VuIDIpXHJcbiAgICAxODMsICAvLyBNYXJpbGwgKEdlbiAyKVxyXG4gICAgMjU4LCAgLy8gTXVka2lwIChHZW4gMylcclxuICAgIDMxOCwgIC8vIENhcnZhbmhhIChHZW4gMylcclxuICAgIDM5MywgIC8vIFBpcGx1cCAoR2VuIDQpXHJcbiAgICA0NTYsICAvLyBGaW5uZW9uIChHZW4gNClcclxuICAgIDUwMSwgIC8vIE9zaGF3b3R0IChHZW4gNSlcclxuICAgIDU1MCwgIC8vIEJhc2N1bGluIChHZW4gNSlcclxuICAgIDY1NiwgIC8vIEZyb2FraWUgKEdlbiA2KVxyXG4gICAgNzI4LCAgLy8gUG9wcGxpbyAoR2VuIDcpXHJcbiAgICA3NzEsICAvLyBQeXVrdW11a3UgKEdlbiA3KVxyXG4gICAgODE2LCAgLy8gU29iYmxlIChHZW4gOClcclxuICBdLFxyXG4gIFxyXG4gIC8vIEZpcmUgdHlwZSAtIENvbW1vbiBmaXJlIFBva2Vtb25cclxuICBmaXJlOiBbXHJcbiAgICA0LCAgICAvLyBDaGFybWFuZGVyIChHZW4gMSlcclxuICAgIDM3LCAgIC8vIFZ1bHBpeCAoR2VuIDEpXHJcbiAgICA1OCwgICAvLyBHcm93bGl0aGUgKEdlbiAxKVxyXG4gICAgNzcsICAgLy8gUG9ueXRhIChHZW4gMSlcclxuICAgIDE1NSwgIC8vIEN5bmRhcXVpbCAoR2VuIDIpXHJcbiAgICAyMTgsICAvLyBTbHVnbWEgKEdlbiAyKVxyXG4gICAgMjU1LCAgLy8gVG9yY2hpYyAoR2VuIDMpXHJcbiAgICAzMjIsICAvLyBOdW1lbCAoR2VuIDMpXHJcbiAgICAzOTAsICAvLyBDaGltY2hhciAoR2VuIDQpXHJcbiAgICA0OTgsICAvLyBUZXBpZyAoR2VuIDUpXHJcbiAgICA1MTMsICAvLyBQYW5zZWFyIChHZW4gNSlcclxuICAgIDY1MywgIC8vIEZlbm5la2luIChHZW4gNilcclxuICAgIDcyNSwgIC8vIExpdHRlbiAoR2VuIDcpXHJcbiAgICA4MTMsICAvLyBTY29yYnVubnkgKEdlbiA4KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gRWxlY3RyaWMgdHlwZSAtIENvbW1vbiBlbGVjdHJpYyBQb2tlbW9uXHJcbiAgZWxlY3RyaWM6IFtcclxuICAgIDI1LCAgIC8vIFBpa2FjaHUgKEdlbiAxKVxyXG4gICAgODEsICAgLy8gTWFnbmVtaXRlIChHZW4gMSlcclxuICAgIDEwMCwgIC8vIFZvbHRvcmIgKEdlbiAxKVxyXG4gICAgMTcyLCAgLy8gUGljaHUgKEdlbiAyKVxyXG4gICAgMTc5LCAgLy8gTWFyZWVwIChHZW4gMilcclxuICAgIDMwOSwgIC8vIEVsZWN0cmlrZSAoR2VuIDMpXHJcbiAgICAzMTEsICAvLyBQbHVzbGUgKEdlbiAzKVxyXG4gICAgMzEyLCAgLy8gTWludW4gKEdlbiAzKVxyXG4gICAgNDAzLCAgLy8gU2hpbnggKEdlbiA0KVxyXG4gICAgNDE3LCAgLy8gUGFjaGlyaXN1IChHZW4gNClcclxuICAgIDUyMiwgIC8vIEJsaXR6bGUgKEdlbiA1KVxyXG4gICAgNTg3LCAgLy8gRW1vbGdhIChHZW4gNSlcclxuICAgIDcwMiwgIC8vIERlZGVubmUgKEdlbiA2KVxyXG4gICAgNzc3LCAgLy8gVG9nZWRlbWFydSAoR2VuIDcpXHJcbiAgICA4MzUsICAvLyBZYW1wZXIgKEdlbiA4KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gUm9jayB0eXBlIC0gQ29tbW9uIHJvY2sgUG9rZW1vblxyXG4gIHJvY2s6IFtcclxuICAgIDc0LCAgIC8vIEdlb2R1ZGUgKEdlbiAxKVxyXG4gICAgOTUsICAgLy8gT25peCAoR2VuIDEpXHJcbiAgICAxMzgsICAvLyBPbWFueXRlIChHZW4gMSlcclxuICAgIDE0MCwgIC8vIEthYnV0byAoR2VuIDEpXHJcbiAgICAyMTMsICAvLyBTaHVja2xlIChHZW4gMilcclxuICAgIDI5OSwgIC8vIE5vc2VwYXNzIChHZW4gMylcclxuICAgIDMwNCwgIC8vIEFyb24gKEdlbiAzKVxyXG4gICAgNDA4LCAgLy8gQ3Jhbmlkb3MgKEdlbiA0KVxyXG4gICAgNDEwLCAgLy8gU2hpZWxkb24gKEdlbiA0KVxyXG4gICAgNTI0LCAgLy8gUm9nZ2Vucm9sYSAoR2VuIDUpXHJcbiAgICA1NTcsICAvLyBEd2ViYmxlIChHZW4gNSlcclxuICAgIDY4OCwgIC8vIEJpbmFjbGUgKEdlbiA2KVxyXG4gICAgNjk2LCAgLy8gVHlydW50IChHZW4gNilcclxuICAgIDc0NCwgIC8vIFJvY2tydWZmIChHZW4gNylcclxuICAgIDgzNywgIC8vIFJvbHljb2x5IChHZW4gOClcclxuICBdLFxyXG4gIFxyXG4gIC8vIEdyb3VuZCB0eXBlIC0gQ29tbW9uIGdyb3VuZCBQb2tlbW9uXHJcbiAgZ3JvdW5kOiBbXHJcbiAgICAyNywgICAvLyBTYW5kc2hyZXcgKEdlbiAxKVxyXG4gICAgNTAsICAgLy8gRGlnbGV0dCAoR2VuIDEpXHJcbiAgICAxMDQsICAvLyBDdWJvbmUgKEdlbiAxKVxyXG4gICAgMjA3LCAgLy8gR2xpZ2FyIChHZW4gMilcclxuICAgIDIzMSwgIC8vIFBoYW5weSAoR2VuIDIpXHJcbiAgICAzMjgsICAvLyBUcmFwaW5jaCAoR2VuIDMpXHJcbiAgICA0NDksICAvLyBIaXBwb3BvdGFzIChHZW4gNClcclxuICAgIDUyOSwgIC8vIERyaWxidXIgKEdlbiA1KVxyXG4gICAgNTUxLCAgLy8gU2FuZGlsZSAoR2VuIDUpXHJcbiAgICA2NTksICAvLyBCdW5uZWxieSAoR2VuIDYpXHJcbiAgICA3NDksICAvLyBNdWRicmF5IChHZW4gNylcclxuICAgIDg0MywgIC8vIFNpbGljb2JyYSAoR2VuIDgpXHJcbiAgXSxcclxuICBcclxuICAvLyBQb2lzb24gdHlwZSAtIENvbW1vbiBwb2lzb24gUG9rZW1vblxyXG4gIHBvaXNvbjogW1xyXG4gICAgMjMsICAgLy8gRWthbnMgKEdlbiAxKVxyXG4gICAgMjksICAgLy8gTmlkb3JhbuKZgCAoR2VuIDEpXHJcbiAgICAzMiwgICAvLyBOaWRvcmFu4pmCIChHZW4gMSlcclxuICAgIDQxLCAgIC8vIFp1YmF0IChHZW4gMSlcclxuICAgIDg4LCAgIC8vIEdyaW1lciAoR2VuIDEpXHJcbiAgICAxMDksICAvLyBLb2ZmaW5nIChHZW4gMSlcclxuICAgIDMxNiwgIC8vIEd1bHBpbiAoR2VuIDMpXHJcbiAgICAzMzYsICAvLyBTZXZpcGVyIChHZW4gMylcclxuICAgIDQ1MSwgIC8vIFNrb3J1cGkgKEdlbiA0KVxyXG4gICAgNDUzLCAgLy8gQ3JvYWd1bmsgKEdlbiA0KVxyXG4gICAgNTQzLCAgLy8gVmVuaXBlZGUgKEdlbiA1KVxyXG4gICAgNTY4LCAgLy8gVHJ1YmJpc2ggKEdlbiA1KVxyXG4gICAgNzU3LCAgLy8gU2FsYW5kaXQgKEdlbiA3KVxyXG4gICAgODQ4LCAgLy8gVG94ZWwgKEdlbiA4KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gRmlnaHRpbmcgdHlwZSAtIENvbW1vbiBmaWdodGluZyBQb2tlbW9uXHJcbiAgZmlnaHRpbmc6IFtcclxuICAgIDU2LCAgIC8vIE1hbmtleSAoR2VuIDEpXHJcbiAgICA2NiwgICAvLyBNYWNob3AgKEdlbiAxKVxyXG4gICAgMjM2LCAgLy8gVHlyb2d1ZSAoR2VuIDIpXHJcbiAgICAyOTYsICAvLyBNYWt1aGl0YSAoR2VuIDMpXHJcbiAgICAzMDcsICAvLyBNZWRpdGl0ZSAoR2VuIDMpXHJcbiAgICA0NDcsICAvLyBSaW9sdSAoR2VuIDQpXHJcbiAgICA1MzIsICAvLyBUaW1idXJyIChHZW4gNSlcclxuICAgIDUzOCwgIC8vIFRocm9oIChHZW4gNSlcclxuICAgIDUzOSwgIC8vIFNhd2sgKEdlbiA1KVxyXG4gICAgNjc0LCAgLy8gUGFuY2hhbSAoR2VuIDYpXHJcbiAgICA3MzksICAvLyBDcmFicmF3bGVyIChHZW4gNylcclxuICAgIDc1OSwgIC8vIFN0dWZmdWwgKEdlbiA3KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gUHN5Y2hpYyB0eXBlIC0gQ29tbW9uIHBzeWNoaWMgUG9rZW1vblxyXG4gIHBzeWNoaWM6IFtcclxuICAgIDYzLCAgIC8vIEFicmEgKEdlbiAxKVxyXG4gICAgOTYsICAgLy8gRHJvd3plZSAoR2VuIDEpXHJcbiAgICAxMjIsICAvLyBNci4gTWltZSAoR2VuIDEpXHJcbiAgICAxNzcsICAvLyBOYXR1IChHZW4gMilcclxuICAgIDI4MCwgIC8vIFJhbHRzIChHZW4gMylcclxuICAgIDMwNywgIC8vIE1lZGl0aXRlIChHZW4gMylcclxuICAgIDQzMywgIC8vIENoaW5nbGluZyAoR2VuIDQpXHJcbiAgICA1MTcsICAvLyBNdW5uYSAoR2VuIDUpXHJcbiAgICA1MjcsICAvLyBXb29iYXQgKEdlbiA1KVxyXG4gICAgNjA1LCAgLy8gRWxneWVtIChHZW4gNSlcclxuICAgIDY3NywgIC8vIEVzcHVyciAoR2VuIDYpXHJcbiAgICA3NjUsICAvLyBPcmFuZ3VydSAoR2VuIDcpXHJcbiAgICA4NTYsICAvLyBIYXRlbm5hIChHZW4gOClcclxuICBdLFxyXG4gIFxyXG4gIC8vIEljZSB0eXBlIC0gQ29tbW9uIGljZSBQb2tlbW9uXHJcbiAgaWNlOiBbXHJcbiAgICA4NiwgICAvLyBTZWVsIChHZW4gMSlcclxuICAgIDIxNSwgIC8vIFNuZWFzZWwgKEdlbiAyKVxyXG4gICAgMjIwLCAgLy8gU3dpbnViIChHZW4gMilcclxuICAgIDM2MSwgIC8vIFNub3J1bnQgKEdlbiAzKVxyXG4gICAgMzYzLCAgLy8gU3BoZWFsIChHZW4gMylcclxuICAgIDQ1OSwgIC8vIFNub3ZlciAoR2VuIDQpXHJcbiAgICA1ODIsICAvLyBWYW5pbGxpdGUgKEdlbiA1KVxyXG4gICAgNjEzLCAgLy8gQ3ViY2hvbyAoR2VuIDUpXHJcbiAgICA3MTIsICAvLyBCZXJnbWl0ZSAoR2VuIDYpXHJcbiAgICA4NzIsICAvLyBTbm9tIChHZW4gOClcclxuICBdLFxyXG4gIFxyXG4gIC8vIEdob3N0IHR5cGUgLSBDb21tb24gZ2hvc3QgUG9rZW1vblxyXG4gIGdob3N0OiBbXHJcbiAgICA5MiwgICAvLyBHYXN0bHkgKEdlbiAxKVxyXG4gICAgMjAwLCAgLy8gTWlzZHJlYXZ1cyAoR2VuIDIpXHJcbiAgICAzNTMsICAvLyBTaHVwcGV0IChHZW4gMylcclxuICAgIDM1NSwgIC8vIER1c2t1bGwgKEdlbiAzKVxyXG4gICAgNDI1LCAgLy8gRHJpZmxvb24gKEdlbiA0KVxyXG4gICAgNTYyLCAgLy8gWWFtYXNrIChHZW4gNSlcclxuICAgIDYwNywgIC8vIExpdHdpY2sgKEdlbiA1KVxyXG4gICAgNzA4LCAgLy8gUGhhbnR1bXAgKEdlbiA2KVxyXG4gICAgNzEwLCAgLy8gUHVtcGthYm9vIChHZW4gNilcclxuICAgIDc3OCwgIC8vIE1pbWlreXUgKEdlbiA3KVxyXG4gICAgODU0LCAgLy8gU2luaXN0ZWEgKEdlbiA4KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gRHJhZ29uIHR5cGUgLSBMZXNzIGNvbW1vbiBidXQgc3RpbGwgYXZhaWxhYmxlXHJcbiAgZHJhZ29uOiBbXHJcbiAgICAxNDcsICAvLyBEcmF0aW5pIChHZW4gMSlcclxuICAgIDM3MSwgIC8vIEJhZ29uIChHZW4gMylcclxuICAgIDQ0MywgIC8vIEdpYmxlIChHZW4gNClcclxuICAgIDYxMCwgIC8vIEF4ZXcgKEdlbiA1KVxyXG4gICAgNjMzLCAgLy8gRGVpbm8gKEdlbiA1KVxyXG4gICAgNzA0LCAgLy8gR29vbXkgKEdlbiA2KVxyXG4gICAgNzgwLCAgLy8gRHJhbXBhIChHZW4gNylcclxuICAgIDc4MiwgIC8vIEphbmdtby1vIChHZW4gNylcclxuICAgIDg4NCwgIC8vIER1cmFsdWRvbiAoR2VuIDgpXHJcbiAgXSxcclxuICBcclxuICAvLyBEYXJrIHR5cGUgLSBDb21tb24gZGFyayBQb2tlbW9uXHJcbiAgZGFyazogW1xyXG4gICAgMTk4LCAgLy8gTXVya3JvdyAoR2VuIDIpXHJcbiAgICAyMjgsICAvLyBIb3VuZG91ciAoR2VuIDIpXHJcbiAgICAyNjEsICAvLyBQb29jaHllbmEgKEdlbiAzKVxyXG4gICAgMzAyLCAgLy8gU2FibGV5ZSAoR2VuIDMpXHJcbiAgICA0MzQsICAvLyBTdHVua3kgKEdlbiA0KVxyXG4gICAgNTA5LCAgLy8gUHVycmxvaW4gKEdlbiA1KVxyXG4gICAgNjI0LCAgLy8gUGF3bmlhcmQgKEdlbiA1KVxyXG4gICAgNjI5LCAgLy8gVnVsbGFieSAoR2VuIDUpXHJcbiAgICA2ODYsICAvLyBJbmtheSAoR2VuIDYpXHJcbiAgICA4MjcsICAvLyBOaWNraXQgKEdlbiA4KVxyXG4gICAgODU5LCAgLy8gSW1waWRpbXAgKEdlbiA4KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gU3RlZWwgdHlwZSAtIENvbW1vbiBzdGVlbCBQb2tlbW9uXHJcbiAgc3RlZWw6IFtcclxuICAgIDgxLCAgIC8vIE1hZ25lbWl0ZSAoR2VuIDEpXHJcbiAgICA5NSwgICAvLyBPbml4IChHZW4gMSlcclxuICAgIDMwNCwgIC8vIEFyb24gKEdlbiAzKVxyXG4gICAgNDM2LCAgLy8gQnJvbnpvciAoR2VuIDQpXHJcbiAgICA1OTcsICAvLyBGZXJyb3NlZWQgKEdlbiA1KVxyXG4gICAgNTk5LCAgLy8gS2xpbmsgKEdlbiA1KVxyXG4gICAgNzA3LCAgLy8gS2xlZmtpIChHZW4gNilcclxuICAgIDgwOCwgIC8vIE1lbHRhbiAoR2VuIDcpXHJcbiAgICA4NzgsICAvLyBDdWZhbnQgKEdlbiA4KVxyXG4gIF0sXHJcbiAgXHJcbiAgLy8gRmFpcnkgdHlwZSAtIENvbW1vbiBmYWlyeSBQb2tlbW9uIChHZW4gNispXHJcbiAgZmFpcnk6IFtcclxuICAgIDM1LCAgIC8vIENsZWZhaXJ5IChHZW4gMSlcclxuICAgIDM5LCAgIC8vIEppZ2dseXB1ZmYgKEdlbiAxKVxyXG4gICAgMTc0LCAgLy8gSWdnbHlidWZmIChHZW4gMilcclxuICAgIDE4MywgIC8vIE1hcmlsbCAoR2VuIDIpXHJcbiAgICAyODAsICAvLyBSYWx0cyAoR2VuIDMpXHJcbiAgICA0MzksICAvLyBNaW1lIEpyLiAoR2VuIDQpXHJcbiAgICA1NDYsICAvLyBDb3R0b25lZSAoR2VuIDUpXHJcbiAgICA2ODIsICAvLyBTcHJpdHplZSAoR2VuIDYpXHJcbiAgICA2ODQsICAvLyBTd2lybGl4IChHZW4gNilcclxuICAgIDcwMiwgIC8vIERlZGVubmUgKEdlbiA2KVxyXG4gICAgODY4LCAgLy8gTWlsY2VyeSAoR2VuIDgpXHJcbiAgXSxcclxufTtcclxuXHJcbi8vIEdldCBjb21tb24gSURzIGZvciB0eXBlXHJcbmZ1bmN0aW9uIGdldENvbW1vbklkc0ZvclR5cGUodHlwZTogc3RyaW5nKTogbnVtYmVyW10ge1xyXG4gIHJldHVybiBDT01NT05fUE9LRU1PTl9CWV9UWVBFW3R5cGVdIHx8IFsxNiwgMTksIDQzXTsgLy8gRGVmYXVsdCB0byBQaWRnZXksIFJhdHRhdGEsIENhdGVycGllXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQaWNrIHJhcml0eSBiYXNlZCBvbiB3ZWlnaHRlZCBkaXN0cmlidXRpb24gYW5kIHRyYWluZXIgbGV2ZWxcclxuICovXHJcbmZ1bmN0aW9uIHBpY2tSYXJpdHkodHJhaW5lckxldmVsOiBudW1iZXIpOiBTcGF3blJhcml0eSB7XHJcbiAgY29uc3QgciA9IE1hdGgucmFuZG9tKCk7XHJcbiAgbGV0IGN1bXVsYXRpdmUgPSAwO1xyXG4gIFxyXG4gIC8vIExlZ2VuZGFyeS9NeXRoaWMgcmVxdWlyZSB0cmFpbmVyIGxldmVsID49IDIwXHJcbiAgY29uc3QgY2FuU3Bhd25MZWdlbmRhcnkgPSB0cmFpbmVyTGV2ZWwgPj0gMjA7XHJcbiAgXHJcbiAgLy8gQWRqdXN0IHdlaWdodHMgaWYgbGVnZW5kYXJ5IG5vdCBhdmFpbGFibGVcclxuICBjb25zdCB3ZWlnaHRzID0geyAuLi5SQVJJVFlfV0VJR0hUUyB9O1xyXG4gIGlmICghY2FuU3Bhd25MZWdlbmRhcnkpIHtcclxuICAgIC8vIFJlZGlzdHJpYnV0ZSBsZWdlbmRhcnkgd2VpZ2h0IHRvIG90aGVyIHJhcml0aWVzXHJcbiAgICBjb25zdCByZWRpc3RyaWJ1dGlvbiA9IHdlaWdodHMubGVnZW5kYXJ5IC8gNDtcclxuICAgIHdlaWdodHMuY29tbW9uICs9IHJlZGlzdHJpYnV0aW9uO1xyXG4gICAgd2VpZ2h0cy51bmNvbW1vbiArPSByZWRpc3RyaWJ1dGlvbjtcclxuICAgIHdlaWdodHMucmFyZSArPSByZWRpc3RyaWJ1dGlvbjtcclxuICAgIHdlaWdodHMuZXBpYyArPSByZWRpc3RyaWJ1dGlvbjtcclxuICAgIHdlaWdodHMubGVnZW5kYXJ5ID0gMDtcclxuICB9XHJcbiAgXHJcbiAgLy8gU2xpZ2h0bHkgaW5jcmVhc2UgYmV0dGVyIHNwYXduIGNoYW5jZXMgd2l0aCBsZXZlbFxyXG4gIGNvbnN0IGxldmVsQm9udXMgPSBNYXRoLm1pbih0cmFpbmVyTGV2ZWwgKiAwLjAwNSwgMC4xKTsgLy8gTWF4IDEwJSBib251cyBhdCBsZXZlbCAyMFxyXG4gIHdlaWdodHMucmFyZSArPSBsZXZlbEJvbnVzO1xyXG4gIHdlaWdodHMuZXBpYyArPSBsZXZlbEJvbnVzIC8gMjtcclxuICB3ZWlnaHRzLmNvbW1vbiAtPSBsZXZlbEJvbnVzICogMS41OyAvLyBSZWR1Y2UgY29tbW9uIHNwYXduc1xyXG4gIFxyXG4gIGZvciAoY29uc3QgW3Jhcml0eSwgd2VpZ2h0XSBvZiBPYmplY3QuZW50cmllcyh3ZWlnaHRzKSBhcyBbU3Bhd25SYXJpdHksIG51bWJlcl1bXSkge1xyXG4gICAgY3VtdWxhdGl2ZSArPSB3ZWlnaHQ7XHJcbiAgICBpZiAociA8IGN1bXVsYXRpdmUpIHJldHVybiByYXJpdHk7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBcImNvbW1vblwiO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBmZXRjaFBva2Vtb24ocG9rZUlkOiBudW1iZXIpIHtcclxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9wb2tlYXBpLmNvL2FwaS92Mi9wb2tlbW9uLyR7cG9rZUlkfWApO1xyXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xyXG4gIGNvbnN0IHR5cGVzOiBzdHJpbmdbXSA9IGRhdGEudHlwZXM/Lm1hcCgodDogYW55KSA9PiB0LnR5cGUubmFtZSkgfHwgW107XHJcbiAgY29uc3Qgc3ByaXRlVXJsID0gZGF0YT8uc3ByaXRlcz8uZnJvbnRfZGVmYXVsdCB8fCBkYXRhPy5zcHJpdGVzPy5vdGhlcj8uW1wib2ZmaWNpYWwtYXJ0d29ya1wiXT8uZnJvbnRfZGVmYXVsdDtcclxuICByZXR1cm4geyBkYXRhLCB0eXBlcywgc3ByaXRlVXJsLCBuYW1lOiBkYXRhLm5hbWUgfTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hTcGVjaWVzKHBva2VJZDogbnVtYmVyKSB7XHJcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vcG9rZWFwaS5jby9hcGkvdjIvcG9rZW1vbi1zcGVjaWVzLyR7cG9rZUlkfWApO1xyXG4gIHJldHVybiByZXMuanNvbigpO1xyXG59XHJcblxyXG4vLyBIZXVyaXN0aWMgcmFyaXR5IHRpZXJpbmcgYmFzZWQgb24gc3BlY2llcyBmbGFncyBhbmQgY2FwdHVyZV9yYXRlXHJcbmZ1bmN0aW9uIGNsYXNzaWZ5UmFyaXR5KHNwZWNpZXM6IGFueSwgcG9rZUlkOiBudW1iZXIpOiBTcGF3blJhcml0eSB7XHJcbiAgLy8gQ2hlY2sgaWYgbGVnZW5kYXJ5IG9yIG15dGhpY2FsXHJcbiAgaWYgKExFR0VOREFSWV9JRFMuaW5jbHVkZXMocG9rZUlkKSB8fCBNWVRISUNBTF9JRFMuaW5jbHVkZXMocG9rZUlkKSkgcmV0dXJuIFwibGVnZW5kYXJ5XCI7XHJcbiAgaWYgKHNwZWNpZXM/LmlzX2xlZ2VuZGFyeSB8fCBzcGVjaWVzPy5pc19teXRoaWNhbCkgcmV0dXJuIFwibGVnZW5kYXJ5XCI7XHJcbiAgXHJcbiAgY29uc3QgcmF0ZSA9IHNwZWNpZXM/LmNhcHR1cmVfcmF0ZSA/PyA0NTsgLy8gMC0yNTUgaGlnaGVyID0gZWFzaWVyXHJcbiAgXHJcbiAgLy8gQ2xhc3NpZnkgYmFzZWQgb24gY2FwdHVyZSByYXRlXHJcbiAgaWYgKHJhdGUgPj0gMjAwKSByZXR1cm4gXCJjb21tb25cIjsgICAgIC8vIFZlcnkgZWFzeVxyXG4gIGlmIChyYXRlID49IDEyMCkgcmV0dXJuIFwidW5jb21tb25cIjsgICAvLyBFYXN5XHJcbiAgaWYgKHJhdGUgPj0gNzUpIHJldHVybiBcInJhcmVcIjsgICAgICAgIC8vIE1vZGVyYXRlXHJcbiAgaWYgKHJhdGUgPj0gNDUpIHJldHVybiBcImVwaWNcIjsgICAgICAgIC8vIEhhcmRcclxuICByZXR1cm4gXCJsZWdlbmRhcnlcIjsgICAgICAgICAgICAgICAgICAgLy8gVmVyeSBoYXJkXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTcGF3bk1hbmFnZXIgZXh0ZW5kcyBQaGFzZXIuRXZlbnRzLkV2ZW50RW1pdHRlciB7XHJcbiAgcHJpdmF0ZSBzY2VuZTogUGhhc2VyLlNjZW5lO1xyXG4gIHByaXZhdGUgdGlsZVNpemU6IG51bWJlcjtcclxuICBwcml2YXRlIG1hcFdpZHRoVGlsZXM6IG51bWJlcjtcclxuICBwcml2YXRlIG1hcEhlaWdodFRpbGVzOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSB6b25lczogUmV0dXJuVHlwZTx0eXBlb2YgZ2VuZXJhdGVab25lcz4gPSBbXTtcclxuICBwcml2YXRlIHpvbmVDb2xzID0gMDtcclxuICBwcml2YXRlIHpvbmVSb3dzID0gMDtcclxuICBwcml2YXRlIGFjdGl2ZTogTWFwPHN0cmluZywgU3Bhd25SZWNvcmQ+ID0gbmV3IE1hcCgpO1xyXG4gIHByaXZhdGUgY3VycmVudFpvbmUgPSB7IGNvbDogMCwgcm93OiAwLCBpZDogXCIwLDBcIiB9O1xyXG4gIHByaXZhdGUgc3Bhd25UaW1lcj86IFBoYXNlci5UaW1lLlRpbWVyRXZlbnQ7XHJcbiAgcHJpdmF0ZSBvdmVycmlkZVR5cGVzOiBzdHJpbmdbXSB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgdHJhaW5lckxldmVsOiBudW1iZXIgPSAxOyAvLyBUcmFpbmVyIGxldmVsIGZvciBzcGF3biBiYWxhbmNpbmdcclxuXHJcbiAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSwgdGlsZVNpemU6IG51bWJlciwgbWFwV2lkdGhUaWxlczogbnVtYmVyLCBtYXBIZWlnaHRUaWxlczogbnVtYmVyLCB0cmFpbmVyTGV2ZWw6IG51bWJlciA9IDEpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICB0aGlzLnRpbGVTaXplID0gdGlsZVNpemU7XHJcbiAgICB0aGlzLm1hcFdpZHRoVGlsZXMgPSBtYXBXaWR0aFRpbGVzO1xyXG4gICAgdGhpcy5tYXBIZWlnaHRUaWxlcyA9IG1hcEhlaWdodFRpbGVzO1xyXG4gICAgdGhpcy50cmFpbmVyTGV2ZWwgPSB0cmFpbmVyTGV2ZWw7XHJcblxyXG4gICAgdGhpcy56b25lQ29scyA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IobWFwV2lkdGhUaWxlcyAvIFpPTkVfVElMRVMpKTtcclxuICAgIHRoaXMuem9uZVJvd3MgPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKG1hcEhlaWdodFRpbGVzIC8gWk9ORV9USUxFUykpO1xyXG4gICAgdGhpcy56b25lcyA9IGdlbmVyYXRlWm9uZXModGhpcy56b25lQ29scywgdGhpcy56b25lUm93cyk7XHJcbiAgfVxyXG5cclxuICBnZXRBY3RpdmVTcGF3bnMoKSB7IHJldHVybiBBcnJheS5mcm9tKHRoaXMuYWN0aXZlLnZhbHVlcygpKTsgfVxyXG4gIGdldFpvbmVHcmlkKCkgeyByZXR1cm4geyBjb2xzOiB0aGlzLnpvbmVDb2xzLCByb3dzOiB0aGlzLnpvbmVSb3dzLCB6b25lczogdGhpcy56b25lcyB9OyB9XHJcbiAgZ2V0Q3VycmVudFpvbmUoKSB7IHJldHVybiB0aGlzLmN1cnJlbnRab25lOyB9XHJcbiAgc2V0T3ZlcnJpZGVUeXBlcyh0eXBlczogc3RyaW5nW10gfCBudWxsKSB7IHRoaXMub3ZlcnJpZGVUeXBlcyA9IHR5cGVzOyB0aGlzLnRvcFVwU3Bhd25zKHRydWUpOyB9XHJcbiAgc2V0VHJhaW5lckxldmVsKGxldmVsOiBudW1iZXIpIHsgdGhpcy50cmFpbmVyTGV2ZWwgPSBsZXZlbDsgfVxyXG5cclxuICB1cGRhdGVQbGF5ZXJQb3MoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IHR4ID0gTWF0aC5mbG9vcih4IC8gdGhpcy50aWxlU2l6ZSk7XHJcbiAgICBjb25zdCB0eSA9IE1hdGguZmxvb3IoeSAvIHRoaXMudGlsZVNpemUpO1xyXG4gICAgY29uc3QgeiA9IGdldFpvbmVGb3JUaWxlKHR4LCB0eSwgdGhpcy56b25lQ29scywgdGhpcy56b25lUm93cyk7XHJcbiAgICBpZiAoei5pZCAhPT0gdGhpcy5jdXJyZW50Wm9uZS5pZCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRab25lID0gejtcclxuICAgICAgdGhpcy5lbWl0KFwiem9uZUNoYW5nZWRcIiwgeik7XHJcbiAgICAgIC8vIG9uIHpvbmUgY2hhbmdlLCB0cnkgdG8gdG9wIHVwIHNwYXducyBpbW1lZGlhdGVseVxyXG4gICAgICB0aGlzLnRvcFVwU3Bhd25zKHRydWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhcnQoKSB7XHJcbiAgICB0aGlzLnRvcFVwU3Bhd25zKHRydWUpO1xyXG4gICAgdGhpcy5zcGF3blRpbWVyPy5yZW1vdmUoZmFsc2UpO1xyXG4gICAgY29uc3Qgc2NoZWR1bGVOZXh0ID0gKCkgPT4ge1xyXG4gICAgICBjb25zdCBkZWxheSA9IFBoYXNlci5NYXRoLkJldHdlZW4oMjAwMDAsIDQwMDAwKTtcclxuICAgICAgdGhpcy5zcGF3blRpbWVyID0gdGhpcy5zY2VuZS50aW1lLmFkZEV2ZW50KHsgZGVsYXksIGxvb3A6IGZhbHNlLCBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudG9wVXBTcGF3bnMoZmFsc2UpO1xyXG4gICAgICAgIHNjaGVkdWxlTmV4dCgpO1xyXG4gICAgICB9fSk7XHJcbiAgICB9O1xyXG4gICAgc2NoZWR1bGVOZXh0KCk7XHJcbiAgfVxyXG5cclxuICBzdG9wKCkge1xyXG4gICAgdGhpcy5zcGF3blRpbWVyPy5yZW1vdmUoZmFsc2UpO1xyXG4gICAgdGhpcy5hY3RpdmUuZm9yRWFjaChyID0+IHRoaXMuZGVzcGF3bihyLmtleSkpO1xyXG4gICAgdGhpcy5hY3RpdmUuY2xlYXIoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgdG9wVXBTcGF3bnMoaW1tZWRpYXRlOiBib29sZWFuKSB7XHJcbiAgICBpZiAodGhpcy5hY3RpdmUuc2l6ZSA+PSBNQVhfQUNUSVZFKSByZXR1cm47XHJcbiAgICBjb25zdCBuZWVkID0gTWF0aC5taW4oTUFYX0FDVElWRSAtIHRoaXMuYWN0aXZlLnNpemUsIDIpOyAvLyBzcGF3biB1cCB0byAyIGF0IGEgdGltZVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWVkOyBpKyspIHtcclxuICAgICAgdHJ5IHsgYXdhaXQgdGhpcy5zcGF3bk9uZSgpOyB9IGNhdGNoIHsgLyogaWdub3JlIHRyYW5zaWVudCAqLyB9XHJcbiAgICAgIGlmICghaW1tZWRpYXRlKSBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0Q2FuZGlkYXRlWm9uZXMoKSB7XHJcbiAgICBjb25zdCBhcm91bmQgPSBnZXRBZGphY2VudFpvbmVDb29yZHModGhpcy5jdXJyZW50Wm9uZS5jb2wsIHRoaXMuY3VycmVudFpvbmUucm93LCB0aGlzLnpvbmVDb2xzLCB0aGlzLnpvbmVSb3dzLCAxKTtcclxuICAgIHJldHVybiBhcm91bmQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHBpY2tab25lQXJlYSh6b25lOiB7IGNvbDogbnVtYmVyOyByb3c6IG51bWJlciB9KSB7XHJcbiAgICBjb25zdCBzdGFydFggPSB6b25lLmNvbCAqIFpPTkVfVElMRVMgKiB0aGlzLnRpbGVTaXplO1xyXG4gICAgY29uc3Qgc3RhcnRZID0gem9uZS5yb3cgKiBaT05FX1RJTEVTICogdGhpcy50aWxlU2l6ZTtcclxuICAgIGNvbnN0IGVuZFggPSBzdGFydFggKyBaT05FX1RJTEVTICogdGhpcy50aWxlU2l6ZTtcclxuICAgIGNvbnN0IGVuZFkgPSBzdGFydFkgKyBaT05FX1RJTEVTICogdGhpcy50aWxlU2l6ZTtcclxuICAgIHJldHVybiB7IHN0YXJ0WCwgc3RhcnRZLCBlbmRYLCBlbmRZIH07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIHNwYXduT25lKCkge1xyXG4gICAgY29uc3Qgem9uZXMgPSB0aGlzLmdldENhbmRpZGF0ZVpvbmVzKCk7XHJcbiAgICBjb25zdCBwaWNrZWQgPSBQaGFzZXIuVXRpbHMuQXJyYXkuR2V0UmFuZG9tKHpvbmVzKTtcclxuICAgIGNvbnN0IHpvbmVNZXRhID0gdGhpcy56b25lcy5maW5kKHogPT4gei5pZCA9PT0gcGlja2VkLmlkKSE7XHJcbiAgICBjb25zdCBiaW9tZTogQmlvbWUgPSB6b25lTWV0YS5iaW9tZSBhcyBhbnk7XHJcbiAgICBjb25zdCB0eXBlcyA9IHRoaXMub3ZlcnJpZGVUeXBlcyB8fCBCSU9NRV9UWVBFX1BPT0xTW2Jpb21lXTtcclxuXHJcbiAgICAvLyBQaWNrIHJhcml0eSB0YXJnZXQgYmFzZWQgb24gdHJhaW5lciBsZXZlbFxyXG4gICAgY29uc3QgdGFyZ2V0ID0gcGlja1Jhcml0eSh0aGlzLnRyYWluZXJMZXZlbCk7XHJcblxyXG4gICAgLy8gRm9yIGNvbW1vbiBzcGF3bnMsIHByaW9yaXRpemUgY29tbW9uIFBva2Vtb24gSURzXHJcbiAgICBsZXQgY2hvc2VuOiB7IGlkOiBudW1iZXI7IG5hbWU6IHN0cmluZzsgc3ByaXRlVXJsOiBzdHJpbmc7IHR5cGVzOiBzdHJpbmdbXTsgcmFyaXR5OiBTcGF3blJhcml0eSB9IHwgbnVsbCA9IG51bGw7XHJcbiAgICBcclxuICAgIGlmICh0YXJnZXQgPT09IFwiY29tbW9uXCIpIHtcclxuICAgICAgLy8gVHJ5IHRvIHNwYXduIGNvbW1vbiBQb2tlbW9uIGZpcnN0XHJcbiAgICAgIGNvbnN0IHR5cGVUb1VzZSA9IFBoYXNlci5VdGlscy5BcnJheS5HZXRSYW5kb20odHlwZXMpO1xyXG4gICAgICBjb25zdCBjb21tb25JZHMgPSBnZXRDb21tb25JZHNGb3JUeXBlKHR5cGVUb1VzZSk7XHJcbiAgICAgIGNvbnN0IGlkID0gUGhhc2VyLlV0aWxzLkFycmF5LkdldFJhbmRvbShjb21tb25JZHMpO1xyXG4gICAgICBcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwID0gYXdhaXQgZmV0Y2hQb2tlbW9uKGlkKTtcclxuICAgICAgICBpZiAocC5zcHJpdGVVcmwpIHtcclxuICAgICAgICAgIGNvbnN0IHNwZWNpZXMgPSBhd2FpdCBmZXRjaFNwZWNpZXMoaWQpO1xyXG4gICAgICAgICAgY29uc3QgcmFyaXR5ID0gY2xhc3NpZnlSYXJpdHkoc3BlY2llcywgaWQpO1xyXG4gICAgICAgICAgY2hvc2VuID0geyBpZCwgbmFtZTogcC5uYW1lLCBzcHJpdGVVcmw6IHAuc3ByaXRlVXJsLCB0eXBlczogcC50eXBlcywgcmFyaXR5IH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIHt9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIElmIGNvbW1vbiBmYWlsZWQgb3IgdGFyZ2V0aW5nIG90aGVyIHJhcml0eSwgdXNlIHJhbmRvbSBzZWFyY2hcclxuICAgIGlmICghY2hvc2VuKSB7XHJcbiAgICAgIGZvciAobGV0IHRyaWVzID0gMDsgdHJpZXMgPCAxNTsgdHJpZXMrKykge1xyXG4gICAgICAgIGxldCBpZCA9IFBoYXNlci5NYXRoLkJldHdlZW4oMSwgODk4KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBGb3IgbGVnZW5kYXJ5IHRhcmdldCwgb25seSBjaGVjayBsZWdlbmRhcnkgSURzIGlmIHRyYWluZXIgbGV2ZWwgYWxsb3dzXHJcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gXCJsZWdlbmRhcnlcIiAmJiB0aGlzLnRyYWluZXJMZXZlbCA+PSAyMCkge1xyXG4gICAgICAgICAgaWQgPSBQaGFzZXIuVXRpbHMuQXJyYXkuR2V0UmFuZG9tKFsuLi5MRUdFTkRBUllfSURTLCAuLi5NWVRISUNBTF9JRFNdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgcCA9IGF3YWl0IGZldGNoUG9rZW1vbihpZCk7XHJcbiAgICAgICAgaWYgKCFwLnNwcml0ZVVybCkgY29udGludWU7XHJcbiAgICAgICAgaWYgKCFwLnR5cGVzLnNvbWUodCA9PiB0eXBlcy5pbmNsdWRlcyh0KSkpIGNvbnRpbnVlOyAvLyBub3QgbWF0Y2hpbmcgYmlvbWVcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBzcGVjaWVzID0gYXdhaXQgZmV0Y2hTcGVjaWVzKGlkKTtcclxuICAgICAgICBjb25zdCByID0gY2xhc3NpZnlSYXJpdHkoc3BlY2llcywgaWQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFsbG93IHNvbWUgZmxleGliaWxpdHkgaW4gcmFyaXR5IG1hdGNoaW5nXHJcbiAgICAgICAgaWYgKHIgIT09IHRhcmdldCAmJiBNYXRoLnJhbmRvbSgpID4gMC4zKSBjb250aW51ZTtcclxuICAgICAgICBcclxuICAgICAgICBjaG9zZW4gPSB7IGlkLCBuYW1lOiBwLm5hbWUsIHNwcml0ZVVybDogcC5zcHJpdGVVcmwsIHR5cGVzOiBwLnR5cGVzLCByYXJpdHk6IHIgfTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFjaG9zZW4pIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBhcmVhID0gdGhpcy5waWNrWm9uZUFyZWEocGlja2VkKTtcclxuICAgIGNvbnN0IHggPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKGFyZWEuc3RhcnRYICsgMTIsIGFyZWEuZW5kWCAtIDEyKTtcclxuICAgIGNvbnN0IHkgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKGFyZWEuc3RhcnRZICsgMTIsIGFyZWEuZW5kWSAtIDEyKTtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgUG9rZW1vbiBsZXZlbCBiYXNlZCBvbiB0cmFpbmVyIGxldmVsIGFuZCByYXJpdHlcclxuICAgIGNvbnN0IGJhc2VMZXZlbCA9IE1hdGgubWF4KDEsIHRoaXMudHJhaW5lckxldmVsIC0gMiArIFBoYXNlci5NYXRoLkJldHdlZW4oLTEsIDMpKTtcclxuICAgIGNvbnN0IHJhcml0eUJvbnVzID0gY2hvc2VuLnJhcml0eSA9PT0gXCJsZWdlbmRhcnlcIiA/IDUgOiBjaG9zZW4ucmFyaXR5ID09PSBcImVwaWNcIiA/IDMgOiBjaG9zZW4ucmFyaXR5ID09PSBcInJhcmVcIiA/IDIgOiAwO1xyXG4gICAgY29uc3QgcG9rZW1vbkxldmVsID0gTWF0aC5tYXgoMSwgYmFzZUxldmVsICsgcmFyaXR5Qm9udXMpO1xyXG5cclxuICAgIGNvbnN0IGtleSA9IGBzcGF3bi0ke2Nob3Nlbi5pZH0tJHtEYXRlLm5vdygpfWA7XHJcbiAgICBjb25zdCBzcHJpdGUgPSB0aGlzLnNjZW5lLmFkZC5pbWFnZSh4LCB5LCBgcGttbi0ke2Nob3Nlbi5pZH1gKS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIGlmICghdGhpcy5zY2VuZS50ZXh0dXJlcy5leGlzdHMoYHBrbW4tJHtjaG9zZW4uaWR9YCkpIHtcclxuICAgICAgYXdhaXQgbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcclxuICAgICAgICB0aGlzLnNjZW5lLmxvYWQub25jZShQaGFzZXIuTG9hZGVyLkV2ZW50cy5DT01QTEVURSwgKCkgPT4gcmVzb2x2ZSgpKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmxvYWQuaW1hZ2UoYHBrbW4tJHtjaG9zZW4uaWR9YCwgY2hvc2VuIS5zcHJpdGVVcmwpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUubG9hZC5zdGFydCgpO1xyXG4gICAgICB9KTtcclxuICAgICAgc3ByaXRlLnNldFRleHR1cmUoYHBrbW4tJHtjaG9zZW4uaWR9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3ByaXRlLnNldERlcHRoKDIwKS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICBzcHJpdGUuc2V0U2NhbGUoMC4xKS5zZXRBbHBoYSgwKTtcclxuICAgIHNwcml0ZS5vbihcInBvaW50ZXJkb3duXCIsICgpID0+IHRoaXMuZW1pdChcInNwYXduQ2xpY2tlZFwiLCBrZXkpKTtcclxuXHJcbiAgICAvLyBlbWVyZ2UgYW5pbWF0aW9uIC0gdmFyeSBieSByYXJpdHlcclxuICAgIHNwcml0ZS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgY29uc3Qgc2NhbGVGYWN0b3IgPSBjaG9zZW4ucmFyaXR5ID09PSBcImxlZ2VuZGFyeVwiID8gMS41IDogY2hvc2VuLnJhcml0eSA9PT0gXCJlcGljXCIgPyAxLjMgOiAxLjI7XHJcbiAgICB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoeyBcclxuICAgICAgdGFyZ2V0czogc3ByaXRlLCBcclxuICAgICAgYWxwaGE6IDEsIFxyXG4gICAgICBzY2FsZTogc2NhbGVGYWN0b3IsIFxyXG4gICAgICBkdXJhdGlvbjogMzAwLCBcclxuICAgICAgeW95bzogdHJ1ZSwgXHJcbiAgICAgIGVhc2U6IFwic2luZS5vdXRcIiwgXHJcbiAgICAgIG9uQ29tcGxldGU6ICgpID0+IHNwcml0ZS5zZXRTY2FsZShjaG9zZW4ucmFyaXR5ID09PSBcImxlZ2VuZGFyeVwiID8gMS4yIDogMSkgXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCByZWM6IFNwYXduUmVjb3JkID0ge1xyXG4gICAgICBrZXksXHJcbiAgICAgIG5hbWU6IGNob3Nlbi5uYW1lLFxyXG4gICAgICBwb2tlSWQ6IGNob3Nlbi5pZCxcclxuICAgICAgdHlwZXM6IGNob3Nlbi50eXBlcyxcclxuICAgICAgc3ByaXRlVXJsOiBjaG9zZW4uc3ByaXRlVXJsLFxyXG4gICAgICBwb3NpdGlvbjogeyB4LCB5IH0sXHJcbiAgICAgIHpvbmU6IHBpY2tlZCxcclxuICAgICAgc3ByaXRlLFxyXG4gICAgICBsZXZlbDogcG9rZW1vbkxldmVsLFxyXG4gICAgICByYXJpdHk6IGNob3Nlbi5yYXJpdHksXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGRlc3Bhd24gYWZ0ZXIgdGltZSBiYXNlZCBvbiByYXJpdHkgKGxlZ2VuZGFyeSBsYXN0cyBsb25nZXIpXHJcbiAgICBjb25zdCBkZXNwYXduVGltZSA9IGNob3Nlbi5yYXJpdHkgPT09IFwibGVnZW5kYXJ5XCIgPyA5MDAwMCA6IGNob3Nlbi5yYXJpdHkgPT09IFwiZXBpY1wiID8gNzUwMDAgOiA2MDAwMDtcclxuICAgIHJlYy50aW1lb3V0ID0gdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKGRlc3Bhd25UaW1lLCAoKSA9PiB0aGlzLmRlc3Bhd24oa2V5KSk7XHJcblxyXG4gICAgdGhpcy5hY3RpdmUuc2V0KGtleSwgcmVjKTtcclxuICAgIHRoaXMuZW1pdChcInNwYXduZWRcIiwgcmVjKTtcclxuICB9XHJcblxyXG4gIGRlc3Bhd24oa2V5OiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHJlYyA9IHRoaXMuYWN0aXZlLmdldChrZXkpO1xyXG4gICAgaWYgKCFyZWMpIHJldHVybjtcclxuICAgIGlmIChyZWMudGltZW91dCkgcmVjLnRpbWVvdXQucmVtb3ZlKGZhbHNlKTtcclxuICAgIGlmIChyZWMuc3ByaXRlKSB7XHJcbiAgICAgIHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7IHRhcmdldHM6IHJlYy5zcHJpdGUsIGFscGhhOiAwLCBkdXJhdGlvbjogNDAwLCBvbkNvbXBsZXRlOiAoKSA9PiByZWMuc3ByaXRlPy5kZXN0cm95KCkgfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmVtaXQoXCJkZXNwYXduZWRcIiwga2V5KTtcclxuICAgIHRoaXMuYWN0aXZlLmRlbGV0ZShrZXkpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiUGhhc2VyIiwiQklPTUVfVFlQRV9QT09MUyIsIlpPTkVfVElMRVMiLCJnZW5lcmF0ZVpvbmVzIiwiZ2V0QWRqYWNlbnRab25lQ29vcmRzIiwiZ2V0Wm9uZUZvclRpbGUiLCJNQVhfQUNUSVZFIiwiUkFSSVRZX1dFSUdIVFMiLCJjb21tb24iLCJ1bmNvbW1vbiIsInJhcmUiLCJlcGljIiwibGVnZW5kYXJ5IiwiTEVHRU5EQVJZX0lEUyIsIk1ZVEhJQ0FMX0lEUyIsIkNPTU1PTl9QT0tFTU9OX0JZX1RZUEUiLCJub3JtYWwiLCJncmFzcyIsImJ1ZyIsImZseWluZyIsIndhdGVyIiwiZmlyZSIsImVsZWN0cmljIiwicm9jayIsImdyb3VuZCIsInBvaXNvbiIsImZpZ2h0aW5nIiwicHN5Y2hpYyIsImljZSIsImdob3N0IiwiZHJhZ29uIiwiZGFyayIsInN0ZWVsIiwiZmFpcnkiLCJnZXRDb21tb25JZHNGb3JUeXBlIiwidHlwZSIsInBpY2tSYXJpdHkiLCJ0cmFpbmVyTGV2ZWwiLCJyIiwiTWF0aCIsInJhbmRvbSIsImN1bXVsYXRpdmUiLCJjYW5TcGF3bkxlZ2VuZGFyeSIsIndlaWdodHMiLCJyZWRpc3RyaWJ1dGlvbiIsImxldmVsQm9udXMiLCJtaW4iLCJyYXJpdHkiLCJ3ZWlnaHQiLCJPYmplY3QiLCJlbnRyaWVzIiwiZmV0Y2hQb2tlbW9uIiwicG9rZUlkIiwicmVzIiwiZmV0Y2giLCJkYXRhIiwianNvbiIsInR5cGVzIiwibWFwIiwidCIsIm5hbWUiLCJzcHJpdGVVcmwiLCJzcHJpdGVzIiwiZnJvbnRfZGVmYXVsdCIsIm90aGVyIiwiZmV0Y2hTcGVjaWVzIiwiY2xhc3NpZnlSYXJpdHkiLCJzcGVjaWVzIiwiaW5jbHVkZXMiLCJpc19sZWdlbmRhcnkiLCJpc19teXRoaWNhbCIsInJhdGUiLCJjYXB0dXJlX3JhdGUiLCJTcGF3bk1hbmFnZXIiLCJFdmVudHMiLCJFdmVudEVtaXR0ZXIiLCJzY2VuZSIsInRpbGVTaXplIiwibWFwV2lkdGhUaWxlcyIsIm1hcEhlaWdodFRpbGVzIiwiem9uZXMiLCJ6b25lQ29scyIsInpvbmVSb3dzIiwiYWN0aXZlIiwiTWFwIiwiY3VycmVudFpvbmUiLCJjb2wiLCJyb3ciLCJpZCIsIm92ZXJyaWRlVHlwZXMiLCJtYXgiLCJmbG9vciIsImdldEFjdGl2ZVNwYXducyIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsImdldFpvbmVHcmlkIiwiY29scyIsInJvd3MiLCJnZXRDdXJyZW50Wm9uZSIsInNldE92ZXJyaWRlVHlwZXMiLCJ0b3BVcFNwYXducyIsInNldFRyYWluZXJMZXZlbCIsImxldmVsIiwidXBkYXRlUGxheWVyUG9zIiwieCIsInkiLCJ0eCIsInR5IiwieiIsImVtaXQiLCJzdGFydCIsInNwYXduVGltZXIiLCJyZW1vdmUiLCJzY2hlZHVsZU5leHQiLCJkZWxheSIsIkJldHdlZW4iLCJ0aW1lIiwiYWRkRXZlbnQiLCJsb29wIiwiY2FsbGJhY2siLCJzdG9wIiwiZm9yRWFjaCIsImRlc3Bhd24iLCJrZXkiLCJjbGVhciIsImltbWVkaWF0ZSIsInNpemUiLCJuZWVkIiwiaSIsInNwYXduT25lIiwiZ2V0Q2FuZGlkYXRlWm9uZXMiLCJhcm91bmQiLCJwaWNrWm9uZUFyZWEiLCJ6b25lIiwic3RhcnRYIiwic3RhcnRZIiwiZW5kWCIsImVuZFkiLCJwaWNrZWQiLCJVdGlscyIsIkdldFJhbmRvbSIsInpvbmVNZXRhIiwiZmluZCIsImJpb21lIiwidGFyZ2V0IiwiY2hvc2VuIiwidHlwZVRvVXNlIiwiY29tbW9uSWRzIiwicCIsInRyaWVzIiwic29tZSIsImFyZWEiLCJiYXNlTGV2ZWwiLCJyYXJpdHlCb251cyIsInBva2Vtb25MZXZlbCIsIkRhdGUiLCJub3ciLCJzcHJpdGUiLCJhZGQiLCJpbWFnZSIsInNldFZpc2libGUiLCJ0ZXh0dXJlcyIsImV4aXN0cyIsIlByb21pc2UiLCJyZXNvbHZlIiwibG9hZCIsIm9uY2UiLCJMb2FkZXIiLCJDT01QTEVURSIsInNldFRleHR1cmUiLCJzZXREZXB0aCIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsInNldFNjYWxlIiwic2V0QWxwaGEiLCJvbiIsInNjYWxlRmFjdG9yIiwidHdlZW5zIiwidGFyZ2V0cyIsImFscGhhIiwic2NhbGUiLCJkdXJhdGlvbiIsInlveW8iLCJlYXNlIiwib25Db21wbGV0ZSIsInJlYyIsInBvc2l0aW9uIiwiZGVzcGF3blRpbWUiLCJ0aW1lb3V0IiwiZGVsYXllZENhbGwiLCJzZXQiLCJnZXQiLCJkZXN0cm95IiwiZGVsZXRlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./lib/spawnUtils.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./lib/typeEffectiveness.ts":
/*!**********************************!*\
  !*** ./lib/typeEffectiveness.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MOVES: () => (/* binding */ MOVES),\n/* harmony export */   TYPE_EFFECTIVENESS: () => (/* binding */ TYPE_EFFECTIVENESS),\n/* harmony export */   calculateDamage: () => (/* binding */ calculateDamage),\n/* harmony export */   getEffectivenessText: () => (/* binding */ getEffectivenessText),\n/* harmony export */   getMoveData: () => (/* binding */ getMoveData),\n/* harmony export */   getTypeEffectiveness: () => (/* binding */ getTypeEffectiveness)\n/* harmony export */ });\n/**\r\n * Pokemon Type Effectiveness Chart and Damage Calculation\r\n * Based on canonical Pokemon mechanics\r\n */ const TYPE_EFFECTIVENESS = {\n    normal: {\n        rock: 0.5,\n        ghost: 0.0,\n        steel: 0.5\n    },\n    fire: {\n        fire: 0.5,\n        water: 0.5,\n        grass: 2.0,\n        ice: 2.0,\n        bug: 2.0,\n        rock: 0.5,\n        dragon: 0.5,\n        steel: 2.0\n    },\n    water: {\n        fire: 2.0,\n        water: 0.5,\n        grass: 0.5,\n        ground: 2.0,\n        rock: 2.0,\n        dragon: 0.5\n    },\n    electric: {\n        water: 2.0,\n        electric: 0.5,\n        grass: 0.5,\n        ground: 0.0,\n        flying: 2.0,\n        dragon: 0.5\n    },\n    grass: {\n        fire: 0.5,\n        water: 2.0,\n        grass: 0.5,\n        poison: 0.5,\n        ground: 2.0,\n        flying: 0.5,\n        bug: 0.5,\n        rock: 2.0,\n        dragon: 0.5,\n        steel: 0.5\n    },\n    ice: {\n        fire: 0.5,\n        water: 0.5,\n        grass: 2.0,\n        ice: 0.5,\n        ground: 2.0,\n        flying: 2.0,\n        dragon: 2.0,\n        steel: 0.5\n    },\n    fighting: {\n        normal: 2.0,\n        ice: 2.0,\n        poison: 0.5,\n        flying: 0.5,\n        psychic: 0.5,\n        bug: 0.5,\n        rock: 2.0,\n        ghost: 0.0,\n        dark: 2.0,\n        steel: 2.0,\n        fairy: 0.5\n    },\n    poison: {\n        grass: 2.0,\n        poison: 0.5,\n        ground: 0.5,\n        rock: 0.5,\n        ghost: 0.5,\n        steel: 0.0,\n        fairy: 2.0\n    },\n    ground: {\n        fire: 2.0,\n        electric: 2.0,\n        grass: 0.5,\n        poison: 2.0,\n        flying: 0.0,\n        bug: 0.5,\n        rock: 2.0,\n        steel: 2.0\n    },\n    flying: {\n        electric: 0.5,\n        grass: 2.0,\n        fighting: 2.0,\n        bug: 2.0,\n        rock: 0.5,\n        steel: 0.5\n    },\n    psychic: {\n        fighting: 2.0,\n        poison: 2.0,\n        psychic: 0.5,\n        dark: 0.0,\n        steel: 0.5\n    },\n    bug: {\n        fire: 0.5,\n        grass: 2.0,\n        fighting: 0.5,\n        poison: 0.5,\n        flying: 0.5,\n        psychic: 2.0,\n        ghost: 0.5,\n        dark: 2.0,\n        steel: 0.5,\n        fairy: 0.5\n    },\n    rock: {\n        fire: 2.0,\n        ice: 2.0,\n        fighting: 0.5,\n        ground: 0.5,\n        flying: 2.0,\n        bug: 2.0,\n        steel: 0.5\n    },\n    ghost: {\n        normal: 0.0,\n        psychic: 2.0,\n        ghost: 2.0,\n        dark: 0.5\n    },\n    dragon: {\n        dragon: 2.0,\n        steel: 0.5,\n        fairy: 0.0\n    },\n    dark: {\n        fighting: 0.5,\n        psychic: 2.0,\n        ghost: 2.0,\n        dark: 0.5,\n        fairy: 0.5\n    },\n    steel: {\n        fire: 0.5,\n        water: 0.5,\n        electric: 0.5,\n        ice: 2.0,\n        rock: 2.0,\n        steel: 0.5,\n        fairy: 2.0\n    },\n    fairy: {\n        fire: 0.5,\n        fighting: 2.0,\n        poison: 0.5,\n        dragon: 2.0,\n        dark: 2.0,\n        steel: 0.5\n    }\n};\n/**\r\n * Get type effectiveness multiplier for attack type against defender types\r\n */ function getTypeEffectiveness(attackType, defenderTypes) {\n    let multiplier = 1.0;\n    for (const defType of defenderTypes){\n        const effectiveness = TYPE_EFFECTIVENESS[attackType]?.[defType];\n        if (effectiveness !== undefined) {\n            multiplier *= effectiveness;\n        }\n    }\n    return multiplier;\n}\n/**\r\n * Get effectiveness description for UI\r\n */ function getEffectivenessText(multiplier) {\n    if (multiplier === 0) return \"No effect!\";\n    if (multiplier >= 4) return \"It's super duper effective!\";\n    if (multiplier >= 2) return \"It's super effective!\";\n    if (multiplier <= 0.25) return \"It's barely effective...\";\n    if (multiplier <= 0.5) return \"It's not very effective...\";\n    return null;\n}\n/**\r\n * Calculate damage using simplified formula from spec:\r\n * damage = (attack * movePower / defense) * typeMultiplier * randomFactor\r\n * \r\n * @param level - Attacking Pokemon's level (not used in simplified formula)\r\n * @param power - Move's power\r\n * @param attack - Attacking Pokemon's attack stat\r\n * @param defense - Defending Pokemon's defense stat\r\n * @param attackType - Type of the move\r\n * @param defenderTypes - Defending Pokemon's types\r\n * @returns Object with damage, type effectiveness multiplier, and effectiveness text\r\n */ function calculateDamage(level, power, attack, defense, attackType, defenderTypes, attackerTypes = []) {\n    // Standard simplified Pokemon damage formula:\n    // base = (((2 * L / 5 + 2) * Power * Atk / Def) / 50) + 2\n    const levelFactor = Math.floor(2 * level / 5) + 2;\n    const base = levelFactor * power * Math.max(1, attack) / Math.max(1, defense) / 50 + 2;\n    // Type effectiveness\n    const typeMultiplier = getTypeEffectiveness(attackType, defenderTypes);\n    // STAB (Same-Type Attack Bonus)\n    const stab = attackerTypes.includes(attackType) ? 1.5 : 1.0;\n    // Random factor (0.85 to 1.00)\n    const randomFactor = 0.85 + Math.random() * 0.15;\n    // Final damage\n    const finalDamage = Math.floor(base * typeMultiplier * stab * randomFactor);\n    return {\n        damage: Math.max(1, finalDamage),\n        effectiveness: typeMultiplier,\n        effectivenessText: getEffectivenessText(typeMultiplier)\n    };\n}\nconst MOVES = {\n    // Normal moves\n    \"tackle\": {\n        name: \"Tackle\",\n        type: \"normal\",\n        power: 40,\n        category: \"physical\"\n    },\n    \"scratch\": {\n        name: \"Scratch\",\n        type: \"normal\",\n        power: 40,\n        category: \"physical\"\n    },\n    \"quick-attack\": {\n        name: \"Quick Attack\",\n        type: \"normal\",\n        power: 40,\n        category: \"physical\"\n    },\n    // Fire moves\n    \"ember\": {\n        name: \"Ember\",\n        type: \"fire\",\n        power: 40,\n        category: \"special\"\n    },\n    \"flamethrower\": {\n        name: \"Flamethrower\",\n        type: \"fire\",\n        power: 90,\n        category: \"special\"\n    },\n    // Water moves\n    \"water-gun\": {\n        name: \"Water Gun\",\n        type: \"water\",\n        power: 40,\n        category: \"special\"\n    },\n    \"bubble\": {\n        name: \"Bubble\",\n        type: \"water\",\n        power: 40,\n        category: \"special\"\n    },\n    // Grass moves\n    \"vine-whip\": {\n        name: \"Vine Whip\",\n        type: \"grass\",\n        power: 45,\n        category: \"physical\"\n    },\n    \"razor-leaf\": {\n        name: \"Razor Leaf\",\n        type: \"grass\",\n        power: 55,\n        category: \"physical\"\n    },\n    // Electric moves\n    \"thunder-shock\": {\n        name: \"Thunder Shock\",\n        type: \"electric\",\n        power: 40,\n        category: \"special\"\n    },\n    \"thunderbolt\": {\n        name: \"Thunderbolt\",\n        type: \"electric\",\n        power: 90,\n        category: \"special\"\n    },\n    // Other moves\n    \"powder-snow\": {\n        name: \"Powder Snow\",\n        type: \"ice\",\n        power: 40,\n        category: \"special\"\n    },\n    \"karate-chop\": {\n        name: \"Karate Chop\",\n        type: \"fighting\",\n        power: 50,\n        category: \"physical\"\n    },\n    \"poison-sting\": {\n        name: \"Poison Sting\",\n        type: \"poison\",\n        power: 15,\n        category: \"physical\"\n    },\n    \"mud-slap\": {\n        name: \"Mud Slap\",\n        type: \"ground\",\n        power: 20,\n        category: \"special\"\n    },\n    \"gust\": {\n        name: \"Gust\",\n        type: \"flying\",\n        power: 40,\n        category: \"special\"\n    },\n    \"confusion\": {\n        name: \"Confusion\",\n        type: \"psychic\",\n        power: 50,\n        category: \"special\"\n    },\n    \"bug-bite\": {\n        name: \"Bug Bite\",\n        type: \"bug\",\n        power: 60,\n        category: \"physical\"\n    },\n    \"rock-throw\": {\n        name: \"Rock Throw\",\n        type: \"rock\",\n        power: 50,\n        category: \"physical\"\n    },\n    \"lick\": {\n        name: \"Lick\",\n        type: \"ghost\",\n        power: 30,\n        category: \"physical\"\n    },\n    \"dragon-breath\": {\n        name: \"Dragon Breath\",\n        type: \"dragon\",\n        power: 60,\n        category: \"special\"\n    },\n    \"bite\": {\n        name: \"Bite\",\n        type: \"dark\",\n        power: 60,\n        category: \"physical\"\n    },\n    \"metal-claw\": {\n        name: \"Metal Claw\",\n        type: \"steel\",\n        power: 50,\n        category: \"physical\"\n    },\n    \"fairy-wind\": {\n        name: \"Fairy Wind\",\n        type: \"fairy\",\n        power: 40,\n        category: \"special\"\n    }\n};\n/**\r\n * Get move data, with fallback to default tackle\r\n */ function getMoveData(moveName) {\n    const normalizedName = moveName.toLowerCase().replace(/\\s+/g, \"-\");\n    return MOVES[normalizedName] || MOVES[\"tackle\"];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2xpYi90eXBlRWZmZWN0aXZlbmVzcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7O0NBR0MsR0FnQk0sTUFBTUEscUJBQWdDO0lBQzNDQyxRQUFRO1FBQ05DLE1BQU07UUFDTkMsT0FBTztRQUNQQyxPQUFPO0lBQ1Q7SUFDQUMsTUFBTTtRQUNKQSxNQUFNO1FBQ05DLE9BQU87UUFDUEMsT0FBTztRQUNQQyxLQUFLO1FBQ0xDLEtBQUs7UUFDTFAsTUFBTTtRQUNOUSxRQUFRO1FBQ1JOLE9BQU87SUFDVDtJQUNBRSxPQUFPO1FBQ0xELE1BQU07UUFDTkMsT0FBTztRQUNQQyxPQUFPO1FBQ1BJLFFBQVE7UUFDUlQsTUFBTTtRQUNOUSxRQUFRO0lBQ1Y7SUFDQUUsVUFBVTtRQUNSTixPQUFPO1FBQ1BNLFVBQVU7UUFDVkwsT0FBTztRQUNQSSxRQUFRO1FBQ1JFLFFBQVE7UUFDUkgsUUFBUTtJQUNWO0lBQ0FILE9BQU87UUFDTEYsTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLE9BQU87UUFDUE8sUUFBUTtRQUNSSCxRQUFRO1FBQ1JFLFFBQVE7UUFDUkosS0FBSztRQUNMUCxNQUFNO1FBQ05RLFFBQVE7UUFDUk4sT0FBTztJQUNUO0lBQ0FJLEtBQUs7UUFDSEgsTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLE9BQU87UUFDUEMsS0FBSztRQUNMRyxRQUFRO1FBQ1JFLFFBQVE7UUFDUkgsUUFBUTtRQUNSTixPQUFPO0lBQ1Q7SUFDQVcsVUFBVTtRQUNSZCxRQUFRO1FBQ1JPLEtBQUs7UUFDTE0sUUFBUTtRQUNSRCxRQUFRO1FBQ1JHLFNBQVM7UUFDVFAsS0FBSztRQUNMUCxNQUFNO1FBQ05DLE9BQU87UUFDUGMsTUFBTTtRQUNOYixPQUFPO1FBQ1BjLE9BQU87SUFDVDtJQUNBSixRQUFRO1FBQ05QLE9BQU87UUFDUE8sUUFBUTtRQUNSSCxRQUFRO1FBQ1JULE1BQU07UUFDTkMsT0FBTztRQUNQQyxPQUFPO1FBQ1BjLE9BQU87SUFDVDtJQUNB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c1xcU2FoaXRoXFxPbmVEcml2ZVxcRGVza3RvcFxceW9rYWlodW50XFxmcm9udGVuZFxcbGliXFx0eXBlRWZmZWN0aXZlbmVzcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogUG9rZW1vbiBUeXBlIEVmZmVjdGl2ZW5lc3MgQ2hhcnQgYW5kIERhbWFnZSBDYWxjdWxhdGlvblxyXG4gKiBCYXNlZCBvbiBjYW5vbmljYWwgUG9rZW1vbiBtZWNoYW5pY3NcclxuICovXHJcblxyXG5leHBvcnQgdHlwZSBQb2tlbW9uVHlwZSA9IFxyXG4gIHwgXCJub3JtYWxcIiB8IFwiZmlyZVwiIHwgXCJ3YXRlclwiIHwgXCJlbGVjdHJpY1wiIHwgXCJncmFzc1wiIHwgXCJpY2VcIlxyXG4gIHwgXCJmaWdodGluZ1wiIHwgXCJwb2lzb25cIiB8IFwiZ3JvdW5kXCIgfCBcImZseWluZ1wiIHwgXCJwc3ljaGljXCIgfCBcImJ1Z1wiXHJcbiAgfCBcInJvY2tcIiB8IFwiZ2hvc3RcIiB8IFwiZHJhZ29uXCIgfCBcImRhcmtcIiB8IFwic3RlZWxcIiB8IFwiZmFpcnlcIjtcclxuXHJcbi8qKlxyXG4gKiBUeXBlIGVmZmVjdGl2ZW5lc3MgbXVsdGlwbGllcnNcclxuICogMi4wID0gU3VwZXIgZWZmZWN0aXZlXHJcbiAqIDAuNSA9IE5vdCB2ZXJ5IGVmZmVjdGl2ZVxyXG4gKiAwLjAgPSBJbW11bmVcclxuICogMS4wID0gTm9ybWFsIChub3QgbGlzdGVkKVxyXG4gKi9cclxudHlwZSBUeXBlQ2hhcnQgPSBSZWNvcmQ8UG9rZW1vblR5cGUsIFBhcnRpYWw8UmVjb3JkPFBva2Vtb25UeXBlLCBudW1iZXI+Pj47XHJcblxyXG5leHBvcnQgY29uc3QgVFlQRV9FRkZFQ1RJVkVORVNTOiBUeXBlQ2hhcnQgPSB7XHJcbiAgbm9ybWFsOiB7XHJcbiAgICByb2NrOiAwLjUsXHJcbiAgICBnaG9zdDogMC4wLFxyXG4gICAgc3RlZWw6IDAuNSxcclxuICB9LFxyXG4gIGZpcmU6IHtcclxuICAgIGZpcmU6IDAuNSxcclxuICAgIHdhdGVyOiAwLjUsXHJcbiAgICBncmFzczogMi4wLFxyXG4gICAgaWNlOiAyLjAsXHJcbiAgICBidWc6IDIuMCxcclxuICAgIHJvY2s6IDAuNSxcclxuICAgIGRyYWdvbjogMC41LFxyXG4gICAgc3RlZWw6IDIuMCxcclxuICB9LFxyXG4gIHdhdGVyOiB7XHJcbiAgICBmaXJlOiAyLjAsXHJcbiAgICB3YXRlcjogMC41LFxyXG4gICAgZ3Jhc3M6IDAuNSxcclxuICAgIGdyb3VuZDogMi4wLFxyXG4gICAgcm9jazogMi4wLFxyXG4gICAgZHJhZ29uOiAwLjUsXHJcbiAgfSxcclxuICBlbGVjdHJpYzoge1xyXG4gICAgd2F0ZXI6IDIuMCxcclxuICAgIGVsZWN0cmljOiAwLjUsXHJcbiAgICBncmFzczogMC41LFxyXG4gICAgZ3JvdW5kOiAwLjAsXHJcbiAgICBmbHlpbmc6IDIuMCxcclxuICAgIGRyYWdvbjogMC41LFxyXG4gIH0sXHJcbiAgZ3Jhc3M6IHtcclxuICAgIGZpcmU6IDAuNSxcclxuICAgIHdhdGVyOiAyLjAsXHJcbiAgICBncmFzczogMC41LFxyXG4gICAgcG9pc29uOiAwLjUsXHJcbiAgICBncm91bmQ6IDIuMCxcclxuICAgIGZseWluZzogMC41LFxyXG4gICAgYnVnOiAwLjUsXHJcbiAgICByb2NrOiAyLjAsXHJcbiAgICBkcmFnb246IDAuNSxcclxuICAgIHN0ZWVsOiAwLjUsXHJcbiAgfSxcclxuICBpY2U6IHtcclxuICAgIGZpcmU6IDAuNSxcclxuICAgIHdhdGVyOiAwLjUsXHJcbiAgICBncmFzczogMi4wLFxyXG4gICAgaWNlOiAwLjUsXHJcbiAgICBncm91bmQ6IDIuMCxcclxuICAgIGZseWluZzogMi4wLFxyXG4gICAgZHJhZ29uOiAyLjAsXHJcbiAgICBzdGVlbDogMC41LFxyXG4gIH0sXHJcbiAgZmlnaHRpbmc6IHtcclxuICAgIG5vcm1hbDogMi4wLFxyXG4gICAgaWNlOiAyLjAsXHJcbiAgICBwb2lzb246IDAuNSxcclxuICAgIGZseWluZzogMC41LFxyXG4gICAgcHN5Y2hpYzogMC41LFxyXG4gICAgYnVnOiAwLjUsXHJcbiAgICByb2NrOiAyLjAsXHJcbiAgICBnaG9zdDogMC4wLFxyXG4gICAgZGFyazogMi4wLFxyXG4gICAgc3RlZWw6IDIuMCxcclxuICAgIGZhaXJ5OiAwLjUsXHJcbiAgfSxcclxuICBwb2lzb246IHtcclxuICAgIGdyYXNzOiAyLjAsXHJcbiAgICBwb2lzb246IDAuNSxcclxuICAgIGdyb3VuZDogMC41LFxyXG4gICAgcm9jazogMC41LFxyXG4gICAgZ2hvc3Q6IDAuNSxcclxuICAgIHN0ZWVsOiAwLjAsXHJcbiAgICBmYWlyeTogMi4wLFxyXG4gIH0sXHJcbiAgZ3JvdW5kOiB7XHJcbiAgICBmaXJlOiAyLjAsXHJcbiAgICBlbGVjdHJpYzogMi4wLFxyXG4gICAgZ3Jhc3M6IDAuNSxcclxuICAgIHBvaXNvbjogMi4wLFxyXG4gICAgZmx5aW5nOiAwLjAsXHJcbiAgICBidWc6IDAuNSxcclxuICAgIHJvY2s6IDIuMCxcclxuICAgIHN0ZWVsOiAyLjAsXHJcbiAgfSxcclxuICBmbHlpbmc6IHtcclxuICAgIGVsZWN0cmljOiAwLjUsXHJcbiAgICBncmFzczogMi4wLFxyXG4gICAgZmlnaHRpbmc6IDIuMCxcclxuICAgIGJ1ZzogMi4wLFxyXG4gICAgcm9jazogMC41LFxyXG4gICAgc3RlZWw6IDAuNSxcclxuICB9LFxyXG4gIHBzeWNoaWM6IHtcclxuICAgIGZpZ2h0aW5nOiAyLjAsXHJcbiAgICBwb2lzb246IDIuMCxcclxuICAgIHBzeWNoaWM6IDAuNSxcclxuICAgIGRhcms6IDAuMCxcclxuICAgIHN0ZWVsOiAwLjUsXHJcbiAgfSxcclxuICBidWc6IHtcclxuICAgIGZpcmU6IDAuNSxcclxuICAgIGdyYXNzOiAyLjAsXHJcbiAgICBmaWdodGluZzogMC41LFxyXG4gICAgcG9pc29uOiAwLjUsXHJcbiAgICBmbHlpbmc6IDAuNSxcclxuICAgIHBzeWNoaWM6IDIuMCxcclxuICAgIGdob3N0OiAwLjUsXHJcbiAgICBkYXJrOiAyLjAsXHJcbiAgICBzdGVlbDogMC41LFxyXG4gICAgZmFpcnk6IDAuNSxcclxuICB9LFxyXG4gIHJvY2s6IHtcclxuICAgIGZpcmU6IDIuMCxcclxuICAgIGljZTogMi4wLFxyXG4gICAgZmlnaHRpbmc6IDAuNSxcclxuICAgIGdyb3VuZDogMC41LFxyXG4gICAgZmx5aW5nOiAyLjAsXHJcbiAgICBidWc6IDIuMCxcclxuICAgIHN0ZWVsOiAwLjUsXHJcbiAgfSxcclxuICBnaG9zdDoge1xyXG4gICAgbm9ybWFsOiAwLjAsXHJcbiAgICBwc3ljaGljOiAyLjAsXHJcbiAgICBnaG9zdDogMi4wLFxyXG4gICAgZGFyazogMC41LFxyXG4gIH0sXHJcbiAgZHJhZ29uOiB7XHJcbiAgICBkcmFnb246IDIuMCxcclxuICAgIHN0ZWVsOiAwLjUsXHJcbiAgICBmYWlyeTogMC4wLFxyXG4gIH0sXHJcbiAgZGFyazoge1xyXG4gICAgZmlnaHRpbmc6IDAuNSxcclxuICAgIHBzeWNoaWM6IDIuMCxcclxuICAgIGdob3N0OiAyLjAsXHJcbiAgICBkYXJrOiAwLjUsXHJcbiAgICBmYWlyeTogMC41LFxyXG4gIH0sXHJcbiAgc3RlZWw6IHtcclxuICAgIGZpcmU6IDAuNSxcclxuICAgIHdhdGVyOiAwLjUsXHJcbiAgICBlbGVjdHJpYzogMC41LFxyXG4gICAgaWNlOiAyLjAsXHJcbiAgICByb2NrOiAyLjAsXHJcbiAgICBzdGVlbDogMC41LFxyXG4gICAgZmFpcnk6IDIuMCxcclxuICB9LFxyXG4gIGZhaXJ5OiB7XHJcbiAgICBmaXJlOiAwLjUsXHJcbiAgICBmaWdodGluZzogMi4wLFxyXG4gICAgcG9pc29uOiAwLjUsXHJcbiAgICBkcmFnb246IDIuMCxcclxuICAgIGRhcms6IDIuMCxcclxuICAgIHN0ZWVsOiAwLjUsXHJcbiAgfSxcclxufTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgdHlwZSBlZmZlY3RpdmVuZXNzIG11bHRpcGxpZXIgZm9yIGF0dGFjayB0eXBlIGFnYWluc3QgZGVmZW5kZXIgdHlwZXNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUeXBlRWZmZWN0aXZlbmVzcyhhdHRhY2tUeXBlOiBQb2tlbW9uVHlwZSwgZGVmZW5kZXJUeXBlczogUG9rZW1vblR5cGVbXSk6IG51bWJlciB7XHJcbiAgbGV0IG11bHRpcGxpZXIgPSAxLjA7XHJcbiAgXHJcbiAgZm9yIChjb25zdCBkZWZUeXBlIG9mIGRlZmVuZGVyVHlwZXMpIHtcclxuICAgIGNvbnN0IGVmZmVjdGl2ZW5lc3MgPSBUWVBFX0VGRkVDVElWRU5FU1NbYXR0YWNrVHlwZV0/LltkZWZUeXBlXTtcclxuICAgIGlmIChlZmZlY3RpdmVuZXNzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgbXVsdGlwbGllciAqPSBlZmZlY3RpdmVuZXNzO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICByZXR1cm4gbXVsdGlwbGllcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBlZmZlY3RpdmVuZXNzIGRlc2NyaXB0aW9uIGZvciBVSVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVmZmVjdGl2ZW5lc3NUZXh0KG11bHRpcGxpZXI6IG51bWJlcik6IHN0cmluZyB8IG51bGwge1xyXG4gIGlmIChtdWx0aXBsaWVyID09PSAwKSByZXR1cm4gXCJObyBlZmZlY3QhXCI7XHJcbiAgaWYgKG11bHRpcGxpZXIgPj0gNCkgcmV0dXJuIFwiSXQncyBzdXBlciBkdXBlciBlZmZlY3RpdmUhXCI7XHJcbiAgaWYgKG11bHRpcGxpZXIgPj0gMikgcmV0dXJuIFwiSXQncyBzdXBlciBlZmZlY3RpdmUhXCI7XHJcbiAgaWYgKG11bHRpcGxpZXIgPD0gMC4yNSkgcmV0dXJuIFwiSXQncyBiYXJlbHkgZWZmZWN0aXZlLi4uXCI7XHJcbiAgaWYgKG11bHRpcGxpZXIgPD0gMC41KSByZXR1cm4gXCJJdCdzIG5vdCB2ZXJ5IGVmZmVjdGl2ZS4uLlwiO1xyXG4gIHJldHVybiBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlIGRhbWFnZSB1c2luZyBzaW1wbGlmaWVkIGZvcm11bGEgZnJvbSBzcGVjOlxyXG4gKiBkYW1hZ2UgPSAoYXR0YWNrICogbW92ZVBvd2VyIC8gZGVmZW5zZSkgKiB0eXBlTXVsdGlwbGllciAqIHJhbmRvbUZhY3RvclxyXG4gKiBcclxuICogQHBhcmFtIGxldmVsIC0gQXR0YWNraW5nIFBva2Vtb24ncyBsZXZlbCAobm90IHVzZWQgaW4gc2ltcGxpZmllZCBmb3JtdWxhKVxyXG4gKiBAcGFyYW0gcG93ZXIgLSBNb3ZlJ3MgcG93ZXJcclxuICogQHBhcmFtIGF0dGFjayAtIEF0dGFja2luZyBQb2tlbW9uJ3MgYXR0YWNrIHN0YXRcclxuICogQHBhcmFtIGRlZmVuc2UgLSBEZWZlbmRpbmcgUG9rZW1vbidzIGRlZmVuc2Ugc3RhdFxyXG4gKiBAcGFyYW0gYXR0YWNrVHlwZSAtIFR5cGUgb2YgdGhlIG1vdmVcclxuICogQHBhcmFtIGRlZmVuZGVyVHlwZXMgLSBEZWZlbmRpbmcgUG9rZW1vbidzIHR5cGVzXHJcbiAqIEByZXR1cm5zIE9iamVjdCB3aXRoIGRhbWFnZSwgdHlwZSBlZmZlY3RpdmVuZXNzIG11bHRpcGxpZXIsIGFuZCBlZmZlY3RpdmVuZXNzIHRleHRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVEYW1hZ2UoXHJcbiAgbGV2ZWw6IG51bWJlcixcclxuICBwb3dlcjogbnVtYmVyLFxyXG4gIGF0dGFjazogbnVtYmVyLFxyXG4gIGRlZmVuc2U6IG51bWJlcixcclxuICBhdHRhY2tUeXBlOiBQb2tlbW9uVHlwZSxcclxuICBkZWZlbmRlclR5cGVzOiBQb2tlbW9uVHlwZVtdLFxyXG4gIGF0dGFja2VyVHlwZXM6IFBva2Vtb25UeXBlW10gPSBbXVxyXG4pOiB7IGRhbWFnZTogbnVtYmVyOyBlZmZlY3RpdmVuZXNzOiBudW1iZXI7IGVmZmVjdGl2ZW5lc3NUZXh0OiBzdHJpbmcgfCBudWxsIH0ge1xyXG4gIC8vIFN0YW5kYXJkIHNpbXBsaWZpZWQgUG9rZW1vbiBkYW1hZ2UgZm9ybXVsYTpcclxuICAvLyBiYXNlID0gKCgoMiAqIEwgLyA1ICsgMikgKiBQb3dlciAqIEF0ayAvIERlZikgLyA1MCkgKyAyXHJcbiAgY29uc3QgbGV2ZWxGYWN0b3IgPSBNYXRoLmZsb29yKCgyICogbGV2ZWwpIC8gNSkgKyAyO1xyXG4gIGNvbnN0IGJhc2UgPSAoKChsZXZlbEZhY3RvciAqIHBvd2VyICogTWF0aC5tYXgoMSwgYXR0YWNrKSkgLyBNYXRoLm1heCgxLCBkZWZlbnNlKSkgLyA1MCkgKyAyO1xyXG5cclxuICAvLyBUeXBlIGVmZmVjdGl2ZW5lc3NcclxuICBjb25zdCB0eXBlTXVsdGlwbGllciA9IGdldFR5cGVFZmZlY3RpdmVuZXNzKGF0dGFja1R5cGUsIGRlZmVuZGVyVHlwZXMpO1xyXG5cclxuICAvLyBTVEFCIChTYW1lLVR5cGUgQXR0YWNrIEJvbnVzKVxyXG4gIGNvbnN0IHN0YWIgPSBhdHRhY2tlclR5cGVzLmluY2x1ZGVzKGF0dGFja1R5cGUpID8gMS41IDogMS4wO1xyXG5cclxuICAvLyBSYW5kb20gZmFjdG9yICgwLjg1IHRvIDEuMDApXHJcbiAgY29uc3QgcmFuZG9tRmFjdG9yID0gMC44NSArIE1hdGgucmFuZG9tKCkgKiAwLjE1O1xyXG5cclxuICAvLyBGaW5hbCBkYW1hZ2VcclxuICBjb25zdCBmaW5hbERhbWFnZSA9IE1hdGguZmxvb3IoYmFzZSAqIHR5cGVNdWx0aXBsaWVyICogc3RhYiAqIHJhbmRvbUZhY3Rvcik7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBkYW1hZ2U6IE1hdGgubWF4KDEsIGZpbmFsRGFtYWdlKSxcclxuICAgIGVmZmVjdGl2ZW5lc3M6IHR5cGVNdWx0aXBsaWVyLFxyXG4gICAgZWZmZWN0aXZlbmVzc1RleHQ6IGdldEVmZmVjdGl2ZW5lc3NUZXh0KHR5cGVNdWx0aXBsaWVyKSxcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogTW92ZSBkYXRhYmFzZSB3aXRoIHR5cGUgYW5kIHBvd2VyXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE1vdmUge1xyXG4gIG5hbWU6IHN0cmluZztcclxuICB0eXBlOiBQb2tlbW9uVHlwZTtcclxuICBwb3dlcjogbnVtYmVyO1xyXG4gIGNhdGVnb3J5OiBcInBoeXNpY2FsXCIgfCBcInNwZWNpYWxcIjtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IE1PVkVTOiBSZWNvcmQ8c3RyaW5nLCBNb3ZlPiA9IHtcclxuICAvLyBOb3JtYWwgbW92ZXNcclxuICBcInRhY2tsZVwiOiB7IG5hbWU6IFwiVGFja2xlXCIsIHR5cGU6IFwibm9ybWFsXCIsIHBvd2VyOiA0MCwgY2F0ZWdvcnk6IFwicGh5c2ljYWxcIiB9LFxyXG4gIFwic2NyYXRjaFwiOiB7IG5hbWU6IFwiU2NyYXRjaFwiLCB0eXBlOiBcIm5vcm1hbFwiLCBwb3dlcjogNDAsIGNhdGVnb3J5OiBcInBoeXNpY2FsXCIgfSxcclxuICBcInF1aWNrLWF0dGFja1wiOiB7IG5hbWU6IFwiUXVpY2sgQXR0YWNrXCIsIHR5cGU6IFwibm9ybWFsXCIsIHBvd2VyOiA0MCwgY2F0ZWdvcnk6IFwicGh5c2ljYWxcIiB9LFxyXG4gIFxyXG4gIC8vIEZpcmUgbW92ZXNcclxuICBcImVtYmVyXCI6IHsgbmFtZTogXCJFbWJlclwiLCB0eXBlOiBcImZpcmVcIiwgcG93ZXI6IDQwLCBjYXRlZ29yeTogXCJzcGVjaWFsXCIgfSxcclxuICBcImZsYW1ldGhyb3dlclwiOiB7IG5hbWU6IFwiRmxhbWV0aHJvd2VyXCIsIHR5cGU6IFwiZmlyZVwiLCBwb3dlcjogOTAsIGNhdGVnb3J5OiBcInNwZWNpYWxcIiB9LFxyXG4gIFxyXG4gIC8vIFdhdGVyIG1vdmVzXHJcbiAgXCJ3YXRlci1ndW5cIjogeyBuYW1lOiBcIldhdGVyIEd1blwiLCB0eXBlOiBcIndhdGVyXCIsIHBvd2VyOiA0MCwgY2F0ZWdvcnk6IFwic3BlY2lhbFwiIH0sXHJcbiAgXCJidWJibGVcIjogeyBuYW1lOiBcIkJ1YmJsZVwiLCB0eXBlOiBcIndhdGVyXCIsIHBvd2VyOiA0MCwgY2F0ZWdvcnk6IFwic3BlY2lhbFwiIH0sXHJcbiAgXHJcbiAgLy8gR3Jhc3MgbW92ZXNcclxuICBcInZpbmUtd2hpcFwiOiB7IG5hbWU6IFwiVmluZSBXaGlwXCIsIHR5cGU6IFwiZ3Jhc3NcIiwgcG93ZXI6IDQ1LCBjYXRlZ29yeTogXCJwaHlzaWNhbFwiIH0sXHJcbiAgXCJyYXpvci1sZWFmXCI6IHsgbmFtZTogXCJSYXpvciBMZWFmXCIsIHR5cGU6IFwiZ3Jhc3NcIiwgcG93ZXI6IDU1LCBjYXRlZ29yeTogXCJwaHlzaWNhbFwiIH0sXHJcbiAgXHJcbiAgLy8gRWxlY3RyaWMgbW92ZXNcclxuICBcInRodW5kZXItc2hvY2tcIjogeyBuYW1lOiBcIlRodW5kZXIgU2hvY2tcIiwgdHlwZTogXCJlbGVjdHJpY1wiLCBwb3dlcjogNDAsIGNhdGVnb3J5OiBcInNwZWNpYWxcIiB9LFxyXG4gIFwidGh1bmRlcmJvbHRcIjogeyBuYW1lOiBcIlRodW5kZXJib2x0XCIsIHR5cGU6IFwiZWxlY3RyaWNcIiwgcG93ZXI6IDkwLCBjYXRlZ29yeTogXCJzcGVjaWFsXCIgfSxcclxuICBcclxuICAvLyBPdGhlciBtb3Zlc1xyXG4gIFwicG93ZGVyLXNub3dcIjogeyBuYW1lOiBcIlBvd2RlciBTbm93XCIsIHR5cGU6IFwiaWNlXCIsIHBvd2VyOiA0MCwgY2F0ZWdvcnk6IFwic3BlY2lhbFwiIH0sXHJcbiAgXCJrYXJhdGUtY2hvcFwiOiB7IG5hbWU6IFwiS2FyYXRlIENob3BcIiwgdHlwZTogXCJmaWdodGluZ1wiLCBwb3dlcjogNTAsIGNhdGVnb3J5OiBcInBoeXNpY2FsXCIgfSxcclxuICBcInBvaXNvbi1zdGluZ1wiOiB7IG5hbWU6IFwiUG9pc29uIFN0aW5nXCIsIHR5cGU6IFwicG9pc29uXCIsIHBvd2VyOiAxNSwgY2F0ZWdvcnk6IFwicGh5c2ljYWxcIiB9LFxyXG4gIFwibXVkLXNsYXBcIjogeyBuYW1lOiBcIk11ZCBTbGFwXCIsIHR5cGU6IFwiZ3JvdW5kXCIsIHBvd2VyOiAyMCwgY2F0ZWdvcnk6IFwic3BlY2lhbFwiIH0sXHJcbiAgXCJndXN0XCI6IHsgbmFtZTogXCJHdXN0XCIsIHR5cGU6IFwiZmx5aW5nXCIsIHBvd2VyOiA0MCwgY2F0ZWdvcnk6IFwic3BlY2lhbFwiIH0sXHJcbiAgXCJjb25mdXNpb25cIjogeyBuYW1lOiBcIkNvbmZ1c2lvblwiLCB0eXBlOiBcInBzeWNoaWNcIiwgcG93ZXI6IDUwLCBjYXRlZ29yeTogXCJzcGVjaWFsXCIgfSxcclxuICBcImJ1Zy1iaXRlXCI6IHsgbmFtZTogXCJCdWcgQml0ZVwiLCB0eXBlOiBcImJ1Z1wiLCBwb3dlcjogNjAsIGNhdGVnb3J5OiBcInBoeXNpY2FsXCIgfSxcclxuICBcInJvY2stdGhyb3dcIjogeyBuYW1lOiBcIlJvY2sgVGhyb3dcIiwgdHlwZTogXCJyb2NrXCIsIHBvd2VyOiA1MCwgY2F0ZWdvcnk6IFwicGh5c2ljYWxcIiB9LFxyXG4gIFwibGlja1wiOiB7IG5hbWU6IFwiTGlja1wiLCB0eXBlOiBcImdob3N0XCIsIHBvd2VyOiAzMCwgY2F0ZWdvcnk6IFwicGh5c2ljYWxcIiB9LFxyXG4gIFwiZHJhZ29uLWJyZWF0aFwiOiB7IG5hbWU6IFwiRHJhZ29uIEJyZWF0aFwiLCB0eXBlOiBcImRyYWdvblwiLCBwb3dlcjogNjAsIGNhdGVnb3J5OiBcInNwZWNpYWxcIiB9LFxyXG4gIFwiYml0ZVwiOiB7IG5hbWU6IFwiQml0ZVwiLCB0eXBlOiBcImRhcmtcIiwgcG93ZXI6IDYwLCBjYXRlZ29yeTogXCJwaHlzaWNhbFwiIH0sXHJcbiAgXCJtZXRhbC1jbGF3XCI6IHsgbmFtZTogXCJNZXRhbCBDbGF3XCIsIHR5cGU6IFwic3RlZWxcIiwgcG93ZXI6IDUwLCBjYXRlZ29yeTogXCJwaHlzaWNhbFwiIH0sXHJcbiAgXCJmYWlyeS13aW5kXCI6IHsgbmFtZTogXCJGYWlyeSBXaW5kXCIsIHR5cGU6IFwiZmFpcnlcIiwgcG93ZXI6IDQwLCBjYXRlZ29yeTogXCJzcGVjaWFsXCIgfSxcclxufTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgbW92ZSBkYXRhLCB3aXRoIGZhbGxiYWNrIHRvIGRlZmF1bHQgdGFja2xlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW92ZURhdGEobW92ZU5hbWU6IHN0cmluZyk6IE1vdmUge1xyXG4gIGNvbnN0IG5vcm1hbGl6ZWROYW1lID0gbW92ZU5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csIFwiLVwiKTtcclxuICByZXR1cm4gTU9WRVNbbm9ybWFsaXplZE5hbWVdIHx8IE1PVkVTW1widGFja2xlXCJdO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJUWVBFX0VGRkVDVElWRU5FU1MiLCJub3JtYWwiLCJyb2NrIiwiZ2hvc3QiLCJzdGVlbCIsImZpcmUiLCJ3YXRlciIsImdyYXNzIiwiaWNlIiwiYnVnIiwiZHJhZ29uIiwiZ3JvdW5kIiwiZWxlY3RyaWMiLCJmbHlpbmciLCJwb2lzb24iLCJmaWdodGluZyIsInBzeWNoaWMiLCJkYXJrIiwiZmFpcnkiLCJnZXRUeXBlRWZmZWN0aXZlbmVzcyIsImF0dGFja1R5cGUiLCJkZWZlbmRlclR5cGVzIiwibXVsdGlwbGllciIsImRlZlR5cGUiLCJlZmZlY3RpdmVuZXNzIiwidW5kZWZpbmVkIiwiZ2V0RWZmZWN0aXZlbmVzc1RleHQiLCJjYWxjdWxhdGVEYW1hZ2UiLCJsZXZlbCIsInBvd2VyIiwiYXR0YWNrIiwiZGVmZW5zZSIsImF0dGFja2VyVHlwZXMiLCJsZXZlbEZhY3RvciIsIk1hdGgiLCJmbG9vciIsImJhc2UiLCJtYXgiLCJ0eXBlTXVsdGlwbGllciIsInN0YWIiLCJpbmNsdWRlcyIsInJhbmRvbUZhY3RvciIsInJhbmRvbSIsImZpbmFsRGFtYWdlIiwiZGFtYWdlIiwiZWZmZWN0aXZlbmVzc1RleHQiLCJNT1ZFUyIsIm5hbWUiLCJ0eXBlIiwiY2F0ZWdvcnkiLCJnZXRNb3ZlRGF0YSIsIm1vdmVOYW1lIiwibm9ybWFsaXplZE5hbWUiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./lib/typeEffectiveness.ts\n");

/***/ })

};
;